"use strict";(globalThis.webpackChunkreact_email_dnd_docs=globalThis.webpackChunkreact_email_dnd_docs||[]).push([[583],{5297:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var s=n(7378),r=n(2767),a=n(4338),o=n(9046),i=n(5108),l=n(642),c=n(6106);if("undefined"!=typeof window){const e=console.error.bind(console),t=console.warn.bind(console),n=console.log.bind(console);console.error=(...t)=>{const n=String(t.join(" "));n.includes("ResizeObserver loop")||n.includes("ResizeObserver loop completed with undelivered notifications")||e(...t)},console.warn=(...e)=>{const n=String(e.join(" "));n.includes("ResizeObserver loop")||n.includes("ResizeObserver loop completed with undelivered notifications")||t(...e)},console.log=(...e)=>{const t=String(e.join(" "));t.includes("ResizeObserver loop")||t.includes("ResizeObserver loop completed with undelivered notifications")||n(...e)};const s=e=>{const t=e.message||String(e.error||"");if(t.includes("ResizeObserver loop")||t.includes("ResizeObserver loop completed with undelivered notifications"))return e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),!1},r=e=>{const t=String(e.reason||"");if(t.includes("ResizeObserver loop")||t.includes("ResizeObserver loop completed with undelivered notifications"))return e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),!1};window.addEventListener("error",s,!0),window.addEventListener("unhandledrejection",r,!0),document.addEventListener("error",s,!0)}const d={version:1,meta:{title:"Monochrome welcome",previewText:"Minimal palettes, maximal control."},variables:{},sections:[{id:"section-hero",type:"section",align:"left",padding:"8",margin:"0",rows:[{id:"row-hero",type:"row",gutter:16,padding:"0",margin:"0",align:"left",columns:[{id:"column-hero",type:"column",align:"left",padding:"0",margin:"0",blocks:[{id:"heading-hero",type:"heading",props:{content:"Build perfect emails",as:"h2",align:"left",fontSize:26,color:"#FFFFFF",lineHeight:"1.4",fontWeight:"600",margin:"0 0 16px"}},{id:"text-hero",type:"text",props:{content:"Drag, customize, and ship email layouts with the exact tokens your brand approves",align:"left",fontSize:16,color:"#FFFFFF",lineHeight:"1.6",margin:"0 0 20px"}},{id:"button-hero",type:"button",props:{label:"Send in black & white",href:"#",align:"left",backgroundColor:"#000000",color:"#ffffff",borderRadius:4,padding:"12px 24px",fontSize:14,fontWeight:"600",margin:"0"}}]}]}]}]};function u(){const e=n(7378),{CanvasProvider:t,EmailEditor:s}=n(7536),[a,o]=e.useState("dark");return(0,c.jsxs)("div",{id:"tw-scope",className:"flex w-full flex-col gap-3","data-theme":a,children:[(0,c.jsx)("div",{className:"flex w-full flex-wrap justify-center gap-2 p-2",role:"toolbar","aria-label":"Theme selector",children:[{label:"Light",value:"light"},{label:"Dark",value:"dark"},{label:"Synthwave",value:"synthwave"},{label:"Dim",value:"dim"},{label:"Lo-fi",value:"lofi"},{label:"Retro",value:"retro"}].map(e=>(0,c.jsx)("button",{type:"button",onClick:()=>o(e.value),className:(0,r.A)("min-w-[120px] flex-1 basis-[140px] btn btn-sm rounded-full px-4 py-1 text-sm tracking-wide text-neutral transition-colors",{"bg-primary text-primary-content":a===e.value},{"bg-neutral text-neutral-content":a!==e.value}),"aria-pressed":a===e.value,children:e.label},e.value))}),(0,c.jsx)("div",{className:"w-full  overflow-auto rounded-2xl border border-base-300 bg-primary/10 p-3 shadow-inner",children:(0,c.jsx)("div",{className:"rounded-2xl border border-base-300 bg-primary/10 p-2",children:(0,c.jsx)(t,{initialDocument:d,onDocumentChange:()=>{},className:"flex h-full w-full min-w-0 flex-col",children:(0,c.jsx)(s,{className:"flex h-full w-full flex-col",showHeader:!0,daisyui:!0,colorMode:"primary",sideBarColumns:1})})})})]})}function p(){return(0,c.jsx)(l.A,{fallback:(0,c.jsx)("div",{className:"flex h-128 items-center justify-center rounded-xl border border-dashed border-base-300 text-sm text-base-content/70",children:"Loading live editor..."}),children:()=>(0,c.jsx)(u,{})})}function m(){const{siteConfig:e}=(0,o.A)(),t=e.themeConfig;return(0,c.jsx)("header",{className:"bg-primary py-[clamp(3.5rem,8vw,6rem)]",children:(0,c.jsx)("div",{className:"container mx-auto max-w-7xl px-4",children:(0,c.jsxs)("div",{className:"flex flex-col gap-[clamp(2.5rem,6vw,4rem)]",children:[(0,c.jsxs)("div",{className:"mx-auto flex flex-col items-center px-3 text-center",children:[(0,c.jsxs)("h1",{className:"mb-4 inline-flex flex-wrap items-center justify-center gap-2 text-white",children:[t.navbar?.logo?.src&&(0,c.jsx)("img",{src:t.navbar.logo.src,alt:e.title,className:"h-auto w-12 md:w-24"}),e.title,(0,c.jsx)("div",{className:"text-xs text-base-content/70 border border-base-content/70 rounded-full px-2 py-1",children:"Beta"})]}),(0,c.jsxs)("p",{className:"mb-8 text-center max-w-2xl mx-auto leading-[1.7] text-base-content/80",children:["Editor, Renderer and utilities to make visual email editing for React Email. Built with custom styling, or integrated with"," ",(0,c.jsx)("a",{href:"https://daisyui.com/",target:"_blank",rel:"noopener noreferrer",className:"underline! text-base-content!",children:"DaisyUI"}),"."]}),(0,c.jsxs)("div",{className:"flex w-full flex-col items-center justify-center gap-4 lg:flex-row no-underline!",children:[(0,c.jsx)(a.A,{className:"btn btn-lg btn-neutral rounded-full text-neutral-content! no-underline!",to:"/docs/quickstart",children:"Get Started"}),(0,c.jsx)(a.A,{className:"btn btn-lg! btn-outline! hover:btn-primary! hover:text-primary-content! no-underline! rounded-full text-neutral!",to:"/docs/json-structure",children:"Read the docs"})]})]}),(0,c.jsxs)("div",{className:"flex w-full flex-col items-center gap-3 px-3 lg:px-0",children:[(0,c.jsx)("p",{className:"w-full text-center text-sm uppercase tracking-widest text-base-content/70",children:"Working example"}),(0,c.jsx)("div",{className:"w-full overflow-hidden rounded-2xl border border-base-300 bg-base-100 p-[clamp(0.75rem,3vw,1.25rem)] shadow-2xl",children:(0,c.jsx)("div",{className:"h-192 md:h-128 overflow-hidden rounded-xl bg-linear-to-br from-base-200 to-base-300",children:(0,c.jsx)(p,{})})})]})]})})})}const h=[{name:"@react-email-dnd/editor",type:"Editor",description:"Drag-and-drop editor surface, Canvas orchestration, ready UI.",href:"https://www.npmjs.com/package/@react-email-dnd/editor"},{name:"@react-email-dnd/renderer",type:"Renderer",description:"Render Canvas documents to HTML, React trees, or text output.",href:"https://www.npmjs.com/package/@react-email-dnd/renderer"},{name:"@react-email-dnd/shared",type:"Validation & Utilities",description:"Shared types, schema validation, and padding/color helpers.",href:"https://www.npmjs.com/package/@react-email-dnd/shared"}];function g(){return(0,c.jsx)("section",{className:"bg-base-200! py-[clamp(3rem,7vw,4.5rem)] text-base-content",children:(0,c.jsxs)("div",{className:"container mx-auto max-w-7xl px-4",children:[(0,c.jsx)("h2",{className:"mb-4 text-center text-3xl",children:"Packages on npm"}),(0,c.jsxs)("p",{className:"mb-12 text-center",children:[(0,c.jsx)("code",{className:"text-primary! bg-base-100! rounded-md px-1 py-0.5",children:"@react-email-dnd"})," ","is divided up in to multiple packages."]}),(0,c.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:h.map(e=>(0,c.jsxs)("a",{className:"card card-border bg-base-300! p-6 no-underline! text-primary! transition hover:-translate-y-1 hover:shadow-xl",href:e.href,target:"_blank",rel:"noreferrer",children:[(0,c.jsx)("span",{className:"mb-2 text-xs uppercase tracking-widest text-base-content/60",children:e.type}),(0,c.jsx)("h3",{className:"mb-2 text-lg text-primary! font-semibold",children:e.name}),(0,c.jsx)("p",{className:"mb-4 text-sm leading-relaxed text-base-content/70!",children:e.description}),(0,c.jsx)("span",{className:"mt-auto text-sm text-primary",children:"View on npm \u2192"})]},e.name))})]})})}function b(){return(0,c.jsx)("section",{className:"bg-base-200 py-[clamp(3rem,7vw,4.5rem)] text-base-content",children:(0,c.jsxs)("div",{className:"container mx-auto max-w-7xl px-4",children:[(0,c.jsx)("h2",{className:"mb-4 text-center text-3xl",children:"Features"}),(0,c.jsx)("p",{className:"mb-12 text-center",children:"Everything you need to build beautiful, production-ready emails"}),(0,c.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[{icon:"ph-fill ph-palette",title:"Customizable",link:"docs/packages/editor/styling-colors-paddings",description:"Custom styles, colors, and complete control over your email design system. Match your brand perfectly."},{icon:"ph-fill ph-text-aa",title:"Custom Fonts",link:"docs/packages/editor/fonts",description:"Bring any font you want. Full support for custom web fonts to maintain brand consistency."},{icon:"ph-fill ph-envelope-simple",title:"Built on React Email",link:"/docs/intro",description:"Leverages the power of React Email framework for reliable, production-ready email rendering."},{icon:"ph-fill ph-cube",title:"Custom Components",link:"/docs/custom-components",description:"Bring any React Email block, add variables, and create reusable components for your team."}].map(e=>(0,c.jsxs)(a.A,{to:e.link,className:"card card-border bg-base-300! no-underline! text-primary! p-6 transition-all duration-300! ease-out hover:scale-105 hover:shadow-xl",children:[(0,c.jsx)("div",{className:"mb-4 flex h-12 w-12 items-center justify-center rounded-xl bg-primary/10",children:(0,c.jsx)("i",{className:(0,r.A)(e.icon,"text-2xl text-primary"),"aria-hidden":"true"})}),(0,c.jsx)("h3",{className:"mb-2 text-lg font-semibold",children:e.title}),(0,c.jsx)("p",{className:"text-sm leading-relaxed text-base-content/70",children:e.description})]},e.title))})]})})}function f(){return s.useEffect(()=>{const e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.href="https://cdn.jsdelivr.net/npm/@phosphor-icons/web@2.1.1/src/fill/style.css",document.head.appendChild(e)},[]),(0,c.jsx)(i.A,{title:"React Email DnD docs",description:"Authoring and rendering documentation for the React Email drag-and-drop toolkit",children:(0,c.jsxs)("div",{"data-theme":"dark",children:[(0,c.jsx)(m,{}),(0,c.jsxs)("main",{children:[(0,c.jsx)(g,{}),(0,c.jsx)(b,{})]})]})})}},7536:(e,t,n)=>{n.r(t),n.d(t,{Button:()=>Os,ButtonIcon:()=>Ts,Canvas:()=>fa,CanvasProvider:()=>ys,CanvasStoreContext:()=>bs,DEFAULT_CONTENT_ITEMS:()=>Ca,DEFAULT_STRUCTURE_ITEMS:()=>Na,Divider:()=>Ds,DividerIcon:()=>Ps,EmailEditor:()=>Yo,Header:()=>zo,Heading:()=>Us,HeadingIcon:()=>Hs,Image:()=>Xs,ImageIcon:()=>Ys,Main:()=>va,PropertiesPanel:()=>Go,Sidebar:()=>_a,SidebarItem:()=>ja,Text:()=>rr,TextIcon:()=>sr,addBlockToColumn:()=>Sr,addBlockToColumnAtIndex:()=>Ir,addRowToNewSection:()=>Ar,addRowToSection:()=>Cr,addRowToSectionAtIndex:()=>_r,applyLayoutDefaults:()=>ts,buildBlockDefinitionMap:()=>xr,buildCustomBlockRegistry:()=>vr,buttonBlockPropsSchema:()=>Lt,buttonBlockSchema:()=>qt,buttonDefaults:()=>Ms,buttonDefinition:()=>Rs,canvasColumnSchema:()=>nn,canvasContentBlockSchema:()=>tn,canvasDocumentSchema:()=>on,canvasRowSchema:()=>sn,canvasSectionSchema:()=>rn,cloneCanvasDocument:()=>Gn,createBlockFromSidebar:()=>jr,createContentBlock:()=>rs,createEmptyColumn:()=>ss,createEmptyDocument:()=>Kn,createEmptyRow:()=>ns,createEmptySection:()=>qn,customBlockPropsSchema:()=>Jt,customBlockSchema:()=>en,dividerBlockPropsSchema:()=>Ut,dividerBlockSchema:()=>Qt,dividerDefaults:()=>zs,dividerDefinition:()=>Fs,documentMetaSchema:()=>an,documentsAreEqual:()=>Yn,findBlockById:()=>as,findBlockPosition:()=>Er,findColumnPosition:()=>zr,findRowPosition:()=>Br,findSectionPosition:()=>Fr,getBlockPaletteKey:()=>br,getColumnCountFromStructureId:()=>Nr,getDefaultPaddingOptionEntries:()=>yn,getSidebarBlockId:()=>fr,handleSidebarDrop:()=>Hr,headingBlockPropsSchema:()=>Vt,headingBlockSchema:()=>Yt,headingDefaults:()=>Ws,headingDefinition:()=>Vs,imageBlockPropsSchema:()=>Ht,imageBlockSchema:()=>Xt,imageDefaults:()=>qs,imageDefinition:()=>Gs,insertEmptySectionAfter:()=>Tr,insertEmptySectionAt:()=>Or,insertRowToSectionAt:()=>Rr,isCanvasDocument:()=>un,isValidCanvasDocument:()=>li,moveBlockToColumn:()=>Pr,moveColumnToRow:()=>Zr,moveRowToSection:()=>Dr,moveSectionToPosition:()=>Lr,normalizePaddingOptions:()=>vn,parseCanvasDocument:()=>ln,removeBlock:()=>qr,removeColumn:()=>Kr,removeRow:()=>Jr,removeSection:()=>Ur,renderEmailDocument:()=>oi,replaceColumnStructure:()=>$r,replaceRowStructure:()=>Mr,safeParseCanvasDocument:()=>cn,serializeCanvasDocument:()=>mi,textBlockPropsSchema:()=>Wt,textBlockSchema:()=>Gt,textDefaults:()=>tr,textDefinition:()=>nr,updateBlockProps:()=>os,updateColumnProps:()=>cs,updateRowProps:()=>ls,updateSectionProps:()=>is,useCanvasStore:()=>ws,validateCanvasDocument:()=>dn,validateEmailStructure:()=>ii});var s,r,a,o=Object.defineProperty,i={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(i,{BRAND:()=>Ze,DIRTY:()=>N,EMPTY_PATH:()=>x,INVALID:()=>j,NEVER:()=>Et,OK:()=>C,ParseStatus:()=>k,Schema:()=>O,ZodAny:()=>pe,ZodArray:()=>be,ZodBigInt:()=>oe,ZodBoolean:()=>ie,ZodBranded:()=>Le,ZodCatch:()=>Pe,ZodDate:()=>le,ZodDefault:()=>Fe,ZodDiscriminatedUnion:()=>we,ZodEffects:()=>Ee,ZodEnum:()=>Re,ZodError:()=>p,ZodFirstPartyTypeKind:()=>Je,ZodFunction:()=>Se,ZodIntersection:()=>je,ZodIssueCode:()=>d,ZodLazy:()=>Ie,ZodLiteral:()=>$e,ZodMap:()=>_e,ZodNaN:()=>De,ZodNativeEnum:()=>Te,ZodNever:()=>he,ZodNull:()=>ue,ZodNullable:()=>ze,ZodNumber:()=>ae,ZodObject:()=>xe,ZodOptional:()=>Be,ZodParsedType:()=>l,ZodPipeline:()=>We,ZodPromise:()=>Oe,ZodReadonly:()=>Ve,ZodRecord:()=>Ce,ZodSchema:()=>O,ZodSet:()=>Ae,ZodString:()=>se,ZodSymbol:()=>ce,ZodTransformer:()=>Ee,ZodTuple:()=>Ne,ZodType:()=>O,ZodUndefined:()=>de,ZodUnion:()=>ve,ZodUnknown:()=>me,ZodVoid:()=>ge,addIssueToContext:()=>v,any:()=>ot,array:()=>dt,bigint:()=>et,boolean:()=>tt,coerce:()=>Ot,custom:()=>Ue,date:()=>nt,datetimeRegex:()=>Q,defaultErrorMap:()=>m,discriminatedUnion:()=>ht,effect:()=>_t,enum:()=>jt,function:()=>yt,getErrorMap:()=>b,getParsedType:()=>c,instanceof:()=>Ge,intersection:()=>gt,isAborted:()=>_,isAsync:()=>I,isDirty:()=>A,isValid:()=>S,late:()=>qe,lazy:()=>wt,literal:()=>kt,makeIssue:()=>f,map:()=>xt,nan:()=>Qe,nativeEnum:()=>Nt,never:()=>lt,null:()=>at,nullable:()=>St,number:()=>Xe,object:()=>ut,objectUtil:()=>a,oboolean:()=>Tt,onumber:()=>Rt,optional:()=>At,ostring:()=>Mt,pipeline:()=>$t,preprocess:()=>It,promise:()=>Ct,quotelessJson:()=>u,record:()=>ft,set:()=>vt,setErrorMap:()=>g,strictObject:()=>pt,string:()=>Ye,symbol:()=>st,transformer:()=>_t,tuple:()=>bt,undefined:()=>rt,union:()=>mt,unknown:()=>it,util:()=>s,void:()=>ct}),(r=s||(s={})).assertEqual=e=>{},r.assertIs=function(e){},r.assertNever=function(e){throw new Error},r.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},r.getValidEnumValues=e=>{const t=r.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),n={};for(const s of t)n[s]=e[s];return r.objectValues(n)},r.objectValues=e=>r.objectKeys(e).map(function(t){return e[t]}),r.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},r.find=(e,t)=>{for(const n of e)if(t(n))return n},r.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,r.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},r.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(a||(a={})).mergeShapes=(e,t)=>({...e,...t});var l=s.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),c=e=>{switch(typeof e){case"undefined":return l.undefined;case"string":return l.string;case"number":return Number.isNaN(e)?l.nan:l.number;case"boolean":return l.boolean;case"function":return l.function;case"bigint":return l.bigint;case"symbol":return l.symbol;case"object":return Array.isArray(e)?l.array:null===e?l.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?l.promise:"undefined"!=typeof Map&&e instanceof Map?l.map:"undefined"!=typeof Set&&e instanceof Set?l.set:"undefined"!=typeof Date&&e instanceof Date?l.date:l.object;default:return l.unknown}},d=s.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),u=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),p=class e extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},s=e=>{for(const r of e.issues)if("invalid_union"===r.code)r.unionErrors.map(s);else if("invalid_return_type"===r.code)s(r.returnTypeError);else if("invalid_arguments"===r.code)s(r.argumentsError);else if(0===r.path.length)n._errors.push(t(r));else{let e=n,s=0;for(;s<r.path.length;){const n=r.path[s];s===r.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(r))):e[n]=e[n]||{_errors:[]},e=e[n],s++}}};return s(this),n}static assert(t){if(!(t instanceof e))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,s.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},n=[];for(const s of this.issues)if(s.path.length>0){const n=s.path[0];t[n]=t[n]||[],t[n].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}};p.create=e=>new p(e);var m=(e,t)=>{let n;switch(e.code){case d.invalid_type:n=e.received===l.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case d.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,s.jsonStringifyReplacer)}`;break;case d.unrecognized_keys:n=`Unrecognized key(s) in object: ${s.joinValues(e.keys,", ")}`;break;case d.invalid_union:n="Invalid input";break;case d.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${s.joinValues(e.options)}`;break;case d.invalid_enum_value:n=`Invalid enum value. Expected ${s.joinValues(e.options)}, received '${e.received}'`;break;case d.invalid_arguments:n="Invalid function arguments";break;case d.invalid_return_type:n="Invalid function return type";break;case d.invalid_date:n="Invalid date";break;case d.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:s.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case d.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case d.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case d.custom:n="Invalid input";break;case d.invalid_intersection_types:n="Intersection results could not be merged";break;case d.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case d.not_finite:n="Number must be finite";break;default:n=t.defaultError,s.assertNever(e)}return{message:n}},h=m;function g(e){h=e}function b(){return h}var f=e=>{const{data:t,path:n,errorMaps:s,issueData:r}=e,a=[...n,...r.path||[]],o={...r,path:a};if(void 0!==r.message)return{...r,path:a,message:r.message};let i="";const l=s.filter(e=>!!e).slice().reverse();for(const c of l)i=c(o,{data:t,defaultError:i}).message;return{...r,path:a,message:i}},x=[];function v(e,t){const n=b(),s=f({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===m?void 0:m].filter(e=>!!e)});e.common.issues.push(s)}var y,w,k=class e{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const s of t){if("aborted"===s.status)return j;"dirty"===s.status&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(t,n){const s=[];for(const e of n){const t=await e.key,n=await e.value;s.push({key:t,value:n})}return e.mergeObjectSync(t,s)}static mergeObjectSync(e,t){const n={};for(const s of t){const{key:t,value:r}=s;if("aborted"===t.status)return j;if("aborted"===r.status)return j;"dirty"===t.status&&e.dirty(),"dirty"===r.status&&e.dirty(),"__proto__"===t.value||void 0===r.value&&!s.alwaysSet||(n[t.value]=r.value)}return{status:e.value,value:n}}},j=Object.freeze({status:"aborted"}),N=e=>({status:"dirty",value:e}),C=e=>({status:"valid",value:e}),_=e=>"aborted"===e.status,A=e=>"dirty"===e.status,S=e=>"valid"===e.status,I=e=>"undefined"!=typeof Promise&&e instanceof Promise;(w=y||(y={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},w.toString=e=>"string"==typeof e?e:e?.message;var $=class{constructor(e,t,n,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},M=(e,t)=>{if(S(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new p(e.common.issues);return this._error=t,this._error}}};function R(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:s,description:r}=e;if(t&&(n||s))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:r};return{errorMap:(t,r)=>{const{message:a}=e;return"invalid_enum_value"===t.code?{message:a??r.defaultError}:void 0===r.data?{message:a??s??r.defaultError}:"invalid_type"!==t.code?{message:r.defaultError}:{message:a??n??r.defaultError}},description:r}}var T,O=class{get description(){return this._def.description}_getType(e){return c(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:c(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new k,ctx:{common:e.parent.common,data:e.data,parsedType:c(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(I(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){const n={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:c(e)},s=this._parseSync({data:e,path:n.path,parent:n});return M(n,s)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:c(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:t});return S(n)?{value:n.value}:{issues:t.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>S(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:c(e)},s=this._parse({data:e,path:n.path,parent:n}),r=await(I(s)?s:Promise.resolve(s));return M(n,r)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,s)=>{const r=e(t),a=()=>s.addIssue({code:d.custom,...n(t)});return"undefined"!=typeof Promise&&r instanceof Promise?r.then(e=>!!e||(a(),!1)):!!r||(a(),!1)})}refinement(e,t){return this._refinement((n,s)=>!!e(n)||(s.addIssue("function"==typeof t?t(n,s):t),!1))}_refinement(e){return new Ee({schema:this,typeName:Je.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return Be.create(this,this._def)}nullable(){return ze.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return be.create(this)}promise(){return Oe.create(this,this._def)}or(e){return ve.create([this,e],this._def)}and(e){return je.create(this,e,this._def)}transform(e){return new Ee({...R(this._def),schema:this,typeName:Je.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new Fe({...R(this._def),innerType:this,defaultValue:t,typeName:Je.ZodDefault})}brand(){return new Le({typeName:Je.ZodBranded,type:this,...R(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new Pe({...R(this._def),innerType:this,catchValue:t,typeName:Je.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return We.create(this,e)}readonly(){return Ve.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},E=/^c[^\s-]{8,}$/i,B=/^[0-9a-z]+$/,z=/^[0-9A-HJKMNP-TV-Z]{26}$/i,F=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,P=/^[a-z0-9_-]{21}$/i,D=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Z=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,L=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,W=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,V=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,H=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,U=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,J=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,K=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,q="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",G=new RegExp(`^${q}$`);function Y(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${e.precision?"+":"?"}`}function X(e){return new RegExp(`^${Y(e)}$`)}function Q(e){let t=`${q}T${Y(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function ee(e,t){return!("v4"!==t&&t||!W.test(e))||!("v6"!==t&&t||!H.test(e))}function te(e,t){if(!D.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const s=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),r=JSON.parse(atob(s));return"object"==typeof r&&null!==r&&((!("typ"in r)||"JWT"===r?.typ)&&(!!r.alg&&(!t||r.alg===t)))}catch{return!1}}function ne(e,t){return!("v4"!==t&&t||!V.test(e))||!("v6"!==t&&t||!U.test(e))}var se=class e extends O{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==l.string){const t=this._getOrReturnCtx(e);return v(t,{code:d.invalid_type,expected:l.string,received:t.parsedType}),j}const t=new k;let n;for(const r of this._def.checks)if("min"===r.kind)e.data.length<r.value&&(n=this._getOrReturnCtx(e,n),v(n,{code:d.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("max"===r.kind)e.data.length>r.value&&(n=this._getOrReturnCtx(e,n),v(n,{code:d.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("length"===r.kind){const s=e.data.length>r.value,a=e.data.length<r.value;(s||a)&&(n=this._getOrReturnCtx(e,n),s?v(n,{code:d.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):a&&v(n,{code:d.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),t.dirty())}else if("email"===r.kind)L.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"email",code:d.invalid_string,message:r.message}),t.dirty());else if("emoji"===r.kind)T||(T=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),T.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"emoji",code:d.invalid_string,message:r.message}),t.dirty());else if("uuid"===r.kind)F.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"uuid",code:d.invalid_string,message:r.message}),t.dirty());else if("nanoid"===r.kind)P.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"nanoid",code:d.invalid_string,message:r.message}),t.dirty());else if("cuid"===r.kind)E.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"cuid",code:d.invalid_string,message:r.message}),t.dirty());else if("cuid2"===r.kind)B.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"cuid2",code:d.invalid_string,message:r.message}),t.dirty());else if("ulid"===r.kind)z.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"ulid",code:d.invalid_string,message:r.message}),t.dirty());else if("url"===r.kind)try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),v(n,{validation:"url",code:d.invalid_string,message:r.message}),t.dirty()}else if("regex"===r.kind){r.regex.lastIndex=0;r.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"regex",code:d.invalid_string,message:r.message}),t.dirty())}else if("trim"===r.kind)e.data=e.data.trim();else if("includes"===r.kind)e.data.includes(r.value,r.position)||(n=this._getOrReturnCtx(e,n),v(n,{code:d.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),t.dirty());else if("toLowerCase"===r.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===r.kind)e.data=e.data.toUpperCase();else if("startsWith"===r.kind)e.data.startsWith(r.value)||(n=this._getOrReturnCtx(e,n),v(n,{code:d.invalid_string,validation:{startsWith:r.value},message:r.message}),t.dirty());else if("endsWith"===r.kind)e.data.endsWith(r.value)||(n=this._getOrReturnCtx(e,n),v(n,{code:d.invalid_string,validation:{endsWith:r.value},message:r.message}),t.dirty());else if("datetime"===r.kind){Q(r).test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{code:d.invalid_string,validation:"datetime",message:r.message}),t.dirty())}else if("date"===r.kind){G.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{code:d.invalid_string,validation:"date",message:r.message}),t.dirty())}else if("time"===r.kind){X(r).test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{code:d.invalid_string,validation:"time",message:r.message}),t.dirty())}else"duration"===r.kind?Z.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"duration",code:d.invalid_string,message:r.message}),t.dirty()):"ip"===r.kind?ee(e.data,r.version)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"ip",code:d.invalid_string,message:r.message}),t.dirty()):"jwt"===r.kind?te(e.data,r.alg)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"jwt",code:d.invalid_string,message:r.message}),t.dirty()):"cidr"===r.kind?ne(e.data,r.version)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"cidr",code:d.invalid_string,message:r.message}),t.dirty()):"base64"===r.kind?J.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"base64",code:d.invalid_string,message:r.message}),t.dirty()):"base64url"===r.kind?K.test(e.data)||(n=this._getOrReturnCtx(e,n),v(n,{validation:"base64url",code:d.invalid_string,message:r.message}),t.dirty()):s.assertNever(r);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement(t=>e.test(t),{validation:t,code:d.invalid_string,...y.errToObj(n)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(e){return this._addCheck({kind:"email",...y.errToObj(e)})}url(e){return this._addCheck({kind:"url",...y.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...y.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...y.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...y.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...y.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...y.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...y.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...y.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...y.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...y.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...y.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...y.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...y.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...y.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...y.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...y.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...y.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...y.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...y.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...y.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...y.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...y.errToObj(t)})}nonempty(e){return this.min(1,y.errToObj(e))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}};function re(e,t){const n=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,r=n>s?n:s;return Number.parseInt(e.toFixed(r).replace(".",""))%Number.parseInt(t.toFixed(r).replace(".",""))/10**r}se.create=e=>new se({checks:[],typeName:Je.ZodString,coerce:e?.coerce??!1,...R(e)});var ae=class e extends O{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==l.number){const t=this._getOrReturnCtx(e);return v(t,{code:d.invalid_type,expected:l.number,received:t.parsedType}),j}let t;const n=new k;for(const r of this._def.checks)if("int"===r.kind)s.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),v(t,{code:d.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),v(t,{code:d.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),v(t,{code:d.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==re(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),v(t,{code:d.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),v(t,{code:d.not_finite,message:r.message}),n.dirty()):s.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,y.toString(t))}gt(e,t){return this.setLimit("min",e,!1,y.toString(t))}lte(e,t){return this.setLimit("max",e,!0,y.toString(t))}lt(e,t){return this.setLimit("max",e,!1,y.toString(t))}setLimit(t,n,s,r){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:y.toString(r)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(e){return this._addCheck({kind:"int",message:y.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:y.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:y.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:y.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:y.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:y.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:y.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:y.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:y.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&s.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}};ae.create=e=>new ae({checks:[],typeName:Je.ZodNumber,coerce:e?.coerce||!1,...R(e)});var oe=class e extends O{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==l.bigint)return this._getInvalidInput(e);let t;const n=new k;for(const r of this._def.checks)if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),v(t,{code:d.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),v(t,{code:d.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),v(t,{code:d.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):s.assertNever(r);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return v(t,{code:d.invalid_type,expected:l.bigint,received:t.parsedType}),j}gte(e,t){return this.setLimit("min",e,!0,y.toString(t))}gt(e,t){return this.setLimit("min",e,!1,y.toString(t))}lte(e,t){return this.setLimit("max",e,!0,y.toString(t))}lt(e,t){return this.setLimit("max",e,!1,y.toString(t))}setLimit(t,n,s,r){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:y.toString(r)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:y.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:y.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:y.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:y.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:y.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}};oe.create=e=>new oe({checks:[],typeName:Je.ZodBigInt,coerce:e?.coerce??!1,...R(e)});var ie=class extends O{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==l.boolean){const t=this._getOrReturnCtx(e);return v(t,{code:d.invalid_type,expected:l.boolean,received:t.parsedType}),j}return C(e.data)}};ie.create=e=>new ie({typeName:Je.ZodBoolean,coerce:e?.coerce||!1,...R(e)});var le=class e extends O{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==l.date){const t=this._getOrReturnCtx(e);return v(t,{code:d.invalid_type,expected:l.date,received:t.parsedType}),j}if(Number.isNaN(e.data.getTime())){return v(this._getOrReturnCtx(e),{code:d.invalid_date}),j}const t=new k;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),v(n,{code:d.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),v(n,{code:d.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):s.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:y.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:y.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}};le.create=e=>new le({checks:[],coerce:e?.coerce||!1,typeName:Je.ZodDate,...R(e)});var ce=class extends O{_parse(e){if(this._getType(e)!==l.symbol){const t=this._getOrReturnCtx(e);return v(t,{code:d.invalid_type,expected:l.symbol,received:t.parsedType}),j}return C(e.data)}};ce.create=e=>new ce({typeName:Je.ZodSymbol,...R(e)});var de=class extends O{_parse(e){if(this._getType(e)!==l.undefined){const t=this._getOrReturnCtx(e);return v(t,{code:d.invalid_type,expected:l.undefined,received:t.parsedType}),j}return C(e.data)}};de.create=e=>new de({typeName:Je.ZodUndefined,...R(e)});var ue=class extends O{_parse(e){if(this._getType(e)!==l.null){const t=this._getOrReturnCtx(e);return v(t,{code:d.invalid_type,expected:l.null,received:t.parsedType}),j}return C(e.data)}};ue.create=e=>new ue({typeName:Je.ZodNull,...R(e)});var pe=class extends O{constructor(){super(...arguments),this._any=!0}_parse(e){return C(e.data)}};pe.create=e=>new pe({typeName:Je.ZodAny,...R(e)});var me=class extends O{constructor(){super(...arguments),this._unknown=!0}_parse(e){return C(e.data)}};me.create=e=>new me({typeName:Je.ZodUnknown,...R(e)});var he=class extends O{_parse(e){const t=this._getOrReturnCtx(e);return v(t,{code:d.invalid_type,expected:l.never,received:t.parsedType}),j}};he.create=e=>new he({typeName:Je.ZodNever,...R(e)});var ge=class extends O{_parse(e){if(this._getType(e)!==l.undefined){const t=this._getOrReturnCtx(e);return v(t,{code:d.invalid_type,expected:l.void,received:t.parsedType}),j}return C(e.data)}};ge.create=e=>new ge({typeName:Je.ZodVoid,...R(e)});var be=class e extends O{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),s=this._def;if(t.parsedType!==l.array)return v(t,{code:d.invalid_type,expected:l.array,received:t.parsedType}),j;if(null!==s.exactLength){const e=t.data.length>s.exactLength.value,r=t.data.length<s.exactLength.value;(e||r)&&(v(t,{code:e?d.too_big:d.too_small,minimum:r?s.exactLength.value:void 0,maximum:e?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(null!==s.minLength&&t.data.length<s.minLength.value&&(v(t,{code:d.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),null!==s.maxLength&&t.data.length>s.maxLength.value&&(v(t,{code:d.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((e,n)=>s.type._parseAsync(new $(t,e,t.path,n)))).then(e=>k.mergeArray(n,e));const r=[...t.data].map((e,n)=>s.type._parseSync(new $(t,e,t.path,n)));return k.mergeArray(n,r)}get element(){return this._def.type}min(t,n){return new e({...this._def,minLength:{value:t,message:y.toString(n)}})}max(t,n){return new e({...this._def,maxLength:{value:t,message:y.toString(n)}})}length(t,n){return new e({...this._def,exactLength:{value:t,message:y.toString(n)}})}nonempty(e){return this.min(1,e)}};function fe(e){if(e instanceof xe){const t={};for(const n in e.shape){const s=e.shape[n];t[n]=Be.create(fe(s))}return new xe({...e._def,shape:()=>t})}return e instanceof be?new be({...e._def,type:fe(e.element)}):e instanceof Be?Be.create(fe(e.unwrap())):e instanceof ze?ze.create(fe(e.unwrap())):e instanceof Ne?Ne.create(e.items.map(e=>fe(e))):e}be.create=(e,t)=>new be({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Je.ZodArray,...R(t)});var xe=class e extends O{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=s.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==l.object){const t=this._getOrReturnCtx(e);return v(t,{code:d.invalid_type,expected:l.object,received:t.parsedType}),j}const{status:t,ctx:n}=this._processInputParams(e),{shape:s,keys:r}=this._getCached(),a=[];if(!(this._def.catchall instanceof he&&"strip"===this._def.unknownKeys))for(const i in n.data)r.includes(i)||a.push(i);const o=[];for(const i of r){const e=s[i],t=n.data[i];o.push({key:{status:"valid",value:i},value:e._parse(new $(n,t,n.path,i)),alwaysSet:i in n.data})}if(this._def.catchall instanceof he){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of a)o.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)a.length>0&&(v(n,{code:d.unrecognized_keys,keys:a}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of a){const s=n.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new $(n,s,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const e=[];for(const t of o){const n=await t.key,s=await t.value;e.push({key:n,value:s,alwaysSet:t.alwaysSet})}return e}).then(e=>k.mergeObjectSync(t,e)):k.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(t){return y.errToObj,new e({...this._def,unknownKeys:"strict",...void 0!==t?{errorMap:(e,n)=>{const s=this._def.errorMap?.(e,n).message??n.defaultError;return"unrecognized_keys"===e.code?{message:y.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Je.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(t){return new e({...this._def,catchall:t})}pick(t){const n={};for(const e of s.objectKeys(t))t[e]&&this.shape[e]&&(n[e]=this.shape[e]);return new e({...this._def,shape:()=>n})}omit(t){const n={};for(const e of s.objectKeys(this.shape))t[e]||(n[e]=this.shape[e]);return new e({...this._def,shape:()=>n})}deepPartial(){return fe(this)}partial(t){const n={};for(const e of s.objectKeys(this.shape)){const s=this.shape[e];t&&!t[e]?n[e]=s:n[e]=s.optional()}return new e({...this._def,shape:()=>n})}required(t){const n={};for(const e of s.objectKeys(this.shape))if(t&&!t[e])n[e]=this.shape[e];else{let t=this.shape[e];for(;t instanceof Be;)t=t._def.innerType;n[e]=t}return new e({...this._def,shape:()=>n})}keyof(){return Me(s.objectKeys(this.shape))}};xe.create=(e,t)=>new xe({shape:()=>e,unknownKeys:"strip",catchall:he.create(),typeName:Je.ZodObject,...R(t)}),xe.strictCreate=(e,t)=>new xe({shape:()=>e,unknownKeys:"strict",catchall:he.create(),typeName:Je.ZodObject,...R(t)}),xe.lazycreate=(e,t)=>new xe({shape:e,unknownKeys:"strip",catchall:he.create(),typeName:Je.ZodObject,...R(t)});var ve=class extends O{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map(async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}})).then(function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const s of e)if("dirty"===s.result.status)return t.common.issues.push(...s.ctx.common.issues),s.result;const n=e.map(e=>new p(e.ctx.common.issues));return v(t,{code:d.invalid_union,unionErrors:n}),j});{let e;const s=[];for(const a of n){const n={...t,common:{...t.common,issues:[]},parent:null},r=a._parseSync({data:t.data,path:t.path,parent:n});if("valid"===r.status)return r;"dirty"!==r.status||e||(e={result:r,ctx:n}),n.common.issues.length&&s.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const r=s.map(e=>new p(e));return v(t,{code:d.invalid_union,unionErrors:r}),j}}get options(){return this._def.options}};ve.create=(e,t)=>new ve({options:e,typeName:Je.ZodUnion,...R(t)});var ye=e=>e instanceof Ie?ye(e.schema):e instanceof Ee?ye(e.innerType()):e instanceof $e?[e.value]:e instanceof Re?e.options:e instanceof Te?s.objectValues(e.enum):e instanceof Fe?ye(e._def.innerType):e instanceof de?[void 0]:e instanceof ue?[null]:e instanceof Be?[void 0,...ye(e.unwrap())]:e instanceof ze?[null,...ye(e.unwrap())]:e instanceof Le||e instanceof Ve?ye(e.unwrap()):e instanceof Pe?ye(e._def.innerType):[],we=class e extends O{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==l.object)return v(t,{code:d.invalid_type,expected:l.object,received:t.parsedType}),j;const n=this.discriminator,s=t.data[n],r=this.optionsMap.get(s);return r?t.common.async?r._parseAsync({data:t.data,path:t.path,parent:t}):r._parseSync({data:t.data,path:t.path,parent:t}):(v(t,{code:d.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),j)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,s){const r=new Map;for(const e of n){const n=ye(e.shape[t]);if(!n.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const s of n){if(r.has(s))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(s)}`);r.set(s,e)}}return new e({typeName:Je.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:r,...R(s)})}};function ke(e,t){const n=c(e),r=c(t);if(e===t)return{valid:!0,data:e};if(n===l.object&&r===l.object){const n=s.objectKeys(t),r=s.objectKeys(e).filter(e=>-1!==n.indexOf(e)),a={...e,...t};for(const s of r){const n=ke(e[s],t[s]);if(!n.valid)return{valid:!1};a[s]=n.data}return{valid:!0,data:a}}if(n===l.array&&r===l.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let s=0;s<e.length;s++){const r=ke(e[s],t[s]);if(!r.valid)return{valid:!1};n.push(r.data)}return{valid:!0,data:n}}return n===l.date&&r===l.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}var je=class extends O{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),s=(e,s)=>{if(_(e)||_(s))return j;const r=ke(e.value,s.value);return r.valid?((A(e)||A(s))&&t.dirty(),{status:t.value,value:r.data}):(v(n,{code:d.invalid_intersection_types}),j)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([e,t])=>s(e,t)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};je.create=(e,t,n)=>new je({left:e,right:t,typeName:Je.ZodIntersection,...R(n)});var Ne=class e extends O{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==l.array)return v(n,{code:d.invalid_type,expected:l.array,received:n.parsedType}),j;if(n.data.length<this._def.items.length)return v(n,{code:d.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),j;!this._def.rest&&n.data.length>this._def.items.length&&(v(n,{code:d.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...n.data].map((e,t)=>{const s=this._def.items[t]||this._def.rest;return s?s._parse(new $(n,e,n.path,t)):null}).filter(e=>!!e);return n.common.async?Promise.all(s).then(e=>k.mergeArray(t,e)):k.mergeArray(t,s)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};Ne.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ne({items:e,typeName:Je.ZodTuple,rest:null,...R(t)})};var Ce=class e extends O{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==l.object)return v(n,{code:d.invalid_type,expected:l.object,received:n.parsedType}),j;const s=[],r=this._def.keyType,a=this._def.valueType;for(const o in n.data)s.push({key:r._parse(new $(n,o,n.path,o)),value:a._parse(new $(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?k.mergeObjectAsync(t,s):k.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(t,n,s){return new e(n instanceof O?{keyType:t,valueType:n,typeName:Je.ZodRecord,...R(s)}:{keyType:se.create(),valueType:t,typeName:Je.ZodRecord,...R(n)})}},_e=class extends O{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==l.map)return v(n,{code:d.invalid_type,expected:l.map,received:n.parsedType}),j;const s=this._def.keyType,r=this._def.valueType,a=[...n.data.entries()].map(([e,t],a)=>({key:s._parse(new $(n,e,n.path,[a,"key"])),value:r._parse(new $(n,t,n.path,[a,"value"]))}));if(n.common.async){const e=new Map;return Promise.resolve().then(async()=>{for(const n of a){const s=await n.key,r=await n.value;if("aborted"===s.status||"aborted"===r.status)return j;"dirty"!==s.status&&"dirty"!==r.status||t.dirty(),e.set(s.value,r.value)}return{status:t.value,value:e}})}{const e=new Map;for(const n of a){const s=n.key,r=n.value;if("aborted"===s.status||"aborted"===r.status)return j;"dirty"!==s.status&&"dirty"!==r.status||t.dirty(),e.set(s.value,r.value)}return{status:t.value,value:e}}}};_e.create=(e,t,n)=>new _e({valueType:t,keyType:e,typeName:Je.ZodMap,...R(n)});var Ae=class e extends O{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==l.set)return v(n,{code:d.invalid_type,expected:l.set,received:n.parsedType}),j;const s=this._def;null!==s.minSize&&n.data.size<s.minSize.value&&(v(n,{code:d.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),null!==s.maxSize&&n.data.size>s.maxSize.value&&(v(n,{code:d.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const r=this._def.valueType;function a(e){const n=new Set;for(const s of e){if("aborted"===s.status)return j;"dirty"===s.status&&t.dirty(),n.add(s.value)}return{status:t.value,value:n}}const o=[...n.data.values()].map((e,t)=>r._parse(new $(n,e,n.path,t)));return n.common.async?Promise.all(o).then(e=>a(e)):a(o)}min(t,n){return new e({...this._def,minSize:{value:t,message:y.toString(n)}})}max(t,n){return new e({...this._def,maxSize:{value:t,message:y.toString(n)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};Ae.create=(e,t)=>new Ae({valueType:e,minSize:null,maxSize:null,typeName:Je.ZodSet,...R(t)});var Se=class e extends O{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==l.function)return v(t,{code:d.invalid_type,expected:l.function,received:t.parsedType}),j;function n(e,n){return f({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,b(),m].filter(e=>!!e),issueData:{code:d.invalid_arguments,argumentsError:n}})}function s(e,n){return f({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,b(),m].filter(e=>!!e),issueData:{code:d.invalid_return_type,returnTypeError:n}})}const r={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof Oe){const e=this;return C(async function(...t){const o=new p([]),i=await e._def.args.parseAsync(t,r).catch(e=>{throw o.addIssue(n(t,e)),o}),l=await Reflect.apply(a,this,i);return await e._def.returns._def.type.parseAsync(l,r).catch(e=>{throw o.addIssue(s(l,e)),o})})}{const e=this;return C(function(...t){const o=e._def.args.safeParse(t,r);if(!o.success)throw new p([n(t,o.error)]);const i=Reflect.apply(a,this,o.data),l=e._def.returns.safeParse(i,r);if(!l.success)throw new p([s(i,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e({...this._def,args:Ne.create(t).rest(me.create())})}returns(t){return new e({...this._def,returns:t})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(t,n,s){return new e({args:t||Ne.create([]).rest(me.create()),returns:n||me.create(),typeName:Je.ZodFunction,...R(s)})}},Ie=class extends O{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};Ie.create=(e,t)=>new Ie({getter:e,typeName:Je.ZodLazy,...R(t)});var $e=class extends O{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return v(t,{received:t.data,code:d.invalid_literal,expected:this._def.value}),j}return{status:"valid",value:e.data}}get value(){return this._def.value}};function Me(e,t){return new Re({values:e,typeName:Je.ZodEnum,...R(t)})}$e.create=(e,t)=>new $e({value:e,typeName:Je.ZodLiteral,...R(t)});var Re=class e extends O{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return v(t,{expected:s.joinValues(n),received:t.parsedType,code:d.invalid_type}),j}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return v(t,{received:t.data,code:d.invalid_enum_value,options:n}),j}return C(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(t,n=this._def){return e.create(t,{...this._def,...n})}exclude(t,n=this._def){return e.create(this.options.filter(e=>!t.includes(e)),{...this._def,...n})}};Re.create=Me;var Te=class extends O{_parse(e){const t=s.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==l.string&&n.parsedType!==l.number){const e=s.objectValues(t);return v(n,{expected:s.joinValues(e),received:n.parsedType,code:d.invalid_type}),j}if(this._cache||(this._cache=new Set(s.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=s.objectValues(t);return v(n,{received:n.data,code:d.invalid_enum_value,options:e}),j}return C(e.data)}get enum(){return this._def.values}};Te.create=(e,t)=>new Te({values:e,typeName:Je.ZodNativeEnum,...R(t)});var Oe=class extends O{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==l.promise&&!1===t.common.async)return v(t,{code:d.invalid_type,expected:l.promise,received:t.parsedType}),j;const n=t.parsedType===l.promise?t.data:Promise.resolve(t.data);return C(n.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}};Oe.create=(e,t)=>new Oe({type:e,typeName:Je.ZodPromise,...R(t)});var Ee=class extends O{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Je.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,a={addIssue:e=>{v(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===r.type){const e=r.transform(n.data,a);if(n.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return j;const s=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===s.status?j:"dirty"===s.status||"dirty"===t.value?N(s.value):s});{if("aborted"===t.value)return j;const s=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===s.status?j:"dirty"===s.status||"dirty"===t.value?N(s.value):s}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,a);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===s.status?j:("dirty"===s.status&&t.dirty(),e(s.value),{status:t.value,value:s.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(n=>"aborted"===n.status?j:("dirty"===n.status&&t.dirty(),e(n.value).then(()=>({status:t.value,value:n.value}))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!S(e))return j;const s=r.transform(e.value,a);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>S(e)?Promise.resolve(r.transform(e.value,a)).then(e=>({status:t.value,value:e})):j)}s.assertNever(r)}};Ee.create=(e,t,n)=>new Ee({schema:e,typeName:Je.ZodEffects,effect:t,...R(n)}),Ee.createWithPreprocess=(e,t,n)=>new Ee({schema:t,effect:{type:"preprocess",transform:e},typeName:Je.ZodEffects,...R(n)});var Be=class extends O{_parse(e){return this._getType(e)===l.undefined?C(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Be.create=(e,t)=>new Be({innerType:e,typeName:Je.ZodOptional,...R(t)});var ze=class extends O{_parse(e){return this._getType(e)===l.null?C(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};ze.create=(e,t)=>new ze({innerType:e,typeName:Je.ZodNullable,...R(t)});var Fe=class extends O{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===l.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};Fe.create=(e,t)=>new Fe({innerType:e,typeName:Je.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...R(t)});var Pe=class extends O{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return I(s)?s.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new p(n.common.issues)},input:n.data})})):{status:"valid",value:"valid"===s.status?s.value:this._def.catchValue({get error(){return new p(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Pe.create=(e,t)=>new Pe({innerType:e,typeName:Je.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...R(t)});var De=class extends O{_parse(e){if(this._getType(e)!==l.nan){const t=this._getOrReturnCtx(e);return v(t,{code:d.invalid_type,expected:l.nan,received:t.parsedType}),j}return{status:"valid",value:e.data}}};De.create=e=>new De({typeName:Je.ZodNaN,...R(e)});var Ze=Symbol("zod_brand"),Le=class extends O{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}},We=class e extends O{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?j:"dirty"===e.status?(t.dirty(),N(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?j:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(t,n){return new e({in:t,out:n,typeName:Je.ZodPipeline})}},Ve=class extends O{_parse(e){const t=this._def.innerType._parse(e),n=e=>(S(e)&&(e.value=Object.freeze(e.value)),e);return I(t)?t.then(e=>n(e)):n(t)}unwrap(){return this._def.innerType}};function He(e,t){const n="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof n?{message:n}:n}function Ue(e,t={},n){return e?pe.create().superRefine((s,r)=>{const a=e(s);if(a instanceof Promise)return a.then(e=>{if(!e){const e=He(t,s),a=e.fatal??n??!0;r.addIssue({code:"custom",...e,fatal:a})}});if(!a){const e=He(t,s),a=e.fatal??n??!0;r.addIssue({code:"custom",...e,fatal:a})}}):pe.create()}Ve.create=(e,t)=>new Ve({innerType:e,typeName:Je.ZodReadonly,...R(t)});var Je,Ke,qe={object:xe.lazycreate};(Ke=Je||(Je={})).ZodString="ZodString",Ke.ZodNumber="ZodNumber",Ke.ZodNaN="ZodNaN",Ke.ZodBigInt="ZodBigInt",Ke.ZodBoolean="ZodBoolean",Ke.ZodDate="ZodDate",Ke.ZodSymbol="ZodSymbol",Ke.ZodUndefined="ZodUndefined",Ke.ZodNull="ZodNull",Ke.ZodAny="ZodAny",Ke.ZodUnknown="ZodUnknown",Ke.ZodNever="ZodNever",Ke.ZodVoid="ZodVoid",Ke.ZodArray="ZodArray",Ke.ZodObject="ZodObject",Ke.ZodUnion="ZodUnion",Ke.ZodDiscriminatedUnion="ZodDiscriminatedUnion",Ke.ZodIntersection="ZodIntersection",Ke.ZodTuple="ZodTuple",Ke.ZodRecord="ZodRecord",Ke.ZodMap="ZodMap",Ke.ZodSet="ZodSet",Ke.ZodFunction="ZodFunction",Ke.ZodLazy="ZodLazy",Ke.ZodLiteral="ZodLiteral",Ke.ZodEnum="ZodEnum",Ke.ZodEffects="ZodEffects",Ke.ZodNativeEnum="ZodNativeEnum",Ke.ZodOptional="ZodOptional",Ke.ZodNullable="ZodNullable",Ke.ZodDefault="ZodDefault",Ke.ZodCatch="ZodCatch",Ke.ZodPromise="ZodPromise",Ke.ZodBranded="ZodBranded",Ke.ZodPipeline="ZodPipeline",Ke.ZodReadonly="ZodReadonly";var Ge=(e,t={message:`Input not instance of ${e.name}`})=>Ue(t=>t instanceof e,t),Ye=se.create,Xe=ae.create,Qe=De.create,et=oe.create,tt=ie.create,nt=le.create,st=ce.create,rt=de.create,at=ue.create,ot=pe.create,it=me.create,lt=he.create,ct=ge.create,dt=be.create,ut=xe.create,pt=xe.strictCreate,mt=ve.create,ht=we.create,gt=je.create,bt=Ne.create,ft=Ce.create,xt=_e.create,vt=Ae.create,yt=Se.create,wt=Ie.create,kt=$e.create,jt=Re.create,Nt=Te.create,Ct=Oe.create,_t=Ee.create,At=Be.create,St=ze.create,It=Ee.createWithPreprocess,$t=We.create,Mt=()=>Ye().optional(),Rt=()=>Xe().optional(),Tt=()=>tt().optional(),Ot={string:e=>se.create({...e,coerce:!0}),number:e=>ae.create({...e,coerce:!0}),boolean:e=>ie.create({...e,coerce:!0}),bigint:e=>oe.create({...e,coerce:!0}),date:e=>le.create({...e,coerce:!0})},Et=j,Bt=i.enum(["left","center","right","justify"]),zt=i.enum(["light","normal","medium","bold","extrabold"]),Ft=i.union([i.string(),i.number()]),Pt=i.record(i.string(),Ft),Dt=i.union([i.string(),i.number(),Pt]),Zt=i.object({id:i.string(),fontFamily:i.string(),fallbackFontFamily:i.string().optional(),webFont:i.object({url:i.string(),format:i.enum(["woff","woff2","truetype","opentype","embedded-opentype","svg"])}).optional(),fontWeight:i.number().optional(),fontStyle:i.enum(["normal","italic","oblique"]).optional()}),Lt=(i.union([i.string(),i.object({hex:i.string().optional(),class:i.string().optional(),tw:i.string().optional(),labelClass:i.string().optional(),label:i.string().optional()})]),i.object({label:i.string(),href:i.string().optional(),align:Bt.optional(),backgroundColor:i.string().optional(),backgroundClassName:i.string().optional(),color:i.string().optional(),colorClassName:i.string().optional(),borderRadius:i.number().optional(),padding:Dt.optional(),fontSize:i.number().optional(),fontWeight:zt.optional(),fontFamily:i.string().optional(),margin:i.string().optional(),className:i.string().optional()})),Wt=i.object({content:i.string(),align:Bt.optional(),fontSize:i.number().optional(),color:i.string().optional(),colorClassName:i.string().optional(),lineHeight:i.string().optional(),fontWeight:zt.optional(),fontFamily:i.string().optional(),margin:i.string().optional(),padding:Dt.optional(),className:i.string().optional()}),Vt=i.object({content:i.string(),as:i.enum(["h1","h2","h3","h4","h5","h6"]).optional(),align:Bt.optional(),fontSize:i.number().optional(),color:i.string().optional(),colorClassName:i.string().optional(),lineHeight:i.string().optional(),fontWeight:zt.optional(),fontFamily:i.string().optional(),margin:i.string().optional(),padding:Dt.optional(),className:i.string().optional()}),Ht=i.object({src:i.string(),alt:i.string().optional(),href:i.string().optional(),width:i.number().optional(),height:i.number().optional(),align:Bt.optional(),borderRadius:i.number().optional(),placeholder:i.string().optional(),margin:i.string().optional(),padding:Dt.optional(),className:i.string().optional()}),Ut=i.object({color:i.string().optional(),colorClassName:i.string().optional(),thickness:i.number().optional(),width:i.string().optional(),align:Bt.optional(),margin:i.string().optional(),padding:Dt.optional(),className:i.string().optional()}),Jt=i.object({componentName:i.string(),props:i.record(i.string(),i.unknown())}),Kt=i.object({id:i.string(),locked:i.boolean().optional(),hidden:i.boolean().optional()}),qt=Kt.extend({type:i.literal("button"),props:Lt}),Gt=Kt.extend({type:i.literal("text"),props:Wt}),Yt=Kt.extend({type:i.literal("heading"),props:Vt}),Xt=Kt.extend({type:i.literal("image"),props:Ht}),Qt=Kt.extend({type:i.literal("divider"),props:Ut}),en=Kt.extend({type:i.literal("custom"),props:Jt}),tn=i.discriminatedUnion("type",[qt,Gt,Yt,Qt,Xt,en]),nn=Kt.extend({type:i.literal("column"),width:i.number().optional(),backgroundColor:i.string().optional(),backgroundClassName:i.string().optional(),padding:Dt.optional(),margin:Dt.optional(),align:Bt.optional(),className:i.string().optional(),blocks:i.array(tn)}),sn=Kt.extend({type:i.literal("row"),columns:i.array(nn),gutter:i.number().optional(),backgroundColor:i.string().optional(),backgroundClassName:i.string().optional(),padding:Dt.optional(),margin:Dt.optional(),align:Bt.optional(),className:i.string().optional()}),rn=Kt.extend({type:i.literal("section"),rows:i.array(sn),backgroundColor:i.string().optional(),backgroundClassName:i.string().optional(),padding:Dt.optional(),margin:Dt.optional(),align:Bt.optional(),className:i.string().optional()}),an=i.object({title:i.string(),description:i.string().optional(),tags:i.array(i.string()).optional()}),on=i.object({version:i.number(),meta:an,variables:i.record(i.string(),i.unknown()).optional(),theme:i.object({fonts:i.array(Zt).optional()}).optional(),sections:i.array(rn)});function ln(e){return on.parse(e)}function cn(e){return on.safeParse(e)}function dn(e){const t=on.safeParse(e);return t.success?{success:!0,data:t.data}:{success:!1,error:t.error}}function un(e){return on.safeParse(e).success}var pn=n(8861),mn=n(773),hn=n(3372);const gn={base:"",default:"",small:"sm",sm:"sm",mobile:"sm",medium:"md",md:"md",tablet:"md",large:"lg",lg:"lg",desktop:"lg",xl:"xl","2xl":"2xl"},bn=["base","default","all","mobile","small","sm","tablet","medium","md","desktop","large","lg","xl","2xl"],fn=Object.entries({none:"0",xs:"2",sm:"4",md:"6",lg:"8",xl:"10",button:"12px 24px"}).map(([e,t])=>({id:e,label:xn(e),value:t}));function xn(e){return e.replace(/[_-]+/g," ").replace(/([a-z])([A-Z])/g,"$1 $2").replace(/\s+/g," ").replace(/^\s+|\s+$/g,"").replace(/\b\w/g,e=>e.toUpperCase())}function vn(e){return e?Array.isArray(e)?e.map(e=>({id:e.id,label:e.label,value:e.value})):Object.entries(e).map(([e,t])=>({id:e,label:xn(e),value:t})):yn()}function yn(){return fn.map(e=>({...e}))}function wn(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function kn(e){return Number.isInteger(e)?`${e}`:e.toString().replace(/\.0+$/,"").replace(/(\.\d*?)0+$/,"$1")}function jn(e){const t=4*e;if(Number.isInteger(t))return`${t}px`;return`${kn(parseFloat(t.toFixed(3)))}px`}function Nn(e){const t=e.trim();if(!t)return;const n=Number(t);return Number.isNaN(n)?void 0:n}function Cn(e,t){if("number"==typeof e&&Number.isFinite(e))return`${t}-${kn(e)}`;const n="string"==typeof e?e.trim():"";if(!n)return;if(n.startsWith("p-")||n.startsWith("m-"))return n;const s=Nn(n);return null!=s?`${t}-${kn(s)}`:`${t}-[${function(e){return e.trim().replace(/\s+/g,"_").replace(/\]/g,"\\]").replace(/\[/g,"\\[")}(n)}]`}function _n(e,t){if("number"==typeof e&&Number.isFinite(e))return jn(e);const n="string"==typeof e?e.trim():"";if(!n)return"";if(n.startsWith("p-")||n.startsWith("m-")){const e=n.match(/^[pm]-([0-9]+(?:\.[0-9]+)?)$/);if(e){const t=Number(e[1]);if(!Number.isNaN(t))return jn(t)}return function(e,t){const n=e.match(new RegExp(`^${t}-\\[(.*)]$`));return n?n[1].replace(/\\\]/g,"]").replace(/\\\[/g,"[").replace(/_/g," "):e}(n,t)}const s=Nn(n);return null!=s?jn(s):n}function An(e,t){if(!e)return[];if("string"==typeof e){const n=Cn(e,t);return n?[n]:[]}if("number"==typeof e&&Number.isFinite(e))return[`${t}-${kn(e)}`];if(!wn(e))return[];const n=[],s=new Set;for(const[r,a]of Object.entries(e)){const e=Cn(a,t);if(!e)continue;const o=gn[r]??r.replace(/[^a-z0-9:]/gi,""),i=o?`${o}:${e}`:e;s.has(i)||(s.add(i),n.push(i))}return n}function Sn(e,t){if(!e)return;if("string"==typeof e){return _n(e,t)||void 0}if("number"==typeof e&&Number.isFinite(e))return jn(e);if(!wn(e))return;const n=function(e){for(const t of bn)if(t in e)return e[t];return Object.values(e)[0]}(e);if(null==n)return;return _n(n,t)||void 0}function In(e){return An(e,"p")}function $n(e){return Sn(e,"p")}function Mn(e){return An(e,"m")}function Rn(e){return Sn(e,"m")}function Tn(e){const t=e.trim();if(t){if(t.startsWith("{")&&t.endsWith("}"))try{const e=function(e){if("object"!=typeof e||null===e||Array.isArray(e))return;const t=Object.entries(e).reduce((e,[t,n])=>{const s=String(t).trim();if(!s)return e;if("number"==typeof n&&Number.isFinite(n))return e[s]=n,e;if("string"==typeof n){const t=n.trim();if(!t)return e;const r=Nn(t);e[s]=r??t}return e},{});return 0!==Object.keys(t).length?t:void 0}(JSON.parse(t));if(e)return e}catch(n){return console.warn("Failed to parse padding JSON input:",n),t}if(t.includes(":")){const e=t.split(","),n={};for(const t of e){const[e,...s]=t.split(":");if(!e||0===s.length)continue;const r=e.trim(),a=s.join(":").trim();if(!r||!a)continue;const o=Nn(a);n[r]=o??a}if(Object.keys(n).length>0)return n}return t}}function On(e){return e?"string"==typeof e?e:wn(e)?Object.entries(e).map(([e,t])=>`${e}:${"number"==typeof t?kn(t):t}`).join(", "):"":""}function En(e){if(null==e)return"";if("string"==typeof e)return e.trim();if("number"==typeof e)return kn(e);const t=Object.entries(e).map(([e,t])=>[e,t]).sort(([e],[t])=>e>t?1:e<t?-1:0);return JSON.stringify(t.map(([e,t])=>[e,"string"==typeof t?t.trim():t]))}var Bn=n(7378);const zn="Untitled email",Fn="6",Pn="0",Dn="left",Zn="2",Ln="0",Wn="left",Vn="4",Hn="0",Un="left";function Jn(e){const t="undefined"!=typeof globalThis?globalThis.crypto:void 0;return`${e}-${t&&"function"==typeof t.randomUUID?t.randomUUID():Math.random().toString(36).slice(2,10)}`}function Kn(e=zn){return{version:1,meta:{title:e},variables:{},sections:[]}}function qn(){return{id:Jn("section"),type:"section",rows:[],padding:Fn,margin:Pn,align:Dn}}function Gn(e){return JSON.parse(JSON.stringify(e))}function Yn(e,t){return JSON.stringify(e)===JSON.stringify(t)}function Xn(e){return{...e,padding:e.padding??Vn,margin:e.margin??Hn,align:e.align??Un}}function Qn(e){return{...e,padding:e.padding??Zn,margin:e.margin??Ln,align:e.align??Wn,columns:e.columns.map(Xn)}}function es(e){return{...e,padding:e.padding??Fn,margin:e.margin??Pn,align:e.align??Dn,rows:e.rows.map(Qn)}}function ts(e){const t=Gn(e);return t.sections=t.sections.map(es),t}function ns(e=1){return{id:Jn("row"),type:"row",gutter:8,padding:Zn,margin:Ln,align:Wn,columns:Array.from({length:e},()=>ss())}}function ss(){return{id:Jn("column"),type:"column",padding:Vn,margin:Hn,align:Un,blocks:[]}}function rs(e,t){return{id:Jn(e),type:e,props:{...t}}}function as(e,t){for(const n of e.sections)for(const e of n.rows)for(const n of e.columns)for(const e of n.blocks)if(e.id===t)return e;return null}function os(e,t,n){const s=Gn(e);for(const r of s.sections)for(const e of r.rows)for(const r of e.columns){const e=r.blocks.findIndex(e=>e.id===t);if(-1!==e){const t=r.blocks[e];return t.props={...t.props,...n},s}}return s}function is(e,t,n){const s=Gn(e);return s.sections=s.sections.map(e=>e.id===t?{...e,...n}:e),s}function ls(e,t,n){const s=Gn(e);return s.sections=s.sections.map(e=>({...e,rows:e.rows.map(e=>e.id===t?{...e,...n}:e)})),s}function cs(e,t,n){const s=Gn(e);return s.sections=s.sections.map(e=>({...e,rows:e.rows.map(e=>({...e,columns:e.columns.map(e=>e.id===t?{...e,...n}:e)}))})),s}function ds(e,t){t&&t.split(/\s+/).map(e=>e.trim()).filter(Boolean).forEach(t=>e.add(t))}function us({existingClassName:e,backgroundClassName:t,colorClassName:n,padding:s,margin:r,align:a}){const o=new Set;ds(o,e),ds(o,t),ds(o,n);In(s).forEach(e=>ds(o,e));Mn(r).forEach(e=>ds(o,e));const i=function(e){switch(e){case"center":return"text-center";case"right":return"text-right";case"justify":return"text-justify";default:return e?"text-left":void 0}}(a);i&&ds(o,i);const l=Array.from(o).filter(e=>!e.includes(":"));if(0!==l.length)return l.join(" ")}function ps(e){if(!["button","text","heading","image","divider"].includes(e.type))return e;const t=e.props,n=us({existingClassName:t.className,backgroundClassName:t.backgroundClassName,colorClassName:t.colorClassName,padding:t.padding});return{...e,props:{...t,className:n}}}function ms(e){const t=us({existingClassName:e.className,backgroundClassName:e.backgroundClassName,padding:e.padding,margin:e.margin,align:e.align});return{...e,className:t,columns:e.columns.map(e=>function(e){const t=e.padding,n=e.margin,s=us({existingClassName:e.className,backgroundClassName:e.backgroundClassName,padding:t,margin:n,align:e.align});return{...e,className:s,blocks:e.blocks.map(ps)}}(e))}}function hs(e){const t=JSON.parse(JSON.stringify(e));return t.sections=t.sections.map(e=>function(e){const t=us({existingClassName:e.className,backgroundClassName:e.backgroundClassName,padding:e.padding,margin:e.margin,align:e.align});return{...e,className:t,rows:e.rows.map(e=>ms(e))}}(e)),t}var gs=n(6106);const bs=(0,Bn.createContext)(null);function fs(e){const t=Gn(e?ts(e):Kn());return{past:[],present:t,future:[],savedSnapshot:Gn(t),selectedBlockId:null,selectedContainer:null,previewMode:"desktop",layoutMode:null,forceLayoutMode:null,showInlineInsertion:!1,previewVariables:!1}}function xs(e,t){if(Yn(e.present,t))return e;return{past:[...e.past,Gn(e.present)],present:Gn(t),future:[],savedSnapshot:e.savedSnapshot,selectedBlockId:e.selectedBlockId,selectedContainer:e.selectedContainer,previewMode:e.previewMode,layoutMode:e.layoutMode,forceLayoutMode:e.forceLayoutMode,showInlineInsertion:e.showInlineInsertion,previewVariables:e.previewVariables}}function vs(e,t){switch(t.type){case"setDocument":{const n=t.options??{},s=Gn(ts(t.document));return n.replaceHistory?function(e,t,n){const s=Gn(t);return{past:[],present:s,future:[],savedSnapshot:n?Gn(s):e.savedSnapshot,selectedBlockId:e.selectedBlockId,selectedContainer:e.selectedContainer,previewMode:e.previewMode,layoutMode:e.layoutMode,forceLayoutMode:e.forceLayoutMode,showInlineInsertion:e.showInlineInsertion,previewVariables:e.previewVariables}}(e,s,n.markAsSaved??!0):!1===n.commit?Yn(e.present,s)?e:{...e,present:s}:xs(e,s)}case"updateTitle":{if(e.present.meta.title===t.title)return e;const n=Gn(e.present);return n.meta={...n.meta,title:t.title},xs(e,n)}case"save":return{...e,savedSnapshot:Gn(t.snapshot)};case"undo":{if(0===e.past.length)return e;const t=e.past[e.past.length-1];return{past:e.past.slice(0,-1),present:Gn(t),future:[Gn(e.present),...e.future],savedSnapshot:e.savedSnapshot,selectedBlockId:e.selectedBlockId,selectedContainer:e.selectedContainer,previewMode:e.previewMode,layoutMode:e.layoutMode,forceLayoutMode:e.forceLayoutMode,showInlineInsertion:e.showInlineInsertion,previewVariables:e.previewVariables}}case"selectBlock":return{...e,selectedBlockId:t.blockId,selectedContainer:null};case"selectContainer":return{...e,selectedContainer:t.container,selectedBlockId:null};case"updateBlockProps":return xs(e,os(e.present,t.blockId,t.props));case"updateContainerProps":{const{target:n}=t;console.log("\ud83d\udd04 updateContainerProps called:",n);let s=e.present;return"section"===n.kind?(s={...s,sections:s.sections.map(e=>e.id===n.id?{...e,...n.props}:e)},console.log("\ud83d\udcdd Updated section:",n.id,"with props:",n.props)):"row"===n.kind?(s={...s,sections:s.sections.map(e=>({...e,rows:e.rows.map(e=>e.id===n.id?{...e,...n.props}:e)}))},console.log("\ud83d\udcdd Updated row:",n.id,"with props:",n.props)):"column"===n.kind&&(s={...s,sections:s.sections.map(e=>({...e,rows:e.rows.map(e=>({...e,columns:e.columns.map(e=>e.id===n.id?{...e,...n.props}:e)}))}))},console.log("\ud83d\udcdd Updated column:",n.id,"with props:",n.props)),console.log("\ud83d\udcc4 New document state:",s),xs(e,s)}case"setPreviewMode":return e.previewMode===t.mode?e:{...e,previewMode:t.mode};case"setLayoutMode":return e.layoutMode===t.mode?e:{...e,layoutMode:t.mode};case"setForceLayoutMode":return e.forceLayoutMode===t.mode?e:{...e,forceLayoutMode:t.mode};case"setShowInlineInsertion":return e.showInlineInsertion===t.show?e:{...e,showInlineInsertion:t.show};case"setPreviewVariables":return e.previewVariables===t.enabled?e:{...e,previewVariables:t.enabled};case"upsertVariable":{const n=Gn(e.present);return n.variables={...n.variables??{}},n.variables[t.key]=t.value,xs(e,n)}case"deleteVariable":{const n=Gn(e.present);if(!n.variables)return e;const{[t.key]:s,...r}=n.variables;return void 0===s?e:(n.variables=r,xs(e,n))}default:return e}}function ys({children:e,initialDocument:t,onSave:n,onDocumentChange:s,uploadFile:r,variables:a}){const[o,i]=(0,Bn.useReducer)(vs,t,fs),l=(0,Bn.useRef)(null),c=(0,Bn.useRef)(null),d=(0,Bn.useRef)(null),u=(0,Bn.useCallback)(e=>{i({type:"updateTitle",title:e})},[]),p=(0,Bn.useCallback)((e,t)=>{i({type:"setDocument",document:e,options:t})},[]);(0,Bn.useEffect)(()=>{t?l.current&&Yn(l.current,t)||(l.current=Gn(t),p(t,{replaceHistory:!0,markAsSaved:!0})):l.current=null},[t,p]),(0,Bn.useEffect)(()=>{if(!s)return void(c.current=null);const e=hs(o.present);c.current&&Yn(c.current,e)||(c.current=Gn(e),s(e))},[s,o.present]);const m=(0,Bn.useCallback)(()=>{if(Yn(o.present,o.savedSnapshot))return void console.log("\ud83d\udcbe Save skipped - no changes detected");const e=Gn(o.present);console.log("\ud83d\udcbe SAVING DOCUMENT:",e),i({type:"save",snapshot:e}),n?.(hs(e))},[n,o.present,o.savedSnapshot]),h=o.past.length>0,g=(0,Bn.useCallback)(()=>{h&&i({type:"undo"})},[h]),b=(0,Bn.useCallback)(e=>{i({type:"selectBlock",blockId:e})},[]),f=(0,Bn.useCallback)(e=>{i({type:"selectContainer",container:e})},[]),x=(0,Bn.useCallback)((e,t)=>{i({type:"updateBlockProps",blockId:e,props:t})},[]),v=(0,Bn.useCallback)(e=>{i({type:"updateContainerProps",target:e})},[]),y=(0,Bn.useCallback)(e=>{i({type:"setPreviewMode",mode:e})},[]),w=(0,Bn.useCallback)((e,t)=>{i({type:"upsertVariable",key:e,value:t})},[]),k=(0,Bn.useCallback)(e=>{i({type:"deleteVariable",key:e})},[]),j=(0,Bn.useCallback)(e=>{i({type:"setLayoutMode",mode:e})},[]),N=(0,Bn.useCallback)(e=>{i({type:"setForceLayoutMode",mode:e})},[]),C=(0,Bn.useCallback)(e=>{i({type:"setShowInlineInsertion",show:e})},[]),_=(0,Bn.useCallback)(e=>{i({type:"setPreviewVariables",enabled:e})},[]),A=(0,Bn.useMemo)(()=>"mobile"===(o.forceLayoutMode??o.layoutMode),[o.forceLayoutMode,o.layoutMode]),S=o.present,I=!Yn(o.present,o.savedSnapshot),$=o.selectedBlockId?as(S,o.selectedBlockId):null,M=(0,Bn.useMemo)(()=>({...S.variables??{},...a??{}}),[S.variables,a]),R=(0,Bn.useMemo)(()=>({document:S,isDirty:I,canUndo:h,selectedBlockId:o.selectedBlockId,selectedBlock:$,selectedContainer:o.selectedContainer,previewMode:o.previewMode,layoutMode:o.layoutMode,forceLayoutMode:o.forceLayoutMode,showInlineInsertion:o.showInlineInsertion,previewVariables:o.previewVariables,isMobileExperience:A,variables:M,uploadFile:r,portalRoot:d.current,updateTitle:u,setDocument:p,save:m,undo:g,selectBlock:b,selectContainer:f,updateBlockProps:x,updateContainerProps:v,setPreviewMode:y,upsertVariable:w,deleteVariable:k,setLayoutMode:j,setForceLayoutMode:N,setShowInlineInsertion:C,setPreviewVariables:_}),[S,I,h,o.selectedBlockId,$,o.previewMode,o.selectedContainer,o.layoutMode,o.forceLayoutMode,o.showInlineInsertion,o.previewVariables,A,M,r,u,p,m,g,b,f,x,v,y,w,k,j,N,C,_]);return(0,gs.jsx)(bs.Provider,{value:R,children:(0,gs.jsxs)("div",{style:{position:"relative"},children:[(0,gs.jsx)("div",{ref:d,style:{position:"absolute",top:0,left:0,width:0,height:0,overflow:"visible",pointerEvents:"none",zIndex:99999},"aria-hidden":"true"}),e]})})}function ws(){const e=(0,Bn.useContext)(bs);if(!e)throw new Error("useCanvasStore must be used within a CanvasProvider");return e}var ks=n(4858);const js=/\{\{\s*([a-zA-Z0-9_.-]+)\s*\}\}/g;function Ns(e,t,n=!1){if(!e||!t)return e;const s=[];let r=0;const a=e.matchAll(js);let o=!1;for(const i of a){o=!0;const[a,l]=i,c=i.index;c>r&&s.push(e.slice(r,c));const d=(0,ks.A)(void 0,l.split("."),t);if(void 0!==d){const e=String(d);s.push((0,Bn.createElement)("span",{key:`var-${c}`,className:n?"text-success font-medium":"text-green-600 font-medium"},e))}else s.push((0,Bn.createElement)("span",{key:`miss-${c}`,className:n?"text-warning font-medium":"text-orange-500 font-medium"},a));r=c+a.length}return o?(r<e.length&&s.push(e.slice(r)),0===s.length?e:1===s.length&&"string"==typeof s[0]?s[0]:(0,Bn.createElement)(Bn.Fragment,{},...s)):e}function Cs(e,t){if(!e||"object"!=typeof e)return;const n=t.split(".");let s=e;for(const r of n){if(null==s||"object"!=typeof s)return;if(Array.isArray(s)){const e=Number.parseInt(r,10);if(Number.isNaN(e))return;s=s[e]}else s=s[r]}return s}function _s(e,t){return e&&t?e.replace(js,(e,n)=>{const s=Cs(t,n);return null==s?`{{${n}}}`:String(s)}):e}function As(e,t){if(!e)return!1;return void 0!==Cs(e,t)||Object.prototype.hasOwnProperty.call(e,t)}function Ss(e,t){if(!e)return[];const n=new Map;for(const s of e.matchAll(js)){const e=s[1]?.trim();e&&!n.has(e)&&n.set(e,{key:e,defined:As(t,e)})}return Array.from(n.values())}function Is(e,t){"string"!=typeof e?Array.isArray(e)?e.forEach(e=>Is(e,t)):e&&"object"==typeof e&&Object.values(e).forEach(e=>Is(e,t)):t(e)}function $s(e,t){const n=new Map;return Is(e.props,e=>{Ss(e,t).forEach(e=>{const t=n.get(e.key);(!t||e.defined&&!t.defined)&&n.set(e.key,e)})}),Array.from(n.values())}const Ms={label:"Call to action",href:"https://example.com",align:"center",backgroundColor:"#2563eb",color:"#ffffff",borderRadius:12,padding:"16px 24px",fontSize:14,fontWeight:"bold",margin:"12px 0"},Rs={type:"button",label:"Button",icon:mn.j,defaults:Ms},Ts=mn.j;function Os(e){const{label:t,href:n,align:s="center",backgroundColor:r,backgroundClassName:a,color:o,colorClassName:i,borderRadius:l=6,padding:c="12px 24px",fontSize:d=14,fontWeight:u="bold",fontFamily:p,margin:m="12px 0",daisyui:h=!1,editorMode:g=!1,blockId:b,className:f,variables:x,previewVariables:v}=e,{selectBlock:y}=ws(),w="medium"===u?500:u,k=$n(c),j=In(c),N={textAlign:s,width:"100%"},C=Boolean(a),_=C||h?void 0:r??"#2563eb",A=Boolean(i)||h?void 0:o??"#ffffff",S=v?Ns(t,x,h):t,I=g?"button":pn.$;return(0,gs.jsx)("div",{style:N,className:(0,hn.A)("w-full",(()=>{switch(s){case"center":default:return"text-center";case"right":return"text-right";case"left":return"text-left"}})()),children:(0,gs.jsx)(I,{...g?{}:{href:n},className:(0,hn.A)("inline-block no-underline cursor-pointer transition-all duration-200","hover:opacity-90 active:opacity-75",d<=12?"text-xs":d<=14?"text-sm":d<=16?"text-base":d<=18?"text-lg":"text-xl",(()=>{switch(u){case"light":return"font-light";case"normal":return"font-normal";case"medium":return"font-medium";case"bold":default:return"font-bold";case"extrabold":return"font-extrabold"}})(),(()=>{if(j.length>0)return;const e=k??("string"==typeof c?c:void 0);if(!e)return;const[t]=e.split(/\s+/);if(!t)return;const n=t.match(/([\d.]+)px/),s=n?parseFloat(n[1]):Number(t);return Number.isFinite(s)?s<=8?"py-1":s<=12?"py-2":s<=16?"py-3":s<=20?"py-4":"py-5":void 0})(),{btn:h,"btn-primary rounded-xl":h&&!C&&(!r||"#2563eb"===r),"btn-secondary rounded-xl":h&&!C&&"#6b7280"===r,"btn-accent rounded-xl":h&&!C&&"#8b5cf6"===r,"btn-neutral rounded-xl":h&&!C&&"#374151"===r,"btn-success rounded-xl":h&&!C&&"#059669"===r,"btn-warning rounded-xl":h&&!C&&"#d97706"===r,"btn-error rounded-xl":h&&!C&&"#dc2626"===r,"btn-info rounded-xl":h&&!C&&"#0891b2"===r,"btn-ghost rounded-xl":h&&!C&&r&&!["#2563eb","#6b7280","#8b5cf6","#374151","#059669","#d97706","#dc2626","#0891b2"].includes(r)},a,i,f,j),style:{display:"inline-block",backgroundColor:_,color:A,borderRadius:h?void 0:`${l}px`,padding:h?void 0:k??("string"==typeof c?c:void 0),fontSize:`${d}px`,fontWeight:w,margin:m,textDecoration:"none",cursor:g?"pointer":void 0,fontFamily:p||'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',border:"none",outline:"none",minWidth:"120px",maxWidth:"100%",...h&&{display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle"}},onClick:e=>{g&&(e.preventDefault(),e.stopPropagation(),b&&y(b))},children:S})})}var Es=n(8531),Bs=n(4023);const zs={color:"#e5e7eb",thickness:1,width:"100%",align:"center",margin:"16px 0",padding:"0"},Fs={type:"divider",label:"Divider",icon:Bs.H,defaults:zs},Ps=Bs.H;function Ds(e){const{color:t,colorClassName:n,thickness:s=1,width:r="100%",align:a="center",margin:o="16px 0",padding:i="0",daisyui:l=!1,className:c}=e,d=$n(i),u=In(i),p={textAlign:a,width:"100%"},m=n?void 0:t??"#e5e7eb",h={border:"none",borderTop:l||!m?void 0:`${s}px solid ${m}`,margin:o,...d?{padding:d}:{},width:r,display:"inline-block",maxWidth:"100%"};return(0,gs.jsx)("div",{style:p,className:(0,hn.A)("w-full",(()=>{switch(a){case"center":default:return"text-center";case"right":return"text-right";case"left":return"text-left"}})()),children:(0,gs.jsx)(Es.Hr,{className:(0,hn.A)("block","100%"===r?"w-full":"75%"===r?"w-3/4":"50%"===r?"w-1/2":"25%"===r?"w-1/4":"",s<=1?"border-t":s<=2?"border-t-2":s<=4?"border-t-4":"border-t-8",{divider:l,"border-gray-300":!l&&!n},n,c,u),style:h})})}var Zs=n(1920),Ls=n(3555);const Ws={content:"Add a clear headline",as:"h2",align:"left",fontSize:24,color:"#111827",lineHeight:"1.3",fontWeight:"bold",margin:"0 0 16px",padding:"0"},Vs={type:"heading",label:"Heading",icon:Ls.v,defaults:Ws},Hs=Ls.v;function Us(e){const{content:t,as:n="h2",align:s="left",fontSize:r=24,color:a,colorClassName:o,lineHeight:i="1.3",fontWeight:l="bold",fontFamily:c,margin:d="0 0 16px",padding:u="0",daisyui:p=!1,className:m,variables:h,previewVariables:g}=e,b=$n(u),f=In(u),x="medium"===l?500:l,v=a??(o?void 0:"#111827"),y=g?Ns(t,h,p):t,w={textAlign:s,fontSize:`${r}px`,lineHeight:i,fontWeight:x,margin:d,fontFamily:c||'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',wordBreak:"break-word",maxWidth:"100%",...v?{color:v}:{},...b?{padding:b}:{}};return(0,gs.jsx)(Zs.D,{as:n,className:(0,hn.A)("block w-full leading-tight",(()=>{switch(s){case"center":return"text-center";case"right":return"text-right";case"justify":return"text-justify";default:return"text-left"}})(),r<=16?"text-base":r<=18?"text-lg":r<=20?"text-xl":r<=24?"text-2xl":r<=30?"text-3xl":r<=36?"text-4xl":r<=48?"text-5xl":"text-6xl",(()=>{switch(l){case"light":return"font-light";case"normal":return"font-normal";case"medium":return"font-medium";case"bold":default:return"font-bold";case"extrabold":return"font-extrabold"}})(),!o&&(p?(()=>{if(!p)return"";switch(n){case"h1":return"text-4xl font-bold text-base-content";case"h2":default:return"text-3xl font-bold text-base-content";case"h3":return"text-2xl font-bold text-base-content";case"h4":return"text-xl font-bold text-base-content";case"h5":return"text-lg font-bold text-base-content";case"h6":return"text-base font-bold text-base-content"}})():"text-gray-900"),o,m,f),style:w,children:y})}var Js=n(4455),Ks=n(4015);const qs={src:"https://placehold.co/600x200",alt:"Placeholder image",width:600,height:200,align:"center",borderRadius:0,margin:"12px 0",padding:"0"},Gs={type:"image",label:"Image",icon:Ks.u,defaults:qs},Ys=Ks.u;function Xs(e){const{src:t,alt:n,href:s,width:r,height:a,align:o="center",borderRadius:i=0,margin:l="12px 0",padding:c="0",daisyui:d=!1,placeholder:u,className:p}=e,{variables:m}=ws(),h=$n(c),g=In(c),b={textAlign:o,width:"100%"},f=e=>e?.includes("{{"),x=_s(t,m),v=_s(u,m),y=(f(x)?null:x)||(f(v)?null:v)||qs.src;return(0,gs.jsx)("div",{style:b,className:(0,hn.A)("w-full",(()=>{switch(o){case"center":default:return"text-center";case"right":return"text-right";case"left":return"text-left"}})()),children:(0,gs.jsx)(Js.E,{src:y,alt:n,href:s,width:0===r?void 0:r??qs.width,height:0===a?void 0:a??qs.height,className:(0,hn.A)("block mx-auto",(()=>{const e=r??qs.width;return e<=200?"max-w-xs":e<=300?"max-w-sm":e<=400?"max-w-md":e<=500?"max-w-lg":e<=600?"max-w-xl":e<=800?"max-w-2xl":e<=1e3?"max-w-3xl":"max-w-4xl"})(),0===i?"":i<=4?"rounded-sm":i<=8?"rounded-md":i<=12?"rounded-lg":i<=16?"rounded-xl":i<=24?"rounded-2xl":"rounded-3xl",{"rounded-lg":d&&i>0,"shadow-lg":d},p,g),style:{borderRadius:d?void 0:`${i}px`,margin:l,...h?{padding:h}:{},display:"inline-block",maxWidth:"100%",height:a?void 0:"auto",border:"none",outline:"none"}})})}var Qs=n(3483),er=n(2614);const tr={content:"Start typing your message here.",align:"left",fontSize:16,color:"#1f2937",lineHeight:"1.6",fontWeight:"normal",margin:"0 0 16px",padding:"0"},nr={type:"text",label:"Text",icon:er.G,defaults:tr},sr=er.G;function rr(e){const{content:t,align:n="left",fontSize:s=16,color:r,colorClassName:a,lineHeight:o="1.6",fontWeight:i="normal",fontFamily:l,margin:c="0 0 16px",padding:d="0",daisyui:u=!1,className:p,variables:m,previewVariables:h}=e,g=$n(d),b=In(d),f="medium"===i?500:i,x=r??(a?void 0:u&&!a?void 0:"#1f2937"),v=h?Ns(t,m,u):t,y={textAlign:n,fontSize:`${s}px`,lineHeight:o,fontWeight:f,margin:c,...g?{padding:g}:{},fontFamily:l||'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',wordBreak:"break-word",maxWidth:"100%",...x?{color:x}:{}};return(0,gs.jsx)(Qs.E,{className:(0,hn.A)("block w-full leading-relaxed",(()=>{switch(n){case"center":return"text-center";case"right":return"text-right";case"justify":return"text-justify";default:return"text-left"}})(),s<=12?"text-xs":s<=14?"text-sm":s<=16?"text-base":s<=18?"text-lg":s<=20?"text-xl":s<=24?"text-2xl":s<=30?"text-3xl":"text-4xl",(()=>{switch(i){case"light":return"font-light";case"normal":default:return"font-normal";case"medium":return"font-medium";case"bold":return"font-bold";case"extrabold":return"font-extrabold"}})(),{"text-base-content":u&&!a,"text-gray-800":!u&&!a},a,p,b),style:y,children:v})}var ar=n(991),or=n(2244),ir=n(8941),lr=n(8031),cr=n(915),dr=n(5946),ur=n(6465),pr=n(5175),mr=n(5085),hr=n(5225),gr=n(1366);function br(e){if(e.id&&e.id.length>0)return e.id;if("custom"===e.type){return`custom-${function(e){const t=function(e){return e.normalize("NFKD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").replace(/-{2,}/g,"-").trim()}(e);return t.length>0?t:"custom-block"}(e.defaults.componentName??"custom")}`}return e.type}function fr(e){return`block-${br(e)}`}function xr(e){return e.reduce((e,t)=>(e[fr(t)]=t,e),{})}function vr(e){return e.reduce((e,t)=>{if("custom"!==t.type)return e;const n=t,s=n.defaults.componentName;return s?(e[s]=n,e):e},{})}var yr=n(4059);function wr({open:e,onClose:t,daisyui:n=!1,children:s,className:r,contentClassName:a,overlayClassName:o,labelledBy:i,describedBy:l,role:c="dialog"}){const[d,u]=(0,Bn.useState)(!1),[p,m]=(0,Bn.useState)(null),h=(0,Bn.useContext)(bs);if((0,Bn.useEffect)(()=>(u(!0),()=>{u(!1)}),[]),(0,Bn.useEffect)(()=>{if("undefined"==typeof document)return void m(null);const e=h?.portalRoot;if(e)m(e);else{if(n){const e=document.querySelector("[data-theme]");if(e)return void m(e)}m(document.body)}},[n,h]),!e)return null;const g=(0,hn.A)("fixed inset-0 z-[9999] flex items-center justify-center p-4",{"md:p-6":n},r),b=(0,hn.A)("absolute inset-0 bg-black/40 backdrop-blur-[2px]",o),f=(0,hn.A)("relative z-10 w-full max-w-lg",{"rounded-2xl border border-base-300 bg-base-100 text-base-content shadow-2xl":n},a),x=(0,gs.jsxs)("div",{className:g,style:{pointerEvents:"auto"},children:[(0,gs.jsx)("div",{className:b,"aria-hidden":!0,onClick:t}),(0,gs.jsx)("div",{className:f,role:c,"aria-modal":"true","aria-labelledby":i,"aria-describedby":l,children:s})]});return d&&p?(0,yr.createPortal)(x,p):x}function kr({open:e,title:t,description:n,confirmLabel:s="Delete",cancelLabel:r="Cancel",daisyui:a=!1,onConfirm:o,onCancel:i}){return e?(0,gs.jsx)(wr,{open:e,onClose:i,daisyui:a,contentClassName:"w-full max-w-md",children:(0,gs.jsxs)("div",{className:(0,hn.A)("rounded-lg shadow-xl border p-5 relative",{"bg-white text-slate-900 border-slate-200":!a,"bg-base-100 text-base-content border-base-300":a}),children:[(0,gs.jsx)("h3",{className:(0,hn.A)("text-base font-semibold mb-2",{"text-slate-900":!a,"text-base-content":a}),children:t}),n?(0,gs.jsx)("p",{className:(0,hn.A)("text-sm mb-4",{"text-slate-600":!a,"text-base-content/70":a}),children:n}):null,(0,gs.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,gs.jsx)("button",{type:"button",onClick:i,className:(0,hn.A)("px-3 py-1.5 rounded-md",{"bg-slate-100 text-slate-800 hover:bg-slate-200":!a,btn:a}),children:r}),(0,gs.jsx)("button",{type:"button",onClick:o,className:(0,hn.A)("px-3 py-1.5 rounded-md",{"bg-red-600 text-white hover:bg-red-700":!a,"btn btn-error":a}),children:s})]})]})}):null}function jr(e,t,n){const s=t[e];if(!s)return null;const r={...s.defaults};if(("text"===s.type||"heading"===s.type)&&n&&n.length>0){const e="string"==typeof(a=n[0])?{color:a}:{color:a.hex,colorClassName:a.class};e.color?(r.color=e.color,r.colorClassName=e.colorClassName??void 0):e.colorClassName?(delete r.color,r.colorClassName=e.colorClassName):(delete r.color,r.colorClassName=void 0)}var a;return rs(s.type,r)}function Nr(e){return"structure-row"===e||"structure-columns-1"===e?1:"structure-columns-2"===e?2:"structure-columns-3"===e?3:1}function Cr(e,t,n){return e.map(e=>e.id!==t?e:{...e,rows:[...e.rows,ns(n)]})}function _r(e,t,n,s){return e.map(e=>{if(e.id!==t)return e;const r=[...e.rows],a=Math.max(0,Math.min(s,r.length));return r.splice(a,0,ns(n)),{...e,rows:r}})}function Ar(e,t){return[...e,{...qn(),rows:[ns(t)]}]}function Sr(e,t,n){let s=!1;const r=e.map(e=>{const r=e.rows.map(e=>{const r=e.columns.map(e=>e.id!==t?e:(s=!0,{...e,blocks:[...e.blocks,n]}));return{...e,columns:r}});return{...e,rows:r}});return s?r:e}function Ir(e,t,n,s){let r=!1;const a=e.map(e=>{const a=e.rows.map(e=>{const a=e.columns.map(e=>{if(e.id!==t)return e;const a=[...e.blocks],o=Math.max(0,Math.min(s,a.length));return a.splice(o,0,n),r=!0,{...e,blocks:a}});return{...e,columns:a}});return{...e,rows:a}});return r?a:e}function $r(e,t,n){let s=!1;const r=e.map(e=>{let r=!1;const a=e.rows.map(e=>{if(-1===e.columns.findIndex(e=>e.id===t))return e;const a=[];e.columns.forEach(e=>{a.push(...e.blocks)});const o=ns(n);return o.columns.length>0&&(o.columns[0]={...o.columns[0],blocks:a}),o.id=e.id,void 0!==e.gutter&&(o.gutter=e.gutter),r=!0,s=!0,o});return r?{...e,rows:a}:e});return s?r:e}function Mr(e,t,n){let s=!1;const r=e.map(e=>{let r=!1;const a=e.rows.map(e=>{if(e.id!==t)return e;const a=[];e.columns.forEach(e=>{a.push(...e.blocks)});const o=ns(n);return o.columns.length>0&&(o.columns[0]={...o.columns[0],blocks:a}),o.id=e.id,void 0!==e.gutter&&(o.gutter=e.gutter),r=!0,s=!0,o});return r?{...e,rows:a}:e});return s?r:e}function Rr(e,t,n,s){return e.map(e=>{if(e.id!==t)return e;const r=[...e.rows],a=Math.max(0,Math.min(n+1,r.length));return r.splice(a,0,ns(s)),{...e,rows:r}})}function Tr(e,t){const n=e.findIndex(e=>e.id===t);if(-1===n)return[...e,qn()];const s=[...e];return s.splice(n+1,0,qn()),s}function Or(e,t){const n=[...e],s=Math.max(0,Math.min(t,n.length));return n.splice(s,0,qn()),n}function Er(e,t){for(const n of e)for(const e of n.rows)for(const s of e.columns){const r=s.blocks.findIndex(e=>e.id===t);if(-1!==r)return{sectionId:n.id,rowId:e.id,columnId:s.id,blockIndex:r}}return null}function Br(e,t){for(const n of e){const e=n.rows.findIndex(e=>e.id===t);if(-1!==e)return{sectionId:n.id,rowIndex:e,row:n.rows[e]}}return null}function zr(e,t){for(const n of e)for(let e=0;e<n.rows.length;e+=1){const s=n.rows[e],r=s.columns.findIndex(e=>e.id===t);if(-1!==r)return{sectionId:n.id,rowId:s.id,rowIndex:e,columnIndex:r,column:s.columns[r]}}return null}function Fr(e,t){const n=e.findIndex(e=>e.id===t);return-1!==n?n:null}function Pr(e,t,n,s,r){let a=null,o=!1,i=!1;const l=e.map(e=>{let n=!1;const r=e.rows.map(e=>{let r=!1;const l=e.columns.map(e=>{if(e.id!==t)return e;if(s<0||s>=e.blocks.length)return e;a=e.blocks[s];const l=e.blocks.filter((e,t)=>t!==s);return r=!0,n=!0,o=!0,i=!0,{...e,blocks:l}});return r?{...e,columns:l}:e});return n?{...e,rows:r}:e});if(!a||!i)return e;const c=t===n,d=Number.isFinite(r)?Math.max(0,r):1/0,u=c&&d>s?d-1:d;let p=!1;const m=l.map(e=>{let t=!1;const s=e.rows.map(e=>{let s=!1;const r=e.columns.map(e=>{if(e.id!==n)return e;const r=[...e.blocks],i=u===1/0?r.length:Math.min(u,r.length);return r.splice(i,0,a),s=!0,t=!0,o=!0,p=!0,{...e,blocks:r}});return s?{...e,columns:r}:e});return t?{...e,rows:s}:e});return p&&o?m:e}function Dr(e,t,n,s,r){if(t===n&&s===r)return e;let a=null,o=!1;const i=e.map(e=>{if(e.id!==t)return e;if(s<0||s>=e.rows.length)return e;a=e.rows[s],o=!0;const n=e.rows.filter((e,t)=>t!==s);return{...e,rows:n}});if(!a||!o)return e;const l=t===n,c=Number.isFinite(r)?Math.max(0,r):1/0,d=l&&c>s?c-1:c;let u=!1;const p=i.map(e=>{if(e.id!==n)return e;const t=[...e.rows],s=d===1/0?t.length:Math.min(d,t.length);return t.splice(s,0,a),u=!0,{...e,rows:t}});return u?p:e}function Zr(e,t,n,s,r,a,o){if(t===s&&n===r&&a===o)return e;let i=null,l=!1;const c=e.map(e=>{if(e.id!==t)return e;let s=!1;const r=e.rows.map(e=>{if(e.id!==n)return e;if(a<0||a>=e.columns.length)return e;i=e.columns[a];const t=e.columns.filter((e,t)=>t!==a);return l=!0,s=!0,{...e,columns:t}});return s?{...e,rows:r}:e});if(!i||!l)return e;const d=t===s&&n===r,u=Number.isFinite(o)?Math.max(0,o):1/0,p=d&&u>a?u-1:u;let m=!1;const h=c.map(e=>{if(e.id!==s)return e;let t=!1;const n=e.rows.map(e=>{if(e.id!==r)return e;const n=[...e.columns],s=p===1/0?n.length:Math.min(p,n.length);return n.splice(s,0,i),m=!0,t=!0,{...e,columns:n}});return t?{...e,rows:n}:e});return m?h:e}function Lr(e,t,n){if(t===n||t<0||n<0||t>=e.length||n>=e.length)return e;const s=[...e],[r]=s.splice(t,1),a=t>n?n:n-1;return s.splice(a,0,r),s}function Wr(e,t){for(const n of e)for(const e of n.rows){const s=e.columns.find(e=>e.id===t);if(s)return!!(s.locked||e.locked||n.locked)}return!1}function Vr(e,t){for(const n of e){const e=n.rows.find(e=>e.id===t);if(e)return!(!e.locked&&!n.locked)}return!1}function Hr(e,t,n,s,r,a){if(t.startsWith("sidebar-drop-"))return null;if("structure-section"===e){if("canvas"===t)return[...n,qn()];if(t.startsWith("section-")){const e=t.replace("section-",""),s=Fr(n,e);if(null!==s&&r?.overRect){return Or(n,s+(r.pointerY>r.overRect.top+r.overRect.height/2?1:0))}return Tr(n,e)}if(t.startsWith("row-")){const e=Br(n,t.replace("row-",""));if(e){const t=Fr(n,e.sectionId);if(null!==t&&r?.overRect){return Or(n,t+(r.pointerY>r.overRect.top+r.overRect.height/2?1:0))}return Tr(n,e.sectionId)}}if(t.startsWith("column-")){const e=zr(n,t.replace("column-",""));if(e){const t=Fr(n,e.sectionId);if(null!==t&&r?.overRect){return Or(n,t+(r.pointerY>r.overRect.top+r.overRect.height/2?1:0))}return Tr(n,e.sectionId)}}if(t.startsWith("canvas-block-")){const e=Er(n,t.replace("canvas-block-",""));if(e){const t=Fr(n,e.sectionId);if(null!==t&&r?.overRect){return Or(n,t+(r.pointerY>r.overRect.top+r.overRect.height/2?1:0))}return Tr(n,e.sectionId)}}return null}if("structure-row"===e||e.startsWith("structure-columns-")){const s=Nr(e);if("canvas"===t)return Ar(n,s);if(t.startsWith("section-")){const e=t.replace("section-","");return function(e,t){const n=e.find(e=>e.id===t);return!!n?.locked}(n,e)?null:Cr(n,e,s)}if("structure-row"===e&&t.startsWith("row-")){const e=t.replace("row-",""),a=Br(n,e);if(a){if(Vr(n,e))return null;if(r?.overRect){const e=r.pointerY>r.overRect.top+r.overRect.height/2,t=a.rowIndex+(e?1:0);return Rr(n,a.sectionId,t,s)}return Rr(n,a.sectionId,a.rowIndex,s)}}if("structure-row"===e&&t.startsWith("column-")){const e=t.replace("column-",""),r=zr(n,e);if(r)return Wr(n,e)?null:Rr(n,r.sectionId,r.rowIndex,s)}if("structure-row"===e&&t.startsWith("canvas-block-")){const e=Er(n,t.replace("canvas-block-",""));if(e){if(Vr(n,e.rowId))return null;const t=Br(n,e.rowId);if(t)return Rr(n,t.sectionId,t.rowIndex,s)}}if(e.startsWith("structure-columns-")){if(t.startsWith("row-")){const e=t.replace("row-","");return Vr(n,e)?null:Mr(n,e,s)}if(t.startsWith("column-")){const e=t.replace("column-","");return Wr(n,e)?null:$r(n,e,s)}if(t.startsWith("canvas-block-")){const e=Er(n,t.replace("canvas-block-",""));if(e)return Vr(n,e.rowId)?null:Mr(n,e.rowId,s)}}return null}if(e.startsWith("block-")&&t.startsWith("column-")){const r=t.replace("column-","");if(Wr(n,r))return null;const o=jr(e,s,a);return o?Sr(n,r,o):null}return e.startsWith("block-")&&t.startsWith("column-"),null}function Ur(e,t){return e.filter(e=>e.id!==t)}function Jr(e,t){let n=!1;const s=e.map(e=>{const s=e.rows.length,r=e.rows.filter(e=>e.id!==t);return r.length!==s&&(n=!0),{...e,rows:r}});return n?s:e}function Kr(e,t){let n=!1;const s=e.map(e=>{const s=e.rows.map(e=>{const s=e.columns.length,r=e.columns.filter(e=>e.id!==t);return r.length!==s&&(n=!0),{...e,columns:r}});return{...e,rows:s}});return n?s:e}function qr(e,t){let n=!1;const s=e.map(e=>{const s=e.rows.map(e=>{const s=e.columns.map(e=>{const s=e.blocks.length,r=e.blocks.filter(e=>e.id!==t);return r.length!==s&&(n=!0),{...e,blocks:r}});return{...e,columns:s}});return{...e,rows:s}});return n?s:e}function Gr({type:e,daisyui:t,colorMode:n="hierarchy"}){if("none"===n||"output"===n)return null;const s=(()=>{if("primary"===n){return(t?{Section:{bg:"bg-primary/20",text:"text-primary",border:"border-primary/30"},Row:{bg:"bg-primary/10",text:"text-primary",border:"border-primary/20"},Column:{bg:"bg-primary/5",text:"text-primary",border:"border-primary/10"}}:{Section:{bg:"bg-blue-500/20",text:"text-blue-700",border:"border-blue-500/30"},Row:{bg:"bg-blue-500/10",text:"text-blue-700",border:"border-blue-500/20"},Column:{bg:"bg-blue-500/5",text:"text-blue-700",border:"border-blue-500/10"}})[e]}switch(e){case"Section":return{bg:t?"bg-primary/20":"bg-blue-500/20",text:t?"text-primary":"text-blue-600",border:t?"border-primary/10":"border-blue-500/30"};case"Row":return{bg:t?"bg-secondary/20":"bg-green-500/20",text:t?"text-secondary":"text-green-600",border:t?"border-secondary/10":"border-green-500/30"};case"Column":return{bg:t?"bg-accent/20":"bg-purple-500/20",text:t?"text-accent":"text-purple-600",border:t?"border-accent/10":"border-purple-500/30"};default:return{bg:t?"bg-orange-500":"bg-gray-500/20",text:t?"text-base-content":"text-gray-600",border:t?"border-base-content/10":"border-gray-500/30"}}})();return(0,gs.jsx)("div",{className:(0,hn.A)("absolute -top-2 left-3 px-2 py-1 text-xs font-medium rounded-md border backdrop-blur-sm",s.bg,s.text,s.border,"z-10"),children:e})}function Yr(e){if(e)switch(e){case"center":return"text-center";case"right":return"text-right";case"justify":return"text-justify";default:return"text-left"}}function Xr(e){if(e)return{textAlign:e}}function Qr(e,t){const{daisyui:n,customBlocks:s,variables:r,previewVariables:a}=t;switch(e.type){case"button":return(0,gs.jsx)(Os,{...e.props,daisyui:n,editorMode:!0,blockId:e.id,variables:r,previewVariables:a});case"text":return(0,gs.jsx)(rr,{...e.props,daisyui:n,variables:r,previewVariables:a});case"heading":return(0,gs.jsx)(Us,{...e.props,daisyui:n,variables:r,previewVariables:a});case"divider":return(0,gs.jsx)(Ds,{...e.props,daisyui:n});case"image":return(0,gs.jsx)(Xs,{...e.props,daisyui:n});case"custom":const t=e.props,o=s[t.componentName];if(o){const e=o.component;return(0,gs.jsx)(e,{...t.props,...r??{}})}return(0,gs.jsx)("div",{className:(0,hn.A)("text-sm capitalize",{"text-slate-900":!n,"bg-primary/50 text-base-content":n}),"data-component":t.componentName,children:t.componentName});default:return null}}function ea({columnId:e,index:t,isDisabled:n,daisyui:s,colorMode:r="hierarchy"}){const{active:a}=(0,ar.fF)(),o=a?String(a.id):"",i=a?.data?.current,l=o.startsWith("block-")||"canvas-block"===i?.type,c=l&&!n,{isOver:d,setNodeRef:u}=(0,ar.zM)({id:`column-${e}-slot-${t}`,data:{type:"canvas-block-dropzone",columnId:e,index:t},disabled:!l||n||"none"===r||"output"===r});return"none"===r||"output"===r?null:(0,gs.jsx)("div",{ref:u,className:(0,hn.A)("relative transition-all duration-150 ease-in-out",c?"h-3 my-1":"h-0 my-0"),style:{pointerEvents:c?"auto":"none"},"aria-hidden":!c,children:(0,gs.jsx)("div",{className:(0,hn.A)("absolute inset-0 flex items-center justify-center pointer-events-none transition-opacity duration-150 ease-in-out",c?d?"opacity-100":"opacity-80":"opacity-0"),children:(0,gs.jsx)("div",{className:(0,hn.A)("w-full h-1 rounded-full border border-dashed",{..."primary"===r?{"border-blue-500 bg-blue-500/80":d&&!s,"border-primary bg-primary/80":d&&s,"border-blue-400 bg-blue-200/50":!d&&!s,"border-primary/40 bg-primary/10":!d&&s}:{"border-blue-500 bg-blue-500/80":d&&!s,"border-primary bg-primary/80":d&&s,"border-blue-300 bg-blue-200/60":!d&&!s,"border-base-300/50 bg-base-200/20":!d&&s}})})})})}function ta({sectionId:e,index:t,isDisabled:n,daisyui:s,colorMode:r="hierarchy"}){const{active:a}=(0,ar.fF)(),o=a?String(a.id):"",i=a?.data?.current,l="canvas-row-item"===i?.type,c="structure-row"===o||o.startsWith("structure-columns-"),d=!n&&(l||c),{isOver:u,setNodeRef:p}=(0,ar.zM)({id:`section-${e}-row-slot-${t}`,data:{type:"canvas-row-dropzone",sectionId:e,index:t},disabled:!d||"none"===r||"output"===r});return"none"===r||"output"===r?null:(0,gs.jsx)("div",{ref:p,className:(0,hn.A)("relative transition-all duration-150 ease-in-out",d?"my-2 h-6":"my-0 h-0"),style:{pointerEvents:d?"auto":"none"},"aria-hidden":!d,children:(0,gs.jsx)("div",{className:(0,hn.A)("absolute inset-0 flex items-center justify-center pointer-events-none transition-opacity duration-150 ease-in-out",d?u?"opacity-100":"opacity-80":"opacity-0"),children:(0,gs.jsx)("div",{className:(0,hn.A)("w-full h-1.5 rounded-full border border-dashed",{..."primary"===r?{"border-blue-500 bg-blue-500/80":u&&!s,"border-primary bg-primary/80":u&&s,"border-blue-400 bg-blue-200/50":!u&&!s,"border-primary/40 bg-primary/10":!u&&s}:{"border-green-500 bg-green-500/80":u&&!s,"border-secondary bg-secondary/80":u&&s,"border-green-300 bg-green-200/60":!u&&!s,"border-base-300/50 bg-base-200/20":!u&&s}})})})})}function na({columnId:e,locked:t,daisyui:n,unlockable:s,compact:r=!1}){const{document:a,setDocument:o}=ws();if(!s)return null;return(0,gs.jsx)("button",{type:"button","aria-label":t?"Unlock column":"Lock column",className:(0,hn.A)("inline-flex items-center justify-center rounded-lg transition",r?"w-5 h-5":"w-6 h-6 mt-0.5",{"bg-amber-50 text-amber-600 hover:bg-amber-100":!n&&t,"bg-slate-100 text-slate-500 hover:bg-slate-200":!n&&!t,"bg-warning/10 text-warning hover:bg-warning/20":n&&t,"bg-base-200 text-base-content/60 hover:bg-base-300":n&&!t}),onClick:n=>{n.stopPropagation();const s=!t,r=a.sections.map(t=>({...t,rows:t.rows.map(t=>({...t,columns:t.columns.map(t=>t.id!==e?t:{...t,locked:s,blocks:t.blocks.map(e=>({...e,locked:s}))})}))}));o({...a,sections:r})},children:t?(0,gs.jsx)(or.c,{size:r?14:16,weight:"bold"}):(0,gs.jsx)(ir.e,{size:r?14:16,weight:"bold"})})}function sa({columnId:e,daisyui:t,compact:n=!1}){const{document:s,setDocument:r}=ws(),[a,o]=(0,Bn.useState)(!1);return(0,gs.jsxs)(gs.Fragment,{children:[(0,gs.jsx)("button",{type:"button","aria-label":"Delete column",className:(0,hn.A)("inline-flex items-center justify-center rounded-lg transition",n?"w-5 h-5":"w-6 h-6 mt-0.5",{"bg-red-50 text-red-600 hover:bg-red-100":!t,"bg-error/10 text-error hover:bg-error/20":t}),onClick:e=>{e.stopPropagation(),o(!0)},children:(0,gs.jsx)(lr.l,{size:n?14:16,weight:"bold"})}),(0,gs.jsx)(kr,{open:a,daisyui:t,title:"Delete column?",description:"This will remove the column and all its content blocks.",confirmLabel:"Delete",onCancel:()=>o(!1),onConfirm:()=>{const t=Kr(s.sections,e);r({...s,sections:t}),o(!1)}})]})}function ra({rowId:e,locked:t,daisyui:n,unlockable:s}){const{document:r,setDocument:a}=ws();if(!s)return null;return(0,gs.jsx)("button",{type:"button","aria-label":t?"Unlock row":"Lock row",className:(0,hn.A)("inline-flex items-center justify-center w-6 h-6 mt-0.5 rounded-lg transition",{"bg-amber-50 text-amber-600 hover:bg-amber-100":!n&&t,"bg-slate-100 text-slate-500 hover:bg-slate-200":!n&&!t,"bg-warning/10 text-warning hover:bg-warning/20":n&&t,"bg-base-200 text-base-content/60 hover:bg-base-300":n&&!t}),onClick:n=>{n.stopPropagation();const s=!t,o=r.sections.map(t=>({...t,rows:t.rows.map(t=>t.id!==e?t:{...t,locked:s,columns:t.columns.map(e=>({...e,locked:s,blocks:e.blocks.map(e=>({...e,locked:s}))}))})}));a({...r,sections:o})},children:t?(0,gs.jsx)(or.c,{size:16,weight:"bold"}):(0,gs.jsx)(ir.e,{size:16,weight:"bold"})})}function aa({rowId:e,daisyui:t}){const{document:n,setDocument:s}=ws(),[r,a]=(0,Bn.useState)(!1);return(0,gs.jsxs)(gs.Fragment,{children:[(0,gs.jsx)("button",{type:"button","aria-label":"Delete row",className:(0,hn.A)("inline-flex items-center justify-center w-6 h-6 mt-0.5 rounded-lg transition",{"bg-red-50 text-red-600 hover:bg-red-100":!t,"bg-error/10 text-error hover:bg-error/20":t}),onClick:e=>{e.stopPropagation(),a(!0)},children:(0,gs.jsx)(lr.l,{size:16,weight:"bold"})}),(0,gs.jsx)(kr,{open:r,daisyui:t,title:"Delete row?",description:"This will remove the row and all its columns and blocks.",confirmLabel:"Delete",onCancel:()=>a(!1),onConfirm:()=>{const t=Jr(n.sections,e);s({...n,sections:t}),a(!1)}})]})}function oa({sectionId:e,locked:t,daisyui:n,unlockable:s}){const{document:r,setDocument:a}=ws();if(!s)return null;return(0,gs.jsx)("button",{type:"button","aria-label":t?"Unlock section":"Lock section",className:(0,hn.A)("inline-flex items-center justify-center w-6 h-6 mt-0.5 rounded-lg transition",{"bg-amber-50 text-amber-600 hover:bg-amber-100":!n&&t,"bg-slate-100 text-slate-500 hover:bg-slate-200":!n&&!t,"bg-warning/10 text-warning hover:bg-warning/20":n&&t,"bg-base-200 text-base-content/60 hover:bg-base-300":n&&!t}),onClick:n=>{n.stopPropagation();const s=!t,o=r.sections.map(t=>t.id!==e?t:{...t,locked:s,rows:t.rows.map(e=>({...e,locked:s,columns:e.columns.map(e=>({...e,locked:s,blocks:e.blocks.map(e=>({...e,locked:s}))}))}))});a({...r,sections:o})},children:t?(0,gs.jsx)(or.c,{size:16,weight:"bold"}):(0,gs.jsx)(ir.e,{size:16,weight:"bold"})})}function ia({sectionId:e,daisyui:t}){const{document:n,setDocument:s}=ws(),[r,a]=(0,Bn.useState)(!1);return(0,gs.jsxs)(gs.Fragment,{children:[(0,gs.jsx)("button",{type:"button","aria-label":"Delete section",className:(0,hn.A)("inline-flex items-center justify-center w-6 h-6 mt-0.5 rounded-lg transition",{"bg-red-50 text-red-600 hover:bg-red-100":!t,"bg-error/10 text-error hover:bg-error/20":t}),onClick:e=>{e.stopPropagation(),a(!0)},children:(0,gs.jsx)(lr.l,{size:16,weight:"bold"})}),(0,gs.jsx)(kr,{open:r,daisyui:t,title:"Delete section?",description:"This will remove the section and all its rows, columns, and blocks.",confirmLabel:"Delete",onCancel:()=>a(!1),onConfirm:()=>{const t=Ur(n.sections,e);s({...n,sections:t}),a(!1)}})]})}function la({columnId:e,hidden:t,daisyui:n,compact:s=!1}){const{document:r,setDocument:a}=ws();return(0,gs.jsx)("button",{type:"button","aria-label":t?"Show column":"Hide column",className:(0,hn.A)("inline-flex items-center justify-center rounded-lg transition",s?"w-5 h-5":"w-6 h-6 mt-0.5",{"bg-blue-50 text-blue-600 hover:bg-blue-100":!n&&t,"bg-slate-100 text-slate-500 hover:bg-slate-200":!n&&!t,"bg-info/10 text-info hover:bg-info/20":n&&t,"bg-base-200 text-base-content/60 hover:bg-base-300":n&&!t}),onClick:n=>{n.stopPropagation();const s=!t,o=r.sections.map(t=>({...t,rows:t.rows.map(t=>({...t,columns:t.columns.map(t=>t.id!==e?t:{...t,hidden:s,blocks:t.blocks.map(e=>({...e,hidden:s}))})}))}));a({...r,sections:o})},children:t?(0,gs.jsx)(cr.L,{size:s?14:16,weight:"bold"}):(0,gs.jsx)(dr.k,{size:s?14:16,weight:"bold"})})}function ca({rowId:e,hidden:t,daisyui:n}){const{document:s,setDocument:r}=ws();return(0,gs.jsx)("button",{type:"button","aria-label":t?"Show row":"Hide row",className:(0,hn.A)("inline-flex items-center justify-center w-6 h-6 mt-0.5 rounded-lg transition",{"bg-blue-50 text-blue-600 hover:bg-blue-100":!n&&t,"bg-slate-100 text-slate-500 hover:bg-slate-200":!n&&!t,"bg-info/10 text-info hover:bg-info/20":n&&t,"bg-base-200 text-base-content/60 hover:bg-base-300":n&&!t}),onClick:n=>{n.stopPropagation();const a=!t,o=s.sections.map(t=>({...t,rows:t.rows.map(t=>t.id!==e?t:{...t,hidden:a,columns:t.columns.map(e=>({...e,hidden:a,blocks:e.blocks.map(e=>({...e,hidden:a}))}))})}));r({...s,sections:o})},children:t?(0,gs.jsx)(cr.L,{size:16,weight:"bold"}):(0,gs.jsx)(dr.k,{size:16,weight:"bold"})})}function da({sectionId:e,hidden:t,daisyui:n}){const{document:s,setDocument:r}=ws();return(0,gs.jsx)("button",{type:"button","aria-label":t?"Show section":"Hide section",className:(0,hn.A)("inline-flex items-center justify-center w-6 h-6 mt-0.5 rounded-lg transition",{"bg-blue-50 text-blue-600 hover:bg-blue-100":!n&&t,"bg-slate-100 text-slate-500 hover:bg-slate-200":!n&&!t,"bg-info/10 text-info hover:bg-info/20":n&&t,"bg-base-200 text-base-content/60 hover:bg-base-300":n&&!t}),onClick:n=>{n.stopPropagation();const a=!t,o=s.sections.map(t=>t.id!==e?t:{...t,hidden:a,rows:t.rows.map(e=>({...e,hidden:a,columns:e.columns.map(e=>({...e,hidden:a,blocks:e.blocks.map(e=>({...e,hidden:a}))}))}))});r({...s,sections:o})},children:t?(0,gs.jsx)(cr.L,{size:16,weight:"bold"}):(0,gs.jsx)(dr.k,{size:16,weight:"bold"})})}function ua({block:e,columnId:t,daisyui:n,colorMode:s="hierarchy",isParentLocked:r=!1,showHidden:a=!1,customBlockRegistry:o,isCompactLayout:i=!1}){const{selectBlock:l,selectedBlockId:c,variables:d,isMobileExperience:u,previewVariables:p}=ws(),{document:m,setDocument:h}=ws(),g=(0,Bn.useMemo)(()=>$s(e,d),[e,d]),b=g.length>0,f=g.some(e=>!e.defined),x=g.map(e=>`${e.defined?"\u2714":"\u26a0"} ${e.key}`).join("\n"),v=!(!e.locked&&!r),y=t=>{t.stopPropagation();const n=!e.hidden,s=m.sections.map(t=>({...t,rows:t.rows.map(t=>({...t,columns:t.columns.map(t=>({...t,blocks:t.blocks.map(t=>t.id===e.id?{...t,hidden:n}:t)}))}))}));h({...m,sections:s})},{attributes:w,listeners:k,setNodeRef:j,transform:N,isDragging:C}=(0,ar.PM)({id:`canvas-block-${e.id}`,data:{type:"canvas-block",blockId:e.id,columnId:t},disabled:v}),{isOver:_,setNodeRef:A}=(0,ar.zM)({id:`canvas-block-${e.id}`,data:{type:"canvas-block",blockId:e.id,columnId:t},disabled:v}),S=c===e.id,I={transform:hr.Ks.Translate.toString(N),opacity:C?.6:void 0};return(0,gs.jsxs)("div",{ref:e=>{j(e),A(e)},style:I,className:(0,hn.A)("relative transition","none"!==s&&"output"!==s&&"border rounded-xl shadow-sm",u&&"output"!==s||i&&"output"!==s?"flex flex-col p-2 mb-2":"output"===s?"flex items-start":"flex items-start gap-3 p-3 mb-3",{"border-slate-300/20 bg-white/80":!n&&"none"!==s&&"output"!==s,"border-base-300/50 bg-base-200/20":n&&"none"!==s&&"output"!==s,"shadow-xl border-base-200/30":C&&!n&&"none"!==s&&"output"!==s,"shadow-xl border-primary/30":C&&n&&"none"!==s&&"output"!==s,"outline outline-base-200/60 outline-offset-2":S&&!n&&"none"!==s&&"output"!==s,"outline outline-primary/60 outline-offset-2":S&&n&&"none"!==s&&"output"!==s,"opacity-70":v,"ring-2 ring-blue-400/80":_&&!n&&!v&&"none"!==s&&"output"!==s,"ring-2 ring-primary/70":_&&n&&!v&&"none"!==s&&"output"!==s}),onClick:t=>{C||(t.stopPropagation(),l(e.id))},children:["output"!==s&&b?(0,gs.jsxs)("div",{className:(0,hn.A)("absolute z-10 flex items-center gap-1 rounded-full border px-2 py-0.5 text-[10px] font-semibold uppercase tracking-wide shadow-sm",u?"bottom-2 right-3":"top-2 right-3",f?{"bg-orange-100 text-orange-800 border-orange-200":!n,"bg-warning/20 text-warning border-warning/40":n}:{"bg-emerald-50 text-emerald-700 border-emerald-200":!n,"bg-success/20 text-success border-success/40":n}),title:x,children:[(0,gs.jsx)(ur.D,{size:12,weight:"bold"}),(0,gs.jsx)("span",{children:"vars"}),(0,gs.jsx)("span",{children:g.length})]}):null,"output"!==s&&(i||u)?(0,gs.jsxs)("div",{className:"flex justify-end items-center gap-1 mb-2",children:[a&&(0,gs.jsx)("button",{type:"button","aria-label":e.hidden?"Show block":"Hide block",className:(0,hn.A)("inline-flex items-center justify-center rounded cursor-pointer transition",u?"min-w-[44px] min-h-[44px] p-2":"w-5 h-5",{"bg-blue-50 text-blue-600 hover:bg-blue-100":!n&&e.hidden,"bg-slate-100 text-slate-500 hover:bg-slate-200":!n&&!e.hidden,"bg-info/10 text-info hover:bg-info/20":n&&e.hidden,"bg-base-200 text-base-content/60 hover:bg-base-300":n&&!e.hidden}),onClick:y,children:e.hidden?(0,gs.jsx)(cr.L,{size:u?20:14,weight:"bold"}):(0,gs.jsx)(dr.k,{size:u?20:14,weight:"bold"})}),!v&&(0,gs.jsx)("button",{type:"button",className:(0,hn.A)("inline-flex items-center justify-center border-0 rounded cursor-grab transition touch-none",u?"min-w-[44px] min-h-[44px] p-2":"w-5 h-5",{"bg-slate-200/60 text-slate-500 hover:bg-slate-200/90 hover:text-slate-800 active:cursor-grabbing focus-visible:outline focus-visible:outline-blue-500/55":!n,"bg-base-200 border text-base-content/60 hover:bg-base-200/90 hover:text-base-content active:cursor-grabbing focus-visible:outline focus-visible:outline-primary/55":n}),style:{touchAction:"none"},"aria-label":"Drag to reorder",...k,...w,onMouseDown:t=>{t.stopPropagation(),console.log("\ud83d\udfe9 Block drag handle clicked:",e.id)},onTouchStart:e=>{e.stopPropagation()},children:(0,gs.jsx)(pr.W,{size:u?20:14,weight:"bold"})})]}):"output"===s||u?null:(0,gs.jsxs)("div",{className:"flex gap-1",children:[a&&(0,gs.jsx)("button",{type:"button","aria-label":e.hidden?"Show block":"Hide block",className:(0,hn.A)("inline-flex items-center justify-center w-6 h-6 mt-0.5 rounded-lg transition cursor-pointer",{"bg-blue-50 text-blue-600 hover:bg-blue-100":!n&&e.hidden,"bg-slate-100 text-slate-500 hover:bg-slate-200":!n&&!e.hidden,"bg-info/10 text-info hover:bg-info/20":n&&e.hidden,"bg-base-200 text-base-content/60 hover:bg-base-300":n&&!e.hidden}),onClick:y,children:e.hidden?(0,gs.jsx)(cr.L,{size:16,weight:"bold"}):(0,gs.jsx)(dr.k,{size:16,weight:"bold"})}),!v&&(0,gs.jsx)("button",{type:"button",className:(0,hn.A)("inline-flex items-center justify-center mt-0.5 border-0 rounded-lg cursor-grab transition touch-none",u?"min-w-[44px] min-h-[44px] p-2":"w-6 h-6",{"bg-slate-200/60 text-slate-500 hover:bg-slate-200/90 hover:text-slate-800 active:cursor-grabbing focus-visible:outline focus-visible:outline-blue-500/55":!n,"bg-base-200 border text-base-content/60 hover:bg-base-200/90 hover:text-base-content active:cursor-grabbing focus-visible:outline focus-visible:outline-primary/55":n}),style:{touchAction:"none"},"aria-label":"Drag to reorder",...k,...w,onMouseDown:t=>{t.stopPropagation(),console.log("\ud83d\udfe9 Block drag handle clicked:",e.id)},onTouchStart:e=>{e.stopPropagation()},children:(0,gs.jsx)(pr.W,{size:u?20:16,weight:"bold"})})]}),(0,gs.jsx)("div",{className:(i||u)&&"output"!==s||"output"===s?"w-full":"flex-1",children:Qr(e,{daisyui:n,customBlocks:o,variables:d,previewVariables:p})})]})}function pa({column:e,rowId:t,sectionId:n,daisyui:s,colorMode:r="hierarchy",colorModeDepth:a,row:o,section:i,unlockable:l=!0,showHidden:c=!1,customBlockRegistry:d,inlineInsertionMode:u=!1,inlineInsertionVariant:p="icon-with-label",onAddBlock:m,contentBlocks:h=[]}){const g=o.columns.length>=3,b=!!(e.locked||o.locked||i.locked),f="none"!==r&&"output"!==r&&(null==a||a>=3),{attributes:x,listeners:v,setNodeRef:y,transform:w,isDragging:k}=(0,ar.PM)({id:`canvas-column-${e.id}`,data:{type:"canvas-column-item",columnId:e.id,rowId:t,sectionId:n},disabled:b}),{isOver:j,setNodeRef:N}=(0,ar.zM)({id:`column-${e.id}`,data:{type:"canvas-column",columnId:e.id,rowId:t,sectionId:n,blockCount:e.blocks.length},disabled:b}),C={transform:hr.Ks.Translate.toString(w),opacity:k?.75:void 0},_=e.blocks.map(e=>`canvas-block-${e.id}`),A=$n(e.padding),S=In(e.padding),I=S.length>0||null!=A,$=Rn(e.margin),M=Mn(e.margin).map(e=>{const t=e.match(/^m-(\d+(?:\.\d+)?)$/);if(t){if(parseFloat(t[1])>2)return`m-2 sm:${e}`}return e}),R=Yr(e.align),T=Xr(e.align),O={...!Boolean(e.backgroundClassName)&&e.backgroundColor?{background:e.backgroundColor}:{},...A?{padding:A}:{},...$?{margin:$}:{},...T??{}},E=e.blocks.map((e,t)=>({block:e,index:t})).filter(({block:e})=>c||!e.hidden),B=e.blocks.length>0&&E.length>0&&E[E.length-1].index!==e.blocks.length-1,{selectContainer:z}=ws(),F=f?"primary"===r?s?"border-primary/20 bg-primary/5":"border-blue-500/20 bg-blue-500/5":s?"border-accent/50 bg-accent/10":"border-purple-300/30 bg-purple-50/40":"",P=f?"primary"===r?s?"bg-primary/10 shadow-lg":"bg-blue-500/20 shadow-lg":s?"bg-base-300/60 shadow-lg":"bg-purple-200/60 shadow-lg":"",D=f?"primary"===r?s?"border-primary/20 bg-base-200/20":"border-blue-400/20 bg-blue-500/5":s?"border-base-300/20 bg-base-200/20":"border-slate-300/20 bg-white":"",Z=f?"primary"===r?s?"border-primary/40 shadow-[0_0_0_3px_rgba(59,130,246,0.2)]":"border-blue-500/40 shadow-[0_0_0_3px_rgba(59,130,246,0.2)]":"border-green-500/60 shadow-[0_0_0_3px_rgba(34,197,94,0.15)]":"";return(0,gs.jsxs)("div",{ref:y,style:C,className:(0,hn.A)("relative flex flex-col gap-1 transition","output"!==r&&"rounded-[0.85rem] cursor-pointer",f&&"p-1 border border-dashed",F,{[P]:k&&f,"opacity-70":b,"!border-red-600 !bg-red-100/40 shadow-[0_0_0_3px_rgba(220,38,38,0.2)]":j&&b&&f}),onClick:t=>{0===t.nativeEvent.buttons&&(t.stopPropagation(),z({kind:"column",id:e.id}))},children:[(0,gs.jsx)(Gr,{type:"Column",daisyui:s,colorMode:r}),"output"!==r&&g?(0,gs.jsxs)("div",{className:"flex justify-end items-center gap-1 mb-1",children:[(0,gs.jsxs)("div",{className:"flex gap-1",children:[c&&(0,gs.jsx)(la,{columnId:e.id,hidden:!!e.hidden,daisyui:s,compact:g}),!c&&(0,gs.jsx)("div",{className:"w-5 h-5 flex items-center justify-center text-xs text-gray-400",children:(0,gs.jsx)(dr.k,{size:14,weight:"bold"})}),(0,gs.jsx)(na,{columnId:e.id,locked:!!e.locked,daisyui:s,unlockable:l,compact:g})]}),!b&&(0,gs.jsxs)("div",{className:"flex gap-1",children:[(0,gs.jsx)("button",{type:"button",className:(0,hn.A)("inline-flex items-center justify-center w-5 h-5 border-0 rounded cursor-grab transition",{"bg-slate-200/60 text-slate-500 hover:bg-slate-200/90 hover:text-slate-800 active:cursor-grabbing focus-visible:outline focus-visible:outline-blue-500/55":!s,"bg-base-200 text-base-content/60 hover:bg-base-200/90 hover:text-base-content active:cursor-grabbing focus-visible:outline focus-visible:outline-primary/55":s}),"aria-label":"Drag column",onMouseDown:()=>console.log("\ud83d\udfea Column drag handle clicked:",e.id),...x,...v,children:(0,gs.jsx)(pr.W,{size:14,weight:"bold"})}),(0,gs.jsx)(sa,{columnId:e.id,daisyui:s,compact:g})]})]}):"output"!==r?(0,gs.jsxs)("div",{className:"flex justify-end gap-2 shrink-0 mb-1",style:{pointerEvents:"auto"},children:[c&&(0,gs.jsx)(la,{columnId:e.id,hidden:!!e.hidden,daisyui:s,compact:g}),!c&&(0,gs.jsx)("div",{className:"w-6 h-6 mt-0.5 flex items-center justify-center text-xs text-gray-400 pointer-events-none",children:(0,gs.jsx)(dr.k,{size:16,weight:"bold"})}),(0,gs.jsx)(na,{columnId:e.id,locked:!!e.locked,daisyui:s,unlockable:l,compact:g}),!b&&(0,gs.jsxs)(gs.Fragment,{children:[(0,gs.jsx)("button",{type:"button",className:(0,hn.A)("inline-flex items-center justify-center w-6 h-6 mt-0.5 border-0 rounded-lg cursor-grab transition",{"bg-slate-200/60 text-slate-500 hover:bg-slate-200/90 hover:text-slate-800 active:cursor-grabbing focus-visible:outline focus-visible:outline-blue-500/55":!s,"bg-base-200 text-base-content/60 hover:bg-base-200/90 hover:text-base-content active:cursor-grabbing focus-visible:outline focus-visible:outline-primary/55":s}),"aria-label":"Drag column",onMouseDown:()=>console.log("\ud83d\udfea Column drag handle clicked:",e.id),...x,...v,children:(0,gs.jsx)(pr.W,{size:16,weight:"bold"})}),(0,gs.jsx)(sa,{columnId:e.id,daisyui:s,compact:g})]})]}):null,(0,gs.jsx)(mr.gB,{id:`column-${e.id}`,items:_,strategy:mr._G,children:(0,gs.jsxs)("div",{ref:N,className:(0,hn.A)("min-h-[140px] w-full transition flex flex-col items-stretch","output"!==r&&"rounded-xl",f&&"border border-dashed",{"p-4":!I&&"output"!==r},D,{[Z]:j&&!b&&f,"!border-error/80 !bg-error/10 shadow-[0_0_0_3px_rgba(220,38,38,0.15)]":j&&b&&f&&s,"!border-red-600/80 !bg-red-100/30 shadow-[0_0_0_3px_rgba(220,38,38,0.15)]":j&&b&&f&&!s},e.backgroundClassName,e.className,S,M,R),style:{...O,pointerEvents:"auto",width:"100%"},onClick:e=>{e.stopPropagation()},children:[0===e.blocks.length&&"output"!==r&&(0,gs.jsx)("div",{className:(0,hn.A)("flex items-center justify-center min-h-[88px] text-sm rounded-xl","primary"===r?s?"text-primary/70 bg-base-200/20 border border-dashed border-primary/30":"text-blue-600":s?"text-base-content/60 bg-base-200/20 border border-dashed border-base-300/50":"text-slate-400"),children:"Drop content blocks here"}),f&&(0,gs.jsx)(ea,{columnId:e.id,index:0,isDisabled:b,daisyui:s,colorMode:r}),E.map(({block:t,index:n})=>(0,gs.jsxs)(Bn.Fragment,{children:[(0,gs.jsx)(ua,{block:t,columnId:e.id,daisyui:s,colorMode:r,isParentLocked:b,showHidden:c,customBlockRegistry:d,isCompactLayout:g}),f&&(0,gs.jsx)(ea,{columnId:e.id,index:n+1,isDisabled:b,daisyui:s,colorMode:r})]},t.id)),B&&f&&(0,gs.jsx)(ea,{columnId:e.id,index:e.blocks.length,isDisabled:b,daisyui:s,colorMode:r}),u&&m&&(0,gs.jsx)(ba,{label:"Add Block",variant:p,daisyui:s,items:h.map(e=>({id:br(e),label:e.label,icon:e.icon})),onSelect:t=>{h.find(e=>br(e)===t)&&m(e.id,t,e.blocks.length)}})]})})]})}function ma({row:e,sectionId:t,daisyui:n,colorMode:s="hierarchy",colorModeDepth:r,section:a,unlockable:o=!0,showHidden:i=!1,customBlockRegistry:l,inlineInsertionMode:c=!1,inlineInsertionVariant:d="icon-with-label",onAddColumn:u,onAddBlock:p,contentBlocks:m=[],structureItems:h=[]}){const{previewMode:g,selectContainer:b}=ws(),f=!(!e.locked&&!a.locked),x="none"!==s&&"output"!==s&&(null==r||r>=2),{attributes:v,listeners:y,setNodeRef:w,transform:k,isDragging:j}=(0,ar.PM)({id:`canvas-row-${e.id}`,data:{type:"canvas-row-item",rowId:e.id,sectionId:t},disabled:f}),{isOver:N,setNodeRef:C}=(0,ar.zM)({id:`row-${e.id}`,data:{type:"canvas-row-container",rowId:e.id,sectionId:t,columnCount:e.columns.length},disabled:f}),_={transform:hr.Ks.Translate.toString(k),opacity:j?.7:void 0},A="mobile"===g,S=$n(e.padding),I=In(e.padding),$=Rn(e.margin),M=Mn(e.margin).map(e=>{const t=e.match(/^m-(\d+(?:\.\d+)?)$/);if(t){if(parseFloat(t[1])>2)return`m-2 sm:${e}`}return e}),R=Yr(e.align),T=Xr(e.align),O=Boolean(e.backgroundClassName),E={gap:e.gutter??8,gridTemplateColumns:A?"repeat(1, minmax(0, 1fr))":`repeat(${Math.max(e.columns.length,1)}, minmax(0, 1fr))`,alignItems:"start",justifyItems:"stretch",...!O&&e.backgroundColor?{background:e.backgroundColor}:{},...S?{padding:S}:{},...$?{margin:$}:{},...T??{}},B=e.columns.map(e=>`canvas-column-${e.id}`),z=x?"primary"===s?n?"border-primary/30 bg-primary/10":"border-blue-500/30 bg-blue-500/10":n?"border-secondary/30 bg-secondary/10":"border-green-300/30 bg-green-50/40":"",F=x?"primary"===s?n?"bg-primary/20 shadow-lg":"bg-blue-500/20 shadow-lg":n?"bg-base-200/60 shadow-lg":"bg-green-100/60 shadow-lg":"",P=x?"primary"===s?n?"border-primary/50 shadow-[0_0_0_3px_rgba(59,130,246,0.2)]":"border-blue-500/50 shadow-[0_0_0_3px_rgba(59,130,246,0.2)]":"border-green-500/60 shadow-[0_0_0_3px_rgba(34,197,94,0.15)]":"";return(0,gs.jsxs)("div",{ref:w,style:_,className:(0,hn.A)("relative flex flex-col gap-1 transition","output"!==s&&"rounded-[0.85rem]",x&&"p-1 border border-dashed",z,{[F]:j&&x,[P]:N&&!f&&x,"opacity-70":f,"!border-red-600 !bg-red-100/40 shadow-[0_0_0_3px_rgba(220,38,38,0.2)]":N&&f&&x}),children:[(0,gs.jsx)(Gr,{type:"Row",daisyui:n,colorMode:s}),"output"!==s&&(0,gs.jsxs)("div",{className:"flex justify-end gap-2",children:[i&&(0,gs.jsx)(ca,{rowId:e.id,hidden:!!e.hidden,daisyui:n}),!i&&(0,gs.jsx)("div",{className:"w-6 h-6 mt-0.5 flex items-center justify-center text-xs text-gray-400",children:(0,gs.jsx)(dr.k,{size:16,weight:"bold"})}),(0,gs.jsx)(ra,{rowId:e.id,locked:!!e.locked,daisyui:n,unlockable:o}),!f&&(0,gs.jsxs)(gs.Fragment,{children:[(0,gs.jsx)("button",{type:"button",className:(0,hn.A)("inline-flex items-center justify-center w-6 h-6 mt-0.5 border-0 rounded-lg cursor-grab transition",{"bg-slate-200/60 text-slate-500 hover:bg-slate-200/90 hover:text-slate-800 active:cursor-grabbing focus-visible:outline focus-visible:outline-blue-500/55":!n,"bg-base-200 text-base-content/60 hover:bg-base-200/90 hover:text-base-content active:cursor-grabbing focus-visible:outline focus-visible:outline-primary/55":n}),"aria-label":"Drag row",onMouseDown:()=>console.log("\ud83d\udfeb Row drag handle clicked:",e.id),...v,...y,children:(0,gs.jsx)(pr.W,{size:16,weight:"bold"})}),(0,gs.jsx)(aa,{rowId:e.id,daisyui:n})]})]}),(0,gs.jsx)(mr.gB,{id:`row-${e.id}`,items:B,strategy:mr.m$,children:(0,gs.jsxs)("div",{ref:C,className:(0,hn.A)("grid w-full",e.backgroundClassName,e.className,I,M,R),style:E,onClick:t=>{t.stopPropagation(),b({kind:"row",id:e.id})},children:[0===e.columns.length&&"output"!==s?(0,gs.jsx)("div",{className:(0,hn.A)("flex items-center justify-center min-h-[88px] rounded-xl border border-dashed text-sm","primary"===s?n?"border-primary/30 text-primary/70 bg-base-200/20":"border-blue-500/30 text-blue-600 bg-blue-500/10":n?"border-base-300/50 text-base-content/60 bg-base-200/20":"border-slate-300/30 text-slate-400 bg-slate-50/50"),children:"Drop columns here"}):e.columns.filter(e=>i||!e.hidden).map(u=>(0,gs.jsx)(pa,{column:u,rowId:e.id,sectionId:t,daisyui:n,colorMode:s,colorModeDepth:r,row:e,section:a,unlockable:o,showHidden:i,customBlockRegistry:l,inlineInsertionMode:c,inlineInsertionVariant:d,onAddBlock:p,contentBlocks:m},u.id)),c&&u&&(0,gs.jsx)(ba,{label:"Add Column",variant:d,daisyui:n,items:[{id:"1",label:"1 Column",icon:h.find(e=>"structure-columns-1"===e.id)?.icon},{id:"2",label:"2 Columns",icon:h.find(e=>"structure-columns-2"===e.id)?.icon},{id:"3",label:"3 Columns",icon:h.find(e=>"structure-columns-3"===e.id)?.icon}],onSelect:t=>{const n=parseInt(t,10);u(e.id,n,e.columns.length)}})]})})]})}function ha({section:e,daisyui:t,colorMode:n="hierarchy",colorModeDepth:s,unlockable:r=!0,showHidden:a=!1,customBlockRegistry:o,inlineInsertionMode:i=!1,inlineInsertionVariant:l="icon-with-label",onAddRow:c,onAddColumn:d,onAddBlock:u,contentBlocks:p=[],structureItems:m=[]}){const{selectContainer:h}=ws(),{attributes:g,listeners:b,setNodeRef:f,transform:x,isDragging:v}=(0,ar.PM)({id:`canvas-section-${e.id}`,data:{type:"canvas-section-item",sectionId:e.id},disabled:e.locked}),{isOver:y,setNodeRef:w}=(0,ar.zM)({id:`section-${e.id}`,data:{type:"canvas-section",sectionId:e.id,rowCount:e.rows.length},disabled:e.locked}),k={transform:hr.Ks.Translate.toString(x),opacity:v?.7:void 0},j=e.rows.map(e=>`canvas-row-${e.id}`),N=e.rows.map((e,t)=>({row:e,index:t})).filter(({row:e})=>a||!e.hidden),C=e.rows.length>0&&(0===N.length||N[N.length-1].index!==e.rows.length-1),_=$n(e.padding),A=In(e.padding).length>0||null!=_,S=Mn(e.margin).map(e=>{const t=e.match(/^m-(\d+(?:\.\d+)?)$/);if(t){if(parseFloat(t[1])>2)return`m-2 sm:${e}`}return e}),I=Yr(e.align),$="none"!==n&&"output"!==n&&(null==s||s>=1),M=$?"primary"===n?t?"border-primary/40 bg-base-200/20":"border-blue-500/40 bg-blue-500/20":t?"border-base-300/50 bg-base-200/20":"border-blue-300/30 bg-white":"",R=$?"primary"===n?t?"border-primary/60 shadow-[0_0_0_3px_rgba(59,130,246,0.25)]":"border-blue-500/60 shadow-[0_0_0_3px_rgba(59,130,246,0.2)]":"border-green-500/60 shadow-[0_0_0_3px_rgba(34,197,94,0.15)]":"";return(0,gs.jsxs)("div",{ref:f,style:k,className:(0,hn.A)("relative flex flex-col gap-3 mb-4 w-full max-w-full transition",{"shadow-2xl":v&&$,"bg-base-100":t&&!$,"opacity-70":e.locked||v&&$}),onMouseDown:()=>!e.locked&&"output"!==n&&console.log("\ud83d\udfe6 Section drag handle clicked:",e.id),children:[(0,gs.jsx)(Gr,{type:"Section",daisyui:t,colorMode:n}),"output"!==n&&(0,gs.jsxs)("div",{className:"flex justify-end gap-2",children:[a&&(0,gs.jsx)(da,{sectionId:e.id,hidden:!!e.hidden,daisyui:t}),!a&&(0,gs.jsx)("div",{className:"w-6 h-6 mt-0.5 flex items-center justify-center text-xs text-gray-400",children:(0,gs.jsx)(dr.k,{size:16,weight:"bold"})}),(0,gs.jsx)(oa,{sectionId:e.id,locked:!!e.locked,daisyui:t,unlockable:r}),!e.locked&&(0,gs.jsxs)(gs.Fragment,{children:[(0,gs.jsx)("button",{type:"button",className:(0,hn.A)("inline-flex items-center justify-center w-6 h-6 mt-0.5 border-0 rounded-lg cursor-grab transition",{"bg-slate-200/60 text-slate-500 hover:bg-slate-200/90 hover:text-slate-800 active:cursor-grabbing focus-visible:outline focus-visible:outline-blue-500/55":!t,"bg-base-200 text-base-content/60 hover:bg-base-200/90 hover:text-base-content active:cursor-grabbing focus-visible:outline focus-visible:outline-primary/55":t}),"aria-label":"Drag section",...g,...b,children:(0,gs.jsx)(pr.W,{size:16,weight:"bold"})}),(0,gs.jsx)(ia,{sectionId:e.id,daisyui:t})]})]}),(0,gs.jsx)("section",{ref:w,className:(0,hn.A)("flex flex-col gap-2 transition w-full max-w-full box-border","output"!==n&&"rounded-[0.9rem]",$&&"border",{"p-2 md:p-4":!A&&"output"!==n},"output"===n&&(t?"border border-base-300/50":"border border-gray-300"),"output"===n&&"p-2","output"===n&&t&&"bg-base-200/20",M,{[R]:y&&!e.locked&&$,"!border-error/80 !bg-error/10 shadow-[0_0_0_3px_rgba(220,38,38,0.2)]":y&&e.locked&&$&&t,"!border-red-600 !bg-red-100/40 shadow-[0_0_0_3px_rgba(220,38,38,0.2)]":y&&e.locked&&$&&!t},e.backgroundClassName,e.className,["pt-1 px-2 pb-2"],S,I),onClick:t=>{t.stopPropagation(),h({kind:"section",id:e.id})},children:(0,gs.jsxs)(mr.gB,{id:`section-${e.id}`,items:j,strategy:mr._G,children:[$&&(0,gs.jsx)(ta,{sectionId:e.id,index:0,isDisabled:!!e.locked,daisyui:t,colorMode:n}),0===e.rows.length&&"output"!==n?(0,gs.jsx)("div",{className:(0,hn.A)("flex items-center justify-center min-h-40 rounded-xl text-sm border border-dashed text-[0.85rem]","primary"===n?t?"border-primary/30 bg-base-200/20 text-primary/70":"border-blue-500/30 bg-blue-500/10 text-blue-600":t?"border-base-300/50 bg-base-200/20 text-base-content/70":"border-slate-300/40 bg-slate-100/40 text-slate-500"),children:"Drop rows or column layouts here"}):N.map(({row:c,index:h})=>(0,gs.jsxs)(Bn.Fragment,{children:[(0,gs.jsx)(ma,{row:c,sectionId:e.id,daisyui:t,colorMode:n,colorModeDepth:s,section:e,unlockable:r,showHidden:a,customBlockRegistry:o,inlineInsertionMode:i,inlineInsertionVariant:l,onAddColumn:d,onAddBlock:u,contentBlocks:p,structureItems:m}),$&&(0,gs.jsx)(ta,{sectionId:e.id,index:h+1,isDisabled:!!e.locked,daisyui:t,colorMode:n})]},c.id)),C&&$&&(0,gs.jsx)(ta,{sectionId:e.id,index:e.rows.length,isDisabled:!!e.locked,daisyui:t,colorMode:n}),i&&c&&(0,gs.jsx)(ba,{label:"Add Row",variant:l,daisyui:t,items:[{id:"row-1",label:"1 Column",icon:m.find(e=>"structure-columns-1"===e.id)?.icon},{id:"row-2",label:"2 Columns",icon:m.find(e=>"structure-columns-2"===e.id)?.icon},{id:"row-3",label:"3 Columns",icon:m.find(e=>"structure-columns-3"===e.id)?.icon},{id:"row",label:"Row",icon:m.find(e=>"structure-row"===e.id)?.icon}],onSelect:t=>{const n="row"===t?1:parseInt(t.replace("row-",""),10);c(e.id,n,e.rows.length)}})]})})]})}function ga({items:e,onSelect:t,daisyui:n,onClose:s}){const r=(0,Bn.useRef)(null);return(0,Bn.useEffect)(()=>{const e=e=>{r.current&&!r.current.contains(e.target)&&s()};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[s]),(0,gs.jsx)("div",{ref:r,className:(0,hn.A)("absolute z-50 mt-2 w-56 rounded-lg shadow-lg border",{"bg-white border-slate-200":!n,"bg-base-100 border-base-300":n}),style:{bottom:"100%",left:"50%",transform:"translateX(-50%)"},onClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),children:(0,gs.jsx)("div",{className:"py-1",children:e.map(e=>{const r=e.icon;return(0,gs.jsxs)("button",{type:"button",className:(0,hn.A)("w-full flex items-center gap-3 px-4 py-2 text-sm transition",{"text-slate-700 hover:bg-slate-100":!n,"text-base-content hover:bg-base-200":n}),onClick:n=>{n.stopPropagation(),t(e.id),s()},children:[r&&(0,gs.jsx)(r,{size:18,weight:"duotone"}),(0,gs.jsx)("span",{children:e.label})]},e.id)})})})}function ba({label:e,variant:t="icon-with-label",daisyui:n,items:s,onSelect:r,disabled:a}){const[o,i]=(0,Bn.useState)(!1),l=(0,Bn.useRef)(null);return a?null:(0,gs.jsxs)("div",{className:"relative flex justify-center my-2",children:[(0,gs.jsxs)("button",{ref:l,type:"button",className:(0,hn.A)("flex items-center gap-2 px-4 py-2 rounded-lg transition min-h-[44px]",{"bg-blue-50 text-blue-700 hover:bg-blue-100 border border-blue-200":!n,"bg-primary/10 text-primary hover:bg-primary/20 border border-primary/20":n}),onClick:e=>{e.stopPropagation(),i(!o)},"aria-label":`Add ${e}`,children:[(0,gs.jsx)(gr.F,{size:20,weight:"bold"}),"icon-with-label"===t&&(0,gs.jsx)("span",{className:"text-sm font-medium",children:e})]}),o&&(0,gs.jsx)(ga,{items:s,onSelect:r,daisyui:n,onClose:()=>i(!1)})]})}function fa({sections:e,daisyui:t=!1,colorMode:n="hierarchy",colorModeDepth:s=null,unlockable:r=!0,showHidden:a=!1,customBlockRegistry:o={},inlineInsertionMode:i=!1,inlineInsertionVariant:l="icon-with-label",onAddSection:c,onAddRow:d,onAddColumn:u,onAddBlock:p,contentBlocks:m=[],structureItems:h=[]}){const{selectBlock:g,selectContainer:b,document:f}=ws(),{isOver:x,setNodeRef:v}=(0,ar.zM)({id:"canvas"});(0,Bn.useEffect)(()=>{if(!f.theme?.fonts)return;const e="email-editor-fonts";let t=globalThis.document.getElementById(e);t||(t=globalThis.document.createElement("style"),t.id=e,globalThis.document.head.appendChild(t));const n=f.theme.fonts.filter(e=>e.webFont).map(e=>`\n        @font-face {\n          font-family: "${e.fontFamily}";\n          src: url("${e.webFont.url}") format("${e.webFont.format}");\n          font-weight: ${e.fontWeight??400};\n          font-style: ${e.fontStyle??"normal"};\n        }\n      `).join("\n");return t.textContent=n,()=>{t.remove()}},[f.theme?.fonts]);return console.log("\ud83d\udfe8 Canvas sections:",e.map(e=>({id:e.id,rowCount:e.rows.length}))),(0,gs.jsx)("div",{ref:v,style:{minHeight:400,padding:"0.25rem"},className:(0,hn.A)("w-full transition flex flex-col gap-2 rounded-xl",{"border-dashed border-2 border-primary/30 bg-primary/5":x&&t,"border-dashed border-2":x&&!t,"bg-base-100":!x&&t}),onClick:e=>{e.target===e.currentTarget&&(g(null),b(null))},children:0===e.length?(0,gs.jsx)("div",{className:(0,hn.A)("flex items-center justify-center min-h-[220px] rounded-xl border-2 border-dashed text-sm",{"border-slate-300/40 text-slate-500 bg-slate-100/60":!t,"border-base-300/50 text-base-content/70 bg-base-200/20":t}),children:"Drag a section to get started"}):e.filter(e=>a||!e.hidden).map((g,b)=>(0,gs.jsxs)(Bn.Fragment,{children:[(0,gs.jsx)(ha,{section:g,daisyui:t,colorMode:n,colorModeDepth:s,unlockable:r,showHidden:a,customBlockRegistry:o,inlineInsertionMode:i,inlineInsertionVariant:l,onAddRow:d,onAddColumn:u,onAddBlock:p,contentBlocks:m,structureItems:h}),i&&b<e.length-1&&c&&(0,gs.jsx)(ba,{label:"Add Section",variant:l,daisyui:t,items:[{id:"section",label:"Section",icon:h.find(e=>"structure-section"===e.id)?.icon}],onSelect:()=>c()})]},g.id))})}const xa="undefined"!=typeof window?Bn.useLayoutEffect:Bn.useEffect;function va({sections:e,daisyui:t=!1,colorMode:n="hierarchy",colorModeDepth:s=null,unlockable:r=!0,showHidden:a=!1,customBlockRegistry:o={},inlineInsertionMode:i=!1,inlineInsertionVariant:l="icon-with-label",onAddSection:c,onAddRow:d,onAddColumn:u,onAddBlock:p,contentBlocks:m,structureItems:h}){const g=(0,Bn.useContext)(bs),b=(0,Bn.useRef)(null),f=()=>(b.current||(b.current=qn()),b.current);xa(()=>{if(!g||e.length>0)return void(e.length>0&&(b.current=null));const t=f();g.setDocument({...g.document,sections:[t]},{commit:!1})},[g,e.length]);const x=e.length>0?e:[f()],v=g?.previewMode??"desktop",y="mobile"===v?"mx-auto w-[390px] max-w-full border border-primary/50 rounded-xl overflow-hidden":"mx-auto w-[720px] max-w-full";return(0,gs.jsx)("div",{className:"flex-1 p-2",children:(0,gs.jsx)("div",{className:y,"aria-label":`Preview area (${v})`,children:(0,gs.jsx)(fa,{sections:x,daisyui:t,colorMode:n,colorModeDepth:s,unlockable:r,showHidden:a,customBlockRegistry:o,inlineInsertionMode:i,inlineInsertionVariant:l,onAddSection:c,onAddRow:d,onAddColumn:u,onAddBlock:p,contentBlocks:m,structureItems:h})})})}var ya=n(6481),wa=n(1449),ka=n(6722);function ja({id:e,children:t,className:n,data:s,daisyui:r=!1}){const{attributes:a,listeners:o,setNodeRef:i,transform:l,isDragging:c}=(0,ar.PM)({id:e,data:{type:"sidebar-item",itemId:e,...s}}),{isOver:d,setNodeRef:u}=(0,ar.zM)({id:`sidebar-drop-${e}`,data:{type:"sidebar-drop",originalId:e,...s}}),p=l?{transform:`translate3d(${l.x}px, ${l.y}px, 0)`,opacity:c?0:void 0,visibility:c?"hidden":void 0}:c?{opacity:0,visibility:"hidden"}:void 0;return(0,gs.jsx)("div",{ref:e=>{i(e),u(e)},style:p,className:(0,hn.A)(n,{"cursor-grab select-none outline-none":!r,"btn btn-primary btn-soft text-xs text-start rounded-box":r,"ring-2 ring-blue-500 ring-opacity-50":d&&!c}),...o,...a,children:t})}const Na=[{id:"structure-section",label:"Section",icon:ya.G},{id:"structure-row",label:"Row",icon:wa.D},{id:"structure-columns-1",label:"1 Column",icon:ka.j},{id:"structure-columns-2",label:"2 Columns",icon:ka.j},{id:"structure-columns-3",label:"3 Columns",icon:ka.j}],Ca=[Vs,nr,Fs,Gs,Rs];function _a({structureItems:e=Na,blocks:t=Ca,daisyui:n=!1,columns:s=2,hidden:r=!1,...a}){a.variablesLocked;console.log("[Sidebar] Received blocks prop:",t.map(e=>e.type));const{variables:o}=ws(),i=(0,Bn.useMemo)(()=>Object.entries(o),[o]),l=(0,Bn.useMemo)(()=>(0,hn.A)("w-full grid gap-3 grid-cols-1",{"md:grid-cols-2":2===s,"md:grid-cols-3":3===s}),[s]);return r?null:(0,gs.jsxs)("aside",{className:(0,hn.A)("p-2 sticky top-0",{"w-52":1===s,"w-80":2===s,"w-96":3===s,"flex flex-col gap-5 bg-slate-50":!n,"border-black":!n,"flex flex-col gap-5 border-primary":n}),children:[e.length>0&&(0,gs.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,gs.jsx)("p",{className:(0,hn.A)({"mb-y text-xs font-semibold tracking-wider uppercase text-slate-900":!n,"text-sm font-bold uppercase mb-4 leading-none text-base-content/60":n}),children:"Structure"}),(0,gs.jsx)("div",{className:l,children:e.map(e=>(0,gs.jsx)(ja,{id:e.id,className:(0,hn.A)({group:!n}),daisyui:n,data:{category:"structure",label:e.label},children:(0,gs.jsxs)("div",{className:(0,hn.A)("flex items-center gap-4",{"p-3 rounded-xl border border-dashed border-slate-900/10 bg-white text-slate-900 text-sm font-medium leading-5 transition transform group-hover:border-green-500/40 group-hover:shadow-lg group-hover:-translate-y-0.5 group-focus-within:border-green-500/40 group-focus-within:shadow-lg active:scale-95":!n}),children:[(0,gs.jsx)(e.icon,{size:18,weight:"duotone"}),(0,gs.jsx)("span",{children:e.label})]})},e.id))})]}),t.length>0&&(0,gs.jsxs)("div",{className:"flex flex-col gap-3 items-center",children:[(0,gs.jsx)("div",{className:(0,hn.A)("my-2",{"mb-y text-xs font-semibold tracking-wider uppercase text-slate-900":!n,"text-sm font-bold uppercase flex items-center justify-center leading-none text-base-content/60":n}),children:"Content"}),(0,gs.jsx)("div",{className:l,children:t.map(e=>{const t=fr(e);return(0,gs.jsx)(ja,{id:t,className:(0,hn.A)({group:!n}),daisyui:n,data:{category:"content",blockType:e.type,label:e.label,defaults:e.defaults},children:(0,gs.jsxs)("div",{className:(0,hn.A)("flex items-center gap-4",{"p-3 rounded-xl border border-dashed border-slate-900/10 bg-white text-slate-900 text-sm font-medium leading-5 transition transform group-hover:border-green-500/40 group-hover:shadow-lg group-hover:-translate-y-0.5 group-focus-within:border-green-500/40 group-focus-within:shadow-lg active:scale-95":!n}),children:[(0,gs.jsx)(e.icon,{size:18,weight:"duotone"}),(0,gs.jsx)("span",{children:e.label})]})},t)})})]}),i.length>0&&(0,gs.jsxs)("div",{className:"flex flex-col gap-3 w-full items-center",children:[(0,gs.jsx)("div",{className:(0,hn.A)("my-2 w-full",{"text-xs font-semibold tracking-wider uppercase text-slate-900":!n,"text-sm font-bold uppercase leading-none text-base-content/60":n}),children:(0,gs.jsx)("span",{children:"Variables"})}),(0,gs.jsx)("div",{className:(0,hn.A)("w-full flex flex-col gap-3",{"px-2":!n,"px-3":n}),children:(0,gs.jsx)("div",{className:(0,hn.A)("flex flex-col gap-3 rounded-lg border p-3",{"bg-white border-slate-200 shadow-sm":!n,"bg-base-200 border-base-300":n}),children:(0,gs.jsx)("ul",{className:"flex flex-col gap-2",children:i.map(([e,t])=>{const s=function(e){return"string"==typeof e?"string":"number"==typeof e?"number":"object"}(t);return(0,gs.jsxs)("li",{className:(0,hn.A)("flex items-center justify-between gap-2 rounded-md px-2 py-1",{"bg-slate-100 text-slate-800":!n,"bg-base-100 text-base-content":n}),title:`Variable: ${e} (${s})`,children:[(0,gs.jsx)("span",{className:"text-[11px] font-mono font-semibold tracking-tight",children:e}),(0,gs.jsx)("span",{className:(0,hn.A)("text-[11px]",{"text-slate-600":!n,"text-base-content/70":n}),children:s})]},e)})})})})]})]})}var Aa=n(8882),Sa=n(9298),Ia=n(9524),$a=n(5079),Ma=n(1358),Ra=n(769),Ta=n(4281),Oa=/\{\{\s*([a-zA-Z0-9_.-]+)\s*\}\}/g;function Ea(e){if(null==e)return"";if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return String(e);if(Array.isArray(e))return e.map(Ea).join(", ");if("object"==typeof e)try{return JSON.stringify(e)}catch{return String(e)}return String(e)}function Ba(e,t){if(!t.variables)return{found:!1};const n=function(e,t){if(!e||"object"!=typeof e)return;const n=t.split(".");let s=e;for(const r of n){if(null==s||"object"!=typeof s)return;if(Array.isArray(s)){const e=Number.parseInt(r,10);if(Number.isNaN(e))return;s=s[e]}else s=s[r]}return s}(t.variables,e);return void 0!==n?{found:!0,value:n}:Object.prototype.hasOwnProperty.call(t.variables,e)?{found:!0,value:t.variables[e]}:{found:!1}}function za(e,t){if(t.throwOnMissingVariables)throw new Error(`Missing template variable "${e}". Pass it via options.variables or disable throwOnMissingVariables.`)}function Fa(e,t){if(!e)return e;if(!t.variables){if(t.throwOnMissingVariables)for(const n of e.matchAll(Oa)){const e=n[1];e&&za(e,t)}return e}return e.replace(Oa,(e,n)=>{if(!t.variables)return`{{${n}}}`;const s=Ba(n,t);return s.found?Ea(s.value):(za(n,t),`{{${n}}}`)})}function Pa(e,t){if(null==e)return e;if("string"==typeof e){const n=function(e,t){if(!e)return e;if("string"==typeof e&&e.match(/^\{\{([a-zA-Z0-9_.-]+)\}\}$/)){const n=e.slice(2,-2).trim();if(!t.variables)return za(n,t),e;const s=Ba(n,t);if(s.found)return s.value;za(n,t)}return e}(e,t);return n!==e?n:Fa(e,t)}if(Array.isArray(e))return e.map(e=>Pa(e,t));if("object"==typeof e){const n=e,s={};for(const e of Object.keys(n))s[e]=Pa(n[e],t);return s}return e}function Da(e,t,n){const s=n.indent??2,r=[];if(r.push("<!DOCTYPE html>"),r.push("<html>"),r.push("  <head>"),r.push('    <meta charset="utf-8" />'),r.push('    <meta name="viewport" content="width=device-width, initial-scale=1.0" />'),e.meta.title){const n=Fa(e.meta.title,t)??e.meta.title;r.push(`    <title>${n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}</title>`)}if(e.meta.description){const n=Fa(e.meta.description,t)??e.meta.description;r.push(`    <meta name="description" content="${n.replace(/"/g,"&quot;")}" />`)}r.push("  </head>");const a=n.daisyui?' class="bg-base-100 font-sans text-base-content"':"",o=["margin: 0","padding: 0"];n.daisyui&&n.theme?.["base-100"]&&o.push(`background-color: ${n.theme["base-100"]}`),n.daisyui&&n.theme?.["base-content"]&&o.push(`color: ${n.theme["base-content"]}`),n.daisyui&&o.push('font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif');const i=o.length>0?` style="${o.join("; ")}"`:"";r.push(`  <body${a}${i}>`);const l=n.daisyui?' class="max-w-xl mx-auto p-4"':"";return r.push(`    <div${l}>`),e.sections.filter(e=>!e.hidden).forEach(e=>{const s=[e.backgroundColor?`background:${e.backgroundColor}`:"",e.padding?`padding:${e.padding}`:""].filter(Boolean).join(";"),a=s?` style="${s}"`:"",o=[e.backgroundClassName,e.className].filter(Boolean).join(" "),i=o.length>0?` class="${o}"`:"";r.push(`      <section data-id="${e.id}"${i}${a}>`),e.rows.filter(e=>!e.hidden).forEach(e=>{const s=[null!=e.gutter?`gap:${e.gutter}px`:"",e.backgroundColor?`background:${e.backgroundColor}`:"",e.padding?`padding:${e.padding}`:""].filter(Boolean).join(";"),a=s?` style="${s}"`:"",o=[e.backgroundClassName,e.className].filter(Boolean).join(" "),i=o.length>0?` ${o}`:"";r.push(`        <div class="red-row${i}" data-id="${e.id}"${a}>`),e.columns.filter(e=>!e.hidden).forEach(e=>{const s=[e.backgroundColor?`background:${e.backgroundColor}`:"",e.padding?`padding:${e.padding}`:""].filter(Boolean).join(";"),a=s?` style="${s}"`:"",o=[e.backgroundClassName,e.className].filter(Boolean).join(" "),i=o.length>0?` ${o}`:"";r.push(`          <div class="red-column${i}" data-id="${e.id}"${a}>`),e.blocks.filter(e=>!e.hidden).forEach(e=>{const s=function(e,t,n){switch(e.type){case"heading":const s=e.props.as??"h2",r=e.props.color??(e.props.colorClassName?void 0:"#111827"),a=[e.props.align?`text-align:${e.props.align}`:"",null!=e.props.fontSize?`font-size:${e.props.fontSize}px`:"",r?`color:${r}`:"",e.props.lineHeight?`line-height:${e.props.lineHeight}`:"",e.props.fontWeight?`font-weight:${e.props.fontWeight}`:"",e.props.margin?`margin:${e.props.margin}`:"",e.props.padding?`padding:${e.props.padding}`:""].filter(Boolean).join(";"),o=[e.props.className,e.props.colorClassName].filter(Boolean).join(" ");return`<${s}${o.length>0?` class="${o}"`:""}${a.length>0?` style="${a}"`:""}>${Fa(e.props.content,t)??""}</${s}>`;case"text":const i=n.daisyui&&!e.props.colorClassName?void 0:"#1f2937",l=e.props.color??(e.props.colorClassName?void 0:i),c=[e.props.align?`text-align:${e.props.align}`:"",null!=e.props.fontSize?`font-size:${e.props.fontSize}px`:"",l?`color:${l}`:"",e.props.lineHeight?`line-height:${e.props.lineHeight}`:"",e.props.fontWeight?`font-weight:${e.props.fontWeight}`:"",e.props.margin?`margin:${e.props.margin}`:"",e.props.padding?`padding:${e.props.padding}`:""].filter(Boolean).join(";"),d=[e.props.className,e.props.colorClassName,!n.daisyui||e.props.colorClassName||e.props.color?void 0:"text-base-content",n.daisyui||e.props.colorClassName||e.props.color?void 0:"text-gray-800"].filter(Boolean).join(" ");return`<p${d.length>0?` class="${d}"`:""}${c.length>0?` style="${c}"`:""}>${Fa(e.props.content,t)??""}</p>`;case"button":const u=Fa(e.props.href,t)??e.props.href??"#",p=e.props.backgroundColor??(e.props.backgroundClassName?void 0:"#2563eb"),m=e.props.color??(e.props.colorClassName?void 0:"#ffffff"),h=["display:inline-block",e.props.padding?`padding:${e.props.padding}`:"padding:12px 24px",p?`background:${p}`:"",m?`color:${m}`:"",null!=e.props.borderRadius?`border-radius:${e.props.borderRadius}px`:"",null!=e.props.fontSize?`font-size:${e.props.fontSize}px`:"",e.props.fontWeight?`font-weight:${e.props.fontWeight}`:"",e.props.margin?`margin:${e.props.margin}`:"",e.props.align?`text-align:${e.props.align}`:"","text-decoration:none"].filter(Boolean).join(";"),g=[e.props.className,e.props.backgroundClassName,e.props.colorClassName].filter(Boolean).join(" ");return`<a href="${u}"${g.length>0?` class="${g}"`:""}${h.length>0?` style="${h}"`:""}>${Fa(e.props.label,t)??e.props.label}</a>`;case"image":const b=[null!=e.props.width?`width:${e.props.width}px`:"",null!=e.props.height?`height:${e.props.height}px`:"",null!=e.props.borderRadius?`border-radius:${e.props.borderRadius}px`:"",e.props.margin?`margin:${e.props.margin}`:"",e.props.padding?`padding:${e.props.padding}`:""].filter(Boolean).join(";"),f=e.props.className?` class="${e.props.className}"`:"",x=b.length>0?` style="${b}"`:"";let v=Fa(e.props.src,t)??e.props.src;if(v&&v.includes("{{")){const n=Fa(e.props.placeholder,t);n&&!n.includes("{{")?v=n:e.props.placeholder&&!e.props.placeholder.includes("{{")&&(v=e.props.placeholder)}return`<img src="${v}" alt="${Fa(e.props.alt,t)??""}"${f}${x} />`;case"divider":const y=e.props.color??(e.props.colorClassName?void 0:"#e5e7eb"),w=[e.props.margin?`margin:${e.props.margin}`:"margin:16px 0",e.props.padding?`padding:${e.props.padding}`:"","border-style:solid",`border-width:${e.props.thickness??1}px`,y?`border-color:${y}`:"",e.props.width?`width:${e.props.width}`:""].filter(Boolean).join(";"),k=[e.props.className,e.props.colorClassName].filter(Boolean).join(" ");return`<hr${k.length>0?` class="${k}"`:""}${w.length>0?` style="${w}"`:""} />`;case"custom":const j=Pa(e.props.props,t),N=JSON.stringify(j).replace(/'/g,"&apos;");return`<div data-custom-block="${e.props.componentName}" data-props='${N}'>\x3c!-- Custom block: ${e.props.componentName} --\x3e</div>`;default:return""}}(e,t,n);s&&r.push(`            ${s}`)}),r.push("          </div>")}),r.push("        </div>")}),r.push("      </section>")}),r.push("    </div>"),r.push("  </body>"),r.push("</html>"),s<=0?r.join("\n"):r.map(e=>{const t=e.trimStart(),n=(e.length-t.length)/2;return" ".repeat(n*s)+t}).join("\n")}function Za(e,t,n){const s=[];e.sections.filter(e=>!e.hidden).forEach((e,n)=>{n>0&&(s.push(""),s.push("---"),s.push("")),e.rows.filter(e=>!e.hidden).forEach(e=>{e.columns.filter(e=>!e.hidden).forEach(e=>{e.blocks.filter(e=>!e.hidden).forEach(e=>{const n=function(e,t){switch(e.type){case"text":case"heading":return Fa(e.props.content,t)??"";case"button":return`${Fa(e.props.label,t)??e.props.label} (${Fa(e.props.href,t)??e.props.href??"#"})`;case"image":return Fa(e.props.alt,t)??Fa(e.props.src,t)??e.props.src;case"divider":return"\u2014\u2014";case"custom":{const n=e.props.componentName,s=Pa(e.props.props,t),r=["title","content","text","label","description","message"];let a=n;for(const e of r)if(s&&"object"==typeof s&&e in s){const t=s[e];if("string"==typeof t&&t.trim()){a=`${n}: ${t}`;break}}return a}default:throw new Error(`Unsupported block type: ${String(e)}`)}}(e,t);n.trim().length&&s.push(n.trim())})})})});const r=n.indent??0;return r>0?function(e,t){const n=" ".repeat(t);return e.map(e=>e.length?`${n}${e}`:e).join("\n")}(s,r):s.join("\n")}var La={base:"",default:"",all:"",small:"sm",sm:"sm",mobile:"sm",medium:"md",md:"md",tablet:"md",large:"lg",lg:"lg",desktop:"lg",xl:"xl","2xl":"2xl"},Wa=["base","default","all","mobile","small","sm","tablet","medium","md","desktop","large","lg","xl","2xl"];function Va(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function Ha(e){return Number.isInteger(e)?`${e}`:e.toString().replace(/\.0+$/,"").replace(/(\.\d*?)0+$/,"$1")}function Ua(e){const t=4*e;if(Number.isInteger(t))return`${t}px`;return`${Ha(parseFloat(t.toFixed(3)))}px`}function Ja(e){const t=e.trim();if(!t)return;const n=Number(t);return Number.isNaN(n)?void 0:n}function Ka(e,t){if("number"==typeof e&&Number.isFinite(e))return`${t}-${Ha(e)}`;const n="string"==typeof e?e.trim():"";if(!n)return;if(n.startsWith("p-")||n.startsWith("m-"))return n;const s=Ja(n);return null!=s?`${t}-${Ha(s)}`:`${t}-[${function(e){return e.trim().replace(/\s+/g,"_").replace(/\]/g,"\\]").replace(/\[/g,"\\[")}(n)}]`}function qa(e,t){if("number"==typeof e&&Number.isFinite(e))return Ua(e);const n="string"==typeof e?e.trim():"";if(!n)return"";if(n.startsWith("p-")||n.startsWith("m-")){const e=n.match(/^[pm]-([0-9]+(?:\.[0-9]+)?)$/);if(e){const t=Number(e[1]);if(!Number.isNaN(t))return Ua(t)}return function(e,t){const n=e.match(new RegExp(`^${t}-\\[(.*)]$`));return n?n[1].replace(/\\\]/g,"]").replace(/\\\[/g,"[").replace(/_/g," "):e}(n,t)}const s=Ja(n);return null!=s?Ua(s):n}function Ga(e,t){if(!e)return[];if("string"==typeof e){const n=Ka(e,t);return n?[n]:[]}if("number"==typeof e&&Number.isFinite(e))return[`${t}-${Ha(e)}`];if(!Va(e))return[];const n=[],s=new Set;for(const[r,a]of Object.entries(e)){const e=Ka(a,t);if(!e)continue;const o=La[r]??r.replace(/[^a-z0-9:]/gi,""),i=o?`${o}:${e}`:e;s.has(i)||(s.add(i),n.push(i))}return n}function Ya(e,t){if(!e)return;if("string"==typeof e){return qa(e,t)||void 0}if("number"==typeof e&&Number.isFinite(e))return Ua(e);if(!Va(e))return;const n=function(e){for(const t of Wa)if(t in e)return e[t];return Object.values(e)[0]}(e);if(null==n)return;return qa(n,t)||void 0}function Xa(e){return Ga(e,"p")}function Qa(e){return Ya(e,"p")}function eo(e){return Ga(e,"m")}function to(e){return Ya(e,"m")}var no=new Set(["base-100","base-200","base-300","base-content","primary","primary-content","secondary","secondary-content","accent","accent-content","neutral","neutral-content","info","info-content","success","success-content","warning","warning-content","error","error-content"]),so=["radius-","size-","shadow","border","depth","noise"],ro=":root";var{Html:ao,Head:oo,Preview:io,Body:lo,Container:co,Section:uo,Row:po,Column:mo,Heading:ho,Text:go,Button:bo,Img:fo,Hr:xo,Font:vo,Tailwind:yo,pixelBasedPreset:wo}=Ta,ko=(...e)=>{const t=e.filter(e=>Boolean(e&&e.trim())).join(" ");return t.length>0?t:void 0},jo=e=>{switch(e){case"center":return"text-center";case"right":return"text-right";case"justify":return"text-justify";case"left":return e?"text-left":void 0;default:return}},No=e=>{if(e&&"justify"!==e)return e},Co=(e,t)=>e||(t&&1===t.length?t[0].fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif');function _o(e,t,n,s){const r=e.meta.description??e.meta.title,a=n.daisyui&&n.theme?Object.keys(n.theme).reduce((e,t)=>{if(t.startsWith("--")||"color-scheme"===t)return e;if(no.has(t)&&n.theme){const s=n.theme[t];s&&"string"==typeof s&&(e[t]=s)}return e},{}):void 0,o=n.daisyui&&a?{presets:wo?[wo]:[],theme:{extend:{colors:a}}}:{presets:wo?[wo]:[]};return(0,gs.jsx)(ao,{children:(0,gs.jsxs)(yo,{...o?{config:o}:{},children:[(0,gs.jsxs)(oo,{children:[s?(0,gs.jsx)("style",{type:"text/css",dangerouslySetInnerHTML:{__html:s}}):null,e.theme?.fonts?.map(e=>(0,gs.jsx)(vo,{fontFamily:e.fontFamily,fallbackFontFamily:e.fallbackFontFamily,webFont:e.webFont,fontWeight:e.fontWeight,fontStyle:e.fontStyle},e.id))]}),r?(0,gs.jsx)(io,{children:Fa(r,t)}):null,(0,gs.jsx)(lo,{style:{margin:0,padding:0,...n.daisyui&&n.theme?.["base-100"]?{backgroundColor:n.theme["base-100"],color:n.theme["base-content"]||"#000000",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'}:{}},className:n.daisyui?"bg-base-100 font-sans text-base-content":void 0,children:(0,gs.jsx)(co,{style:{padding:0,margin:"0 auto"},className:n.daisyui?"max-w-xl mx-auto p-4":void 0,children:e.sections.filter(e=>!e.hidden).map(s=>{const r=Qa(s.padding),a=to(s.margin),o=Xa(s.padding).join(" "),i=eo(s.margin).join(" "),l=ko(s.backgroundClassName,s.className,o,i,jo(s.align),n.daisyui?"border border-primary/5":"border border-gray-300","p-2",n.daisyui?"bg-base-200":void 0),c={};return s.backgroundColor&&(c.backgroundColor=s.backgroundColor),r&&(c.padding=r),a&&(c.margin=a),s.align&&(c.textAlign=s.align),(0,gs.jsx)(uo,{className:l,style:c,children:s.rows.filter(e=>!e.hidden).map(s=>{const r=Qa(s.padding),a=to(s.margin),o=Xa(s.padding).join(" "),i=eo(s.margin).join(" "),l=ko(s.backgroundClassName,s.className,o,i,jo(s.align)),c={};null!=s.gutter&&(c.gap=`${s.gutter}px`),s.backgroundColor&&(c.backgroundColor=s.backgroundColor),r&&(c.padding=r),a&&(c.margin=a),s.align&&(c.textAlign=s.align);const d=No(s.align);return(0,gs.jsx)(po,{align:d,className:l,style:c,children:s.columns.filter(e=>!e.hidden).map(s=>{const r=Qa(s.padding),a=to(s.margin),o=Xa(s.padding).join(" "),i=eo(s.margin).join(" "),l=ko(s.backgroundClassName,s.className,o,i,jo(s.align)),c={};s.backgroundColor&&(c.backgroundColor=s.backgroundColor),r&&(c.padding=r),a&&(c.margin=a),null!=s.width&&(c.width=s.width),s.align&&(c.textAlign=s.align);const d=No(s.align);return(0,gs.jsx)(mo,{align:d,className:l,style:c,children:s.blocks.filter(e=>!e.hidden).map(s=>{switch(s.type){case"heading":{const r=s.props.as??"h2",a=s.props.align??"left",o=s.props.fontSize??24,i=s.props.fontWeight??"bold",l={textAlign:a,fontSize:`${o}px`,lineHeight:s.props.lineHeight??"1.3",fontWeight:"medium"===i?500:i,margin:s.props.margin??"0 0 16px",padding:s.props.padding??"0",fontFamily:Co(s.props.fontFamily,e.theme?.fonts),wordBreak:"break-word",maxWidth:"100%"},c=s.props.color??(s.props.colorClassName?void 0:"#111827");c&&(l.color=c);const d=()=>o<=16?"text-base":o<=18?"text-lg":o<=20?"text-xl":o<=24?"text-2xl":o<=30?"text-3xl":o<=36?"text-4xl":o<=48?"text-5xl":"text-6xl",u=()=>{switch(i){case"light":return"font-light";case"normal":return"font-normal";case"medium":return"font-medium";case"bold":default:return"font-bold";case"extrabold":return"font-extrabold"}},p=()=>{if(!n.daisyui)return"";switch(r){case"h1":return"text-4xl font-bold text-base-content";case"h2":default:return"text-3xl font-bold text-base-content";case"h3":return"text-2xl font-bold text-base-content";case"h4":return"text-xl font-bold text-base-content";case"h5":return"text-lg font-bold text-base-content";case"h6":return"text-base font-bold text-base-content"}},m=ko("block w-full leading-tight",(()=>{switch(a){case"center":return"text-center";case"right":return"text-right";case"justify":return"text-justify";default:return"text-left"}})(),d(),u(),n.daisyui&&!s.props.colorClassName?p():void 0,n.daisyui||s.props.colorClassName?void 0:"text-gray-900",s.props.colorClassName,s.props.className);return(0,gs.jsx)(ho,{as:r,className:m,style:l,children:Fa(s.props.content,t)},s.id)}case"text":{const r=s.props.align??"left",a=s.props.fontSize??16,o=s.props.fontWeight??"normal",i={textAlign:r,fontSize:`${a}px`,lineHeight:s.props.lineHeight??"1.6",fontWeight:"medium"===o?500:o,margin:s.props.margin??"0 0 16px",padding:s.props.padding??"0",fontFamily:Co(s.props.fontFamily,e.theme?.fonts),wordBreak:"break-word",maxWidth:"100%"},l=n.daisyui&&!s.props.colorClassName?void 0:"#1f2937",c=s.props.color??(s.props.colorClassName?void 0:l);c&&(i.color=c);const d=()=>a<=12?"text-xs":a<=14?"text-sm":a<=16?"text-base":a<=18?"text-lg":a<=20?"text-xl":a<=24?"text-2xl":a<=30?"text-3xl":"text-4xl",u=()=>{switch(o){case"light":return"font-light";case"normal":default:return"font-normal";case"medium":return"font-medium";case"bold":return"font-bold";case"extrabold":return"font-extrabold"}},p=ko("block w-full leading-relaxed",(()=>{switch(r){case"center":return"text-center";case"right":return"text-right";case"justify":return"text-justify";default:return"text-left"}})(),d(),u(),n.daisyui&&!s.props.colorClassName?"text-base-content":void 0,n.daisyui||s.props.colorClassName?void 0:"text-gray-800",s.props.colorClassName,s.props.className);return(0,gs.jsx)(go,{className:p,style:i,children:Fa(s.props.content,t)},s.id)}case"button":{const r=s.props.align??"center",a=s.props.fontSize??14,o=s.props.fontWeight??"bold",i=s.props.backgroundClassName,l=s.props.colorClassName,c=Boolean(i),d=Boolean(l),u=s.props.backgroundColor??"#2563eb",p=s.props.color??"#ffffff",m={display:"inline-block",textDecoration:"none",backgroundColor:n.daisyui||c?void 0:u,color:n.daisyui||d?void 0:p,borderRadius:n.daisyui?void 0:`${s.props.borderRadius??6}px`,padding:n.daisyui?void 0:s.props.padding??"12px 24px",fontSize:`${a}px`,fontWeight:"medium"===o?500:o,margin:s.props.margin??"12px 0",lineHeight:"1.5",border:"none",outline:"none",fontFamily:Co(s.props.fontFamily,e.theme?.fonts),minWidth:"120px",maxWidth:"100%"},h={textAlign:r,width:"100%"},g=()=>{switch(r){case"center":default:return"text-center";case"right":return"text-right";case"left":return"text-left"}},b=()=>a<=12?"text-xs":a<=14?"text-sm":a<=16?"text-base":a<=18?"text-lg":"text-xl",f=()=>{switch(o){case"light":return"font-light";case"normal":return"font-normal";case"medium":return"font-medium";case"bold":default:return"font-bold";case"extrabold":return"font-extrabold"}},x=()=>{const e=String(s.props.padding??"12px 24px").replace(/px/g,"").split(" ").map(Number)[0]??12;return e<=8?"py-1":e<=12?"py-2":e<=16?"py-3":e<=20?"py-4":"py-5"},v=(()=>{if(n.daisyui&&!c)switch(u){case"#2563eb":return"btn-primary";case"#6b7280":return"btn-secondary";case"#8b5cf6":return"btn-accent";case"#374151":return"btn-neutral";case"#059669":return"btn-success";case"#d97706":return"btn-warning";case"#dc2626":return"btn-error";case"#0891b2":return"btn-info";default:return"btn-ghost"}})(),y=ko("inline-block no-underline cursor-pointer transition-all duration-200","hover:opacity-90 active:opacity-75",b(),f(),x(),n.daisyui?"btn":void 0,v,i,l,s.props.className),w=Fa(s.props.href,t)??s.props.href??"#",k=Fa(s.props.label,t)??s.props.label;return(0,gs.jsx)("div",{style:h,className:g(),children:(0,gs.jsx)(bo,{href:w,className:y,style:m,children:k})},s.id)}case"image":{let e=Fa(s.props.src,t)??s.props.src;if(e&&"string"==typeof e&&e.includes("{{")){const n=Fa(s.props.placeholder,t);n&&!n.includes("{{")?e=n:s.props.placeholder&&!s.props.placeholder.includes("{{")&&(e=s.props.placeholder)}const r=Fa(s.props.alt,t),a=s.props.width??600,o=s.props.height??200,i=s.props.align??"center",l=s.props.borderRadius??0,c={borderRadius:n.daisyui?void 0:`${l}px`,margin:s.props.margin??"12px 0",padding:s.props.padding??"0",display:"inline-block",maxWidth:"100%",height:"auto",border:"none",outline:"none"},d={textAlign:i,width:"100%"},u=()=>{switch(i){case"center":default:return"text-center";case"right":return"text-right";case"left":return"text-left"}},p=()=>0===l?"":l<=4?"rounded-sm":l<=8?"rounded-md":l<=12?"rounded-lg":l<=16?"rounded-xl":l<=24?"rounded-2xl":"rounded-3xl",m=ko("block mx-auto",(()=>a<=200?"max-w-xs":a<=300?"max-w-sm":a<=400?"max-w-md":a<=500?"max-w-lg":a<=600?"max-w-xl":a<=800?"max-w-2xl":a<=1e3?"max-w-3xl":"max-w-4xl")(),p(),n.daisyui&&l>0?"rounded-lg shadow-lg":void 0,s.props.className);return(0,gs.jsx)("div",{style:d,className:u(),children:(0,gs.jsx)(fo,{src:e,alt:r,width:a,height:o,className:m,style:c})},s.id)}case"divider":{const e=s.props.align??"center",t=s.props.thickness??1,r=s.props.width??"100%",a=s.props.colorClassName,o=s.props.color??(a?void 0:"#e5e7eb"),i={margin:s.props.margin??"16px 0",padding:s.props.padding??"0",borderWidth:`${t}px`,width:r,border:"none",display:"inline-block",maxWidth:"100%"};!n.daisyui&&o&&(i.borderTop=`${t}px solid ${o}`);const l={textAlign:e,width:"100%"},c=()=>{switch(e){case"center":default:return"text-center";case"right":return"text-right";case"left":return"text-left"}},d=()=>t<=1?"border-t":t<=2?"border-t-2":t<=4?"border-t-4":"border-t-8",u=ko("block",(()=>"100%"===r?"w-full":"75%"===r?"w-3/4":"50%"===r?"w-1/2":"25%"===r?"w-1/4":"")(),d(),n.daisyui?"divider":void 0,n.daisyui||a?void 0:"border-gray-300",a,s.props.className);return(0,gs.jsx)("div",{style:l,className:c(),children:(0,gs.jsx)(xo,{className:u,style:i})},s.id)}case"custom":{if(!n.customBlocks)return(0,gs.jsx)("div",{"data-custom-block":s.props.componentName,"data-props":JSON.stringify(Pa(s.props.props,t))},s.id);const e=n.customBlocks[s.props.componentName];if(!e)return(0,gs.jsx)("div",{"data-custom-block":s.props.componentName,"data-props":JSON.stringify(Pa(s.props.props,t))},s.id);const r=Pa(s.props.props,t),a=e.component;return(0,gs.jsx)(a,{...r},s.id)}default:return null}})},s.id)})},s.id)})},s.id)})})})]})})}var Ao=["Html","Head","Preview","Body","Container","Section","Row","Column","Heading","Text","Button","Hr","Img","Tailwind","pixelBasedPreset"];function So(e,t,n){e.push({depth:t,content:n})}function Io(e){return e?e.replace(/&/g,"&amp;").replace(/"/g,"&quot;"):""}function $o(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}function Mo(...e){const t=e.filter(e=>Boolean(e&&e.trim())).join(" ");return t?` className="${Io(t)}"`:""}function Ro(e,t,n,s){const r=n.indent??2,a=n.componentName??"EmailTemplate",o=e.meta.description??e.meta.title??"Preview text",i=[],l=new Set;e.sections.filter(e=>!e.hidden).forEach(e=>{e.rows.filter(e=>!e.hidden).forEach(e=>{e.columns.filter(e=>!e.hidden).forEach(e=>{e.blocks.filter(e=>!e.hidden).forEach(e=>{"custom"===e.type&&l.add(e.props.componentName)})})})}),So(i,0,`import { ${Ao.join(", ")} } from '@react-email/components';`),n.customBlocks&&l.size>0&&(So(i,0,""),l.forEach(e=>{n.customBlocks[e]&&So(i,0,`// Custom component: ${e}`)})),So(i,0,""),So(i,0,`export function ${a}() {`),So(i,1,"return ("),So(i,2,"<Html>");let c=" config={{presets:[pixelBasedPreset]}}";if(n.daisyui&&n.theme){const e=n.theme,t={};Object.keys(e).forEach(n=>{if(!n.startsWith("--")&&"color-scheme"!==n&&no.has(n)){const s=e[n];s&&"string"==typeof s&&(t[n]=s)}}),Object.keys(t).length>0&&(c=` config={{presets:[pixelBasedPreset], theme: { extend: { colors: ${JSON.stringify(t)} } } }}`)}So(i,3,`<Tailwind${c}>`),So(i,4,"<Head>"),s&&So(i,5,`<style type="text/css" dangerouslySetInnerHTML={{ __html: ${JSON.stringify(s)} }} />`),So(i,4,"</Head>"),o&&So(i,4,`<Preview>${$o(Fa(o,t))}</Preview>`);const d=n.daisyui?Mo("bg-base-100","font-sans","text-base-content"):"",u=n.daisyui?" style={{ margin: 0, padding: 0 }}":"";So(i,4,`<Body${d}${u}>`);const p=n.daisyui?Mo("max-w-xl","mx-auto","p-4"):"",m=n.daisyui?' style={{ padding: 0, margin: "0 auto" }}':"";return So(i,5,`<Container${p}${m}>`),e.sections.filter(e=>!e.hidden).forEach(e=>{const s={};e.backgroundColor&&(s.backgroundColor=e.backgroundColor),e.padding&&(s.padding=e.padding);const r=Object.keys(s).length?` style={${JSON.stringify(s)}}`:"",a=Mo(e.backgroundClassName,e.className);So(i,6,`<Section${a}${r}>`),e.rows.filter(e=>!e.hidden).forEach(e=>{const s={};null!=e.gutter&&(s.gap=`${e.gutter}px`),e.backgroundColor&&(s.backgroundColor=e.backgroundColor),e.padding&&(s.padding=e.padding);const r=Object.keys(s).length?` style={${JSON.stringify(s)}}`:"",a=Mo(e.backgroundClassName,e.className);So(i,7,`<Row${a}${r}>`),e.columns.filter(e=>!e.hidden).forEach(e=>{const s={};e.backgroundColor&&(s.backgroundColor=e.backgroundColor),e.padding&&(s.padding=e.padding),null!=e.width&&(s.width=e.width);const r=Object.keys(s).length?` style={${JSON.stringify(s)}}`:"",a=Mo(e.backgroundClassName,e.className);So(i,8,`<Column${a}${r}>`),e.blocks.filter(e=>!e.hidden).forEach(e=>{switch(e.type){case"heading":{const n=e.props.as??"h2",s=$o(Fa(e.props.content,t)),r={};e.props.align&&(r.textAlign=e.props.align),null!=e.props.fontSize&&(r.fontSize=e.props.fontSize);const a=e.props.color??(e.props.colorClassName?void 0:"#111827");a&&(r.color=a),e.props.lineHeight&&(r.lineHeight=e.props.lineHeight),e.props.fontWeight&&(r.fontWeight=e.props.fontWeight),e.props.margin&&(r.margin=e.props.margin),e.props.padding&&(r.padding=e.props.padding);const o=Object.keys(r).length?` style={${JSON.stringify(r)}}`:"",l=Mo(e.props.colorClassName,e.props.className);So(i,9,`<Heading as="${n}"${l}${o}>${s}</Heading>`);break}case"text":{const n=$o(Fa(e.props.content,t)),s={};e.props.align&&(s.textAlign=e.props.align),null!=e.props.fontSize&&(s.fontSize=e.props.fontSize);const r=e.props.color??(e.props.colorClassName?void 0:"#1f2937");r&&(s.color=r),e.props.lineHeight&&(s.lineHeight=e.props.lineHeight),e.props.fontWeight&&(s.fontWeight=e.props.fontWeight),e.props.margin&&(s.margin=e.props.margin),e.props.padding&&(s.padding=e.props.padding);const a=Object.keys(s).length?` style={${JSON.stringify(s)}}`:"",o=Mo(e.props.colorClassName,e.props.className);So(i,9,`<Text${o}${a}>${n}</Text>`);break}case"button":{const n=$o(Fa(e.props.label,t)??e.props.label),s=Io(Fa(e.props.href,t)??e.props.href),r={display:"inline-block",textDecoration:"none"},a=e.props.backgroundColor??(e.props.backgroundClassName?void 0:"#2563eb");a&&(r.backgroundColor=a);const o=e.props.color??(e.props.colorClassName?void 0:"#ffffff");o&&(r.color=o),null!=e.props.borderRadius&&(r.borderRadius=e.props.borderRadius),e.props.align&&(r.textAlign=e.props.align),e.props.padding&&(r.padding=e.props.padding),null!=e.props.fontSize&&(r.fontSize=e.props.fontSize),e.props.fontWeight&&(r.fontWeight=e.props.fontWeight),e.props.margin&&(r.margin=e.props.margin);const l=Object.keys(r).length?` style={${JSON.stringify(r)}}`:"",c=Mo(e.props.backgroundClassName,e.props.colorClassName,e.props.className);So(i,9,`<Button href="${s||"#"}"${c}${l}>${n}</Button>`);break}case"image":{const n=Io(Fa(e.props.src,t)??e.props.src),s=Io(Fa(e.props.alt,t)),r=null!=e.props.width?` width={${JSON.stringify(e.props.width)}}`:"",a=null!=e.props.height?` height={${JSON.stringify(e.props.height)}}`:"",o={};null!=e.props.borderRadius&&(o.borderRadius=e.props.borderRadius),e.props.margin&&(o.margin=e.props.margin),e.props.padding&&(o.padding=e.props.padding);const l=Object.keys(o).length?` style={${JSON.stringify(o)}}`:"",c=Mo(e.props.className);So(i,9,`<Img src="${n}" alt="${s}"${r}${a}${c}${l} />`);break}case"divider":{const t={};e.props.margin&&(t.margin=e.props.margin),null!=e.props.thickness&&(t.borderWidth=e.props.thickness);const n=e.props.color??(e.props.colorClassName?void 0:"#e5e7eb");n&&(t.borderColor=n),e.props.width&&(t.width=e.props.width);const s=Object.keys(t).length?` style={${JSON.stringify(t)}}`:"",r=Mo(e.props.colorClassName,e.props.className);So(i,9,`<Hr${r}${s} />`);break}case"custom":{const s=Pa(e.props.props,t),r=e.props.componentName;if(n.customBlocks&&n.customBlocks[r]){n.customBlocks[r];So(i,9,`{/* Custom component: ${r} */}`),So(i,9,`<div data-custom-block="${r}">`),So(i,10,`{/* Props: ${$o(JSON.stringify(s))} */}`),So(i,9,"</div>")}else So(i,9,`{/* Custom block: ${r} */}`),So(i,9,`{/* Props: ${$o(JSON.stringify(s))} */}`);break}}}),So(i,8,"</Column>")}),So(i,7,"</Row>")}),So(i,6,"</Section>")}),So(i,5,"</Container>"),So(i,4,"</Body>"),So(i,3,"</Tailwind>"),So(i,2,"</Html>"),So(i,1,");"),So(i,0,"}"),i.map(({depth:e,content:t})=>""===t?"":`${" ".repeat(e*r)}${t}`).join("\n")}function To({document:e,options:t}){const n=function(e){return{variables:e.variables,throwOnMissingVariables:e.throwOnMissingVariables??!0}}(t);let s=t.theme;if(e.theme&&"object"==typeof e.theme){const n=e.theme,r={};Object.keys(n).forEach(e=>{"fonts"!==e&&"string"==typeof n[e]&&(r[e]=n[e])}),Object.keys(r).length>0&&(s={...r,...t.theme??{}})}const r=(t.colors??[]).map(e=>"string"==typeof e?{hex:e,label:e}:e?.hex?{hex:e.hex,label:e.label??e.tw??e.hex}:null).filter(Boolean);if(t.daisyui&&!s&&r.length>0){const e={};r.forEach((t,n)=>{e[t.label.replace(/\s+/g,"_").toLowerCase()||`c${n}`]=t.hex}),s=e}const a={...t,theme:s},o=t.daisyui&&s?function(e){if(!e)return;const t=[],n=e["color-scheme"];return"string"==typeof n&&n.trim().length>0&&t.push(`  color-scheme: ${n};`),Object.entries(e).forEach(([e,n])=>{if(!n||"string"!=typeof n)return;if("color-scheme"===e)return;let s;e.startsWith("--")?s=e:no.has(e)?s=`--color-${e}`:so.some(t=>e===t||e.startsWith(t))&&(s=`--${e}`),s&&t.push(`  ${s}: ${n};`)}),0!==t.length?`${ro} {\n${t.join("\n")}\n}`:void 0}(s):void 0;switch(t.format){case"react":return{format:"react",node:_o(e,n,a,o)};case"react-text":return{format:"react-text",code:Ro(e,n,a,o)};case"html":return{format:"html",html:o?`<style>${o}</style>\n${Da(e,n,a)}`:Da(e,n,a)};case"plain-text":return{format:"plain-text",text:Za(e,n,a)};default:{const e=t.format;throw new Error(`Unsupported render format: ${e}`)}}}function Oo({open:e,code:t,onClose:n,daisyui:s=!1}){const[r,a]=(0,Bn.useState)(!1),o=(0,Bn.useRef)(null),i=(0,Bn.useRef)(null);if((0,Bn.useEffect)(()=>{if(!e)return a(!1),void(o.current&&(window.clearTimeout(o.current),o.current=null));const t=e=>{"Escape"===e.key&&n()};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t),o.current&&(window.clearTimeout(o.current),o.current=null)}},[e,n]),!e)return null;return(0,gs.jsx)(wr,{open:e,onClose:n,daisyui:s,contentClassName:"w-full max-w-4xl",labelledBy:"react-text-preview-title",children:(0,gs.jsxs)("div",{className:(0,hn.A)("h-[80vh] flex flex-col rounded-xl border shadow-xl overflow-hidden",{"bg-slate-950 border-slate-800 text-slate-100":!s,"bg-base-100 border-base-300 text-base-content":s}),"aria-label":"React Email JSX preview",children:[(0,gs.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/5",children:[(0,gs.jsx)("span",{id:"react-text-preview-title",className:"text-sm font-semibold uppercase tracking-wide opacity-80",children:"React Email JSX"}),(0,gs.jsxs)("div",{className:"flex items-center gap-2",children:[(0,gs.jsx)("button",{type:"button",onClick:async()=>{try{if("undefined"!=typeof navigator&&navigator.clipboard?.writeText)await navigator.clipboard.writeText(t);else if(i.current){const e=document.createRange();e.selectNodeContents(i.current);const t=window.getSelection();t?.removeAllRanges(),t?.addRange(e),document.execCommand("copy"),t?.removeAllRanges()}a(!0),o.current=window.setTimeout(()=>{a(!1)},1500)}catch(e){console.error("Failed to copy react-text output",e),a(!1)}},className:(0,hn.A)("rounded-md px-3 py-1.5 text-xs font-medium transition border",{"bg-slate-800 text-slate-100 border-slate-700 hover:bg-slate-700":!s,"btn btn-ghost btn-xs":s}),children:r?"Copied!":"Copy code"}),(0,gs.jsx)("button",{type:"button",onClick:n,className:(0,hn.A)("rounded-md px-3 py-1.5 text-xs font-medium transition border",{"bg-slate-800 text-slate-100 border-slate-700 hover:bg-slate-700":!s,"btn btn-ghost btn-xs":s}),children:"Close"})]})]}),(0,gs.jsx)("pre",{ref:i,className:(0,hn.A)("flex-1 m-0 p-5 overflow-auto text-[13px] leading-relaxed",{"bg-slate-950 text-slate-100":!s,"bg-base-200 text-base-content":s}),children:t})]})})}const Eo="email-dnd-title-input";function Bo({label:e,matches:t,daisyui:n}){if(0===t.length)return null;const s=t.some(e=>!e.defined);return(0,gs.jsxs)("div",{className:(0,hn.A)("mt-2 rounded-md border px-3 py-2 text-[11px] leading-tight",{"bg-slate-50 border-slate-200 text-slate-700":!n,"bg-base-200 border-base-300 text-base-content/80":n}),children:[(0,gs.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,gs.jsx)("span",{className:"font-semibold uppercase tracking-wide",children:e}),(0,gs.jsxs)("span",{className:(0,hn.A)("text-[10px] font-semibold",{"text-emerald-600":!n&&!s,"text-red-500":!n&&s,"text-success":n&&!s,"text-error":n&&s}),children:[t.length," match",t.length>1?"es":""]})]}),(0,gs.jsx)("div",{className:"flex flex-wrap gap-1.5",children:t.map(e=>(0,gs.jsxs)("span",{className:(0,hn.A)("font-mono text-[11px]",!n&&"inline-flex items-center gap-1 rounded-full border px-2 py-0.5",n&&"badge badge-sm gap-1 h-5",e.defined?{"border-emerald-200 bg-emerald-50 text-emerald-700":!n,"badge-success":n}:{"border-orange-200 bg-orange-50 text-orange-700":!n,"badge-warning":n}),title:e.defined?"Variable is available":"Variable is missing",children:[e.defined?(0,gs.jsx)(Aa.r,{size:12,weight:"bold"}):(0,gs.jsx)(Sa.t,{size:12,weight:"bold"}),"{{",e.key,"}}"]},e.key))})]})}function zo({daisyui:e=!1,headerItems:t,headerVariableCheck:n=!1}){const{document:s,updateTitle:r,save:a,undo:o,isDirty:i,canUndo:l,previewMode:c,setPreviewMode:d,variables:u,previewVariables:p,setPreviewVariables:m}=ws(),[h,g]=(0,Bn.useState)(!1),[b,f]=(0,Bn.useState)(""),x=(0,Bn.useMemo)(()=>Ss(s.meta.title,u),[s.meta.title,u]),v=e=>!t||t.includes(e);return(0,gs.jsxs)("header",{className:(0,hn.A)("flex flex-col py-3 border-b",!e&&"gap-3 border-slate-900/10 bg-white",e&&"gap-2 border-primary/10","md:flex-row md:items-center md:justify-between md:gap-4"),"aria-label":"Email editor header",children:[v("title")&&(0,gs.jsx)("div",{className:(0,hn.A)("flex flex-col md:flex-row items-start gap-3 flex-1 min-w-[200px]"),children:(0,gs.jsxs)("div",{className:"flex-1 max-w-xl w-full",children:[(0,gs.jsx)("input",{id:Eo,type:"text",value:s.meta.title,onChange:e=>{r(e.target.value)},placeholder:"Untitled email",className:(0,hn.A)(!e&&"w-full px-3 py-2 border border-slate-300/60 rounded-lg text-[0.95rem] text-slate-900 bg-slate-50 transition focus:outline-none focus:border-green-500/60 focus:ring-2 focus:ring-green-500/20 focus:bg-white",e&&"input input-bordered input-sm rounded-box w-full")}),n&&(0,gs.jsx)(Bo,{label:"Variables in title",matches:x,daisyui:e})]})}),(0,gs.jsxs)("div",{className:"flex items-center justify-end gap-2 flex-wrap md:flex-nowrap",children:[v("preview")&&(0,gs.jsxs)("div",{className:(0,hn.A)("flex items-center gap-1 mr-2"),role:"group","aria-label":"Preview mode",children:[(0,gs.jsx)("button",{type:"button",onClick:()=>m(!p),"aria-pressed":p,title:"Toggle variable preview",className:(0,hn.A)(!e&&"inline-flex items-center gap-1 py-2 px-2.5 rounded-lg border text-sm transition",!e&&(p?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-900 border-slate-300/60 hover:border-green-500/60 hover:bg-green-500/10"),e&&"btn btn-ghost btn-sm",e&&(p?"btn-active":"")),children:(0,gs.jsx)(ur.D,{size:18})}),(0,gs.jsx)("div",{className:(0,hn.A)("w-px h-5 mx-1",e?"bg-base-content/10":"bg-slate-200")}),(0,gs.jsx)("button",{type:"button",onClick:()=>d("desktop"),"aria-pressed":"desktop"===c,title:"Desktop preview",className:(0,hn.A)(!e&&"inline-flex items-center gap-1 py-2 px-2.5 rounded-lg border text-sm transition",!e&&("desktop"===c?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-900 border-slate-300/60 hover:border-green-500/60 hover:bg-green-500/10"),e&&"btn btn-ghost btn-sm",e&&("desktop"===c?"btn-active":"")),children:(0,gs.jsx)(Ia.e,{size:18})}),(0,gs.jsx)("button",{type:"button",onClick:()=>d("mobile"),"aria-pressed":"mobile"===c,title:"Mobile preview",className:(0,hn.A)(!e&&"inline-flex items-center gap-1 py-2 px-2.5 rounded-lg border text-sm transition",!e&&("mobile"===c?"bg-slate-900 text-white border-slate-900":"bg-white text-slate-900 border-slate-300/60 hover:border-green-500/60 hover:bg-green-500/10"),e&&"btn btn-ghost btn-sm",e&&("mobile"===c?"btn-active":"")),children:(0,gs.jsx)($a.S,{size:18})})]}),v("codeview")&&(0,gs.jsx)("button",{type:"button",onClick:()=>{try{const e=To({document:s,options:{format:"react-text",variables:s.variables}});if("react-text"!==e.format)return;f(e.code),g(!0)}catch(e){console.error("Failed to render react-text output",e)}},title:"Open React Email JSX output",className:(0,hn.A)(!e&&"gap-2 flex items-center py-2 px-3.5 rounded-lg border border-slate-300/60 bg-white text-slate-900 text-sm font-medium transition hover:border-green-500/60 hover:bg-green-500/10 hover:shadow focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-green-500/20",e&&"btn btn-ghost btn-sm"),children:(0,gs.jsx)(Ma.l,{size:18})}),v("undo")&&(0,gs.jsxs)("button",{type:"button",onClick:o,disabled:!l,className:(0,hn.A)(!e&&"gap-2 flex items-center py-2 px-3.5 rounded-lg border border-slate-300/60 bg-white text-slate-900 text-sm font-medium transition hover:border-green-500/60 hover:bg-green-500/10 hover:shadow focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-green-500/20 disabled:opacity-55",e&&"btn btn-ghost btn-sm"),children:[(0,gs.jsx)(Ra.j,{}),"Undo"]}),v("save")&&(0,gs.jsx)("button",{type:"button",onClick:a,disabled:!i,className:(0,hn.A)(!e&&"py-2 px-3.5 rounded-lg border bg-green-500 border-green-500 text-white text-sm font-medium transition hover:bg-green-600 hover:border-green-600 shadow",e&&"btn btn-primary btn-sm"),children:"Save"})]}),(0,gs.jsx)(Oo,{open:h,code:b,onClose:()=>{g(!1),f("")},daisyui:e})]})}var Fo=n(1181),Po=n(940),Do=n(8897);function Zo({value:e,valueClassName:t,onChange:n,colors:s,daisyui:r,disabled:a}){const[o,i]=(0,Bn.useState)(!1),l=(0,Bn.useRef)(null),c=(0,Bn.useRef)(null),d=(0,Bn.useMemo)(()=>s?s.map(e=>{if("string"==typeof e)return{key:`hex:${e.toLowerCase()}`,hex:e,label:e};const t=e?.hex,n=e?.class,s=e?.labelClass;if(!t&&!n)return null;const r=n?`class:${n}`:`hex:${(t??"").toLowerCase()}`;return{key:r,hex:t??void 0,className:n??void 0,labelClassName:s??void 0,label:e.label??e.tw??n??t??r}}).filter(e=>null!==e):[],[s]),u=(0,Bn.useMemo)(()=>{if(t){const e=d.find(e=>e.className===t);if(e)return e.key}if(e){const t=e.toLowerCase(),n=d.find(e=>e.hex?.toLowerCase()===t);if(n)return n.key;if(s&&s.length>0)return;return`hex:${t}`}},[d,e,t,s]),p=(0,Bn.useMemo)(()=>{if(u)return d.find(e=>e.key===u)},[u,d]),m=(0,Bn.useMemo)(()=>{const t={};return p?.hex?t.backgroundColor=p.hex:e&&/^#([0-9a-fA-F]{3}){1,2}$/.test(e)&&(t.backgroundColor=e),t},[p,e]),h=(0,Bn.useCallback)(e=>{const t=e.target;l.current?.contains(t)||c.current?.contains(t)||i(!1)},[]);if(Bn.useEffect(()=>{if(o)return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[h,o]),Bn.useEffect(()=>{if(!s||0===s.length)return;if(a)return;if(0===d.length)return;const r=t?d.some(e=>e.className===t):!!e&&d.some(t=>t.hex?.toLowerCase()===e.toLowerCase());if((e||t)&&!r){const e=s[0],t="string"==typeof e?e:e.hex,r="string"==typeof e?void 0:e.class;n(t??void 0,{hex:t??void 0,className:r})}},[s,e,t,d,a,n]),0===d.length){const t=e&&/^#([0-9a-fA-F]{3}){1,2}$/.test(e)?e:"#ffffff";return(0,gs.jsx)("input",{type:"color",disabled:a,value:t,onChange:e=>{const t=e.target.value;n(t,{hex:t})},className:(0,hn.A)("h-14 w-16 rounded-xl border-0 cursor-pointer p-0",{"opacity-50 cursor-not-allowed":a}),"aria-label":"Choose color"})}return(0,gs.jsxs)("div",{className:"relative",children:[(0,gs.jsx)("button",{ref:l,type:"button",disabled:a,onClick:()=>{i(!o)},className:(0,hn.A)("w-16 h-14 rounded-xl border-2 transition-all duration-200 flex items-center justify-center",{"border-gray-300 hover:border-gray-400":!r&&!a,"border-base-100 hover:border-primary/50":r&&!a,"border-gray-200 opacity-50 cursor-not-allowed":a,"border-blue-500 ring-2 ring-blue-500/20":o&&!a}),"aria-label":"Open color picker",children:(0,gs.jsx)("div",{className:(0,hn.A)("w-10 h-10 rounded-full border transition-all duration-200 flex items-center justify-center",!p?.className&&!p?.hex&&{"border-gray-200 bg-white":!r,"border-base-200 bg-base-100":r},p?.className,p?.labelClassName),style:m,children:(0,gs.jsx)(Po.b,{size:12,className:(0,hn.A)("transition-transform duration-200",{"text-gray-600":!r,"text-base-content":r,"rotate-180":o})})})}),o&&(0,gs.jsx)("div",{ref:c,className:(0,hn.A)("absolute top-full left-0 mt-2 p-3 rounded-lg border shadow-lg z-50",{"bg-white border-gray-200":!r,"bg-base-100 border-base-300":r}),children:(0,gs.jsx)("div",{className:"flex flex-wrap gap-3 w-60",children:d.map(e=>(0,gs.jsx)("button",{type:"button",onClick:()=>(e=>{const t=e.hex??void 0;n(t,{hex:e.hex,className:e.className}),i(!1)})(e),className:(0,hn.A)("w-10 h-10 rounded-full border-2 transition-all duration-200 hover:scale-105",{"border-gray-300 hover:border-gray-400":!r,"border-base-300 hover:border-primary/50":r,"ring-2ring-offset-2":u===e.key}),"aria-label":`Select color ${e.label}`,children:(0,gs.jsx)("div",{className:(0,hn.A)("w-full h-full rounded-full",e.labelClassName||e.className),style:e.hex?{backgroundColor:e.hex}:void 0})},e.key))})})]})}function Lo({label:e,matches:t,daisyui:n}){if(0===t.length)return null;const s=t.some(e=>!e.defined),r=s?"Some variables do not have values in this document.":"All variables are available in the current document.";return(0,gs.jsxs)("div",{className:(0,hn.A)("mt-2 rounded-md border px-3 py-2 text-[11px] leading-tight",{"bg-slate-50 border-slate-200 text-slate-700":!n,"bg-base-200 border-base-300 text-base-content/80":n}),children:[(0,gs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,gs.jsx)("span",{className:"font-semibold uppercase tracking-wide",children:e}),(0,gs.jsxs)("span",{className:(0,hn.A)("text-[10px] font-semibold",{"text-emerald-600":!n&&!s,"text-red-500":!n&&s,"text-success":n&&!s,"text-error":n&&s}),children:[t.length," match",t.length>1?"es":""]})]}),(0,gs.jsx)("p",{className:"mt-1",children:r}),(0,gs.jsx)("div",{className:"mt-2 flex flex-wrap gap-1.5",children:t.map(e=>(0,gs.jsxs)("span",{className:(0,hn.A)("font-mono text-[11px] ",!n&&"inline-flex items-center gap-1 rounded-full border px-2 py-0.5",n&&"badge badge-sm gap-1 h-auto py-0.5",e.defined?{"border-emerald-200 bg-emerald-50 text-emerald-700":!n,"badge-success! badge-soft! text-success-content":n}:{"border-orange-200 bg-orange-50 text-orange-700":!n,"badge-warning! badge-soft! text-warning-content":n}),title:e.defined?"Variable is available":"Variable is missing",children:[e.defined?(0,gs.jsx)(Aa.r,{size:12,weight:"bold"}):(0,gs.jsx)(Sa.t,{size:12,weight:"bold"}),"{{",e.key,"}}"]},e.key))})]})}function Wo({value:e,options:t,onChange:n,disabled:s,daisyui:r,allowClear:a=!1}){const o=(0,Bn.useMemo)(()=>t.find(t=>{return n=t.value,s=e,En(n)===En(s);var n,s}),[t,e]),i=(0,Bn.useCallback)(e=>{s||n(e)},[s,n]),l=(0,Bn.useCallback)(()=>{s||n(void 0)},[s,n]),c=r?"btn btn-xs":"px-3 py-1 text-xs font-medium rounded-md border transition",d=r?"btn-primary":"bg-slate-900 text-white border-slate-900 shadow-sm",u=r?"btn-ghost":"bg-white text-slate-600 border-slate-300 hover:border-slate-400 hover:text-slate-900",p=r?"btn btn-xs btn-outline":"px-2.5 py-1 text-xs font-medium rounded-md border border-slate-200 text-slate-500 hover:border-slate-300",m=r?"text-xs text-base-content/60":"text-xs text-slate-500",h=null!=e&&!o;return(0,gs.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,gs.jsxs)("div",{className:"flex flex-wrap gap-2",children:[t.map(e=>{const t=o?.id===e.id;return(0,gs.jsx)("button",{type:"button",disabled:s,className:(0,hn.A)(c,t?d:u,{"opacity-60 cursor-not-allowed":s}),onClick:()=>i(e.value),children:e.label},e.id)}),a?(0,gs.jsx)("button",{type:"button",disabled:s,className:(0,hn.A)(p,{"opacity-60 cursor-not-allowed":s}),onClick:l,children:"Clear"}):null]}),h?(0,gs.jsxs)("span",{className:m,children:["Custom padding: ",(g=e,null==g?"None":"string"==typeof g?g:"number"==typeof g?kn(g):Object.entries(g).map(([e,t])=>`${e}: ${t}`).join(", "))]}):null]});var g}function Vo({locked:e,onToggle:t,daisyui:n}){return(0,gs.jsxs)("div",{className:(0,hn.A)("flex items-center justify-between p-4 rounded-lg border mb-6",{"bg-amber-50/50 border-amber-200":!n&&e,"bg-gray-50 border-gray-200":!n&&!e,"bg-warning/10 border-warning/20":n&&e,"bg-base-200 border-base-300":n&&!e}),children:[(0,gs.jsxs)("div",{className:"flex items-center gap-3",children:[e?(0,gs.jsx)(or.X,{size:20,weight:"bold",className:(0,hn.A)({"text-amber-600":!n,"text-warning":n})}):(0,gs.jsx)(ir.f,{size:20,weight:"bold",className:(0,hn.A)({"text-gray-500":!n,"text-base-content/60":n})}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("div",{className:(0,hn.A)("text-sm font-medium",{"text-gray-900":!n,"text-base-content":n}),children:e?"Locked":"Unlocked"}),(0,gs.jsx)("div",{className:(0,hn.A)("text-xs",{"text-gray-600":!n,"text-base-content/70":n}),children:e?"Cannot be edited or moved":"Can be edited and moved"})]})]}),(0,gs.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,gs.jsx)("input",{type:"checkbox",checked:e,onChange:t,className:"sr-only peer","aria-label":e?"Unlock block":"Lock block"}),(0,gs.jsx)("div",{className:(0,hn.A)("w-11 h-6 rounded-full peer transition-colors peer-focus:ring-2 peer-focus:ring-offset-1 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform peer-checked:after:translate-x-full",{"bg-gray-300 peer-checked:bg-amber-500 peer-focus:ring-amber-500/20":!n,"bg-base-300 peer-checked:bg-warning peer-focus:ring-warning/20":n})})]})]})}function Ho({hidden:e,onToggle:t,daisyui:n}){return(0,gs.jsxs)("div",{className:(0,hn.A)("flex items-center justify-between p-4 rounded-lg border mb-6",{"bg-blue-50/50 border-blue-200":!n&&e,"bg-gray-50 border-gray-200":!n&&!e,"bg-info/10 border-info/20":n&&e,"bg-base-200 border-base-300":n&&!e}),children:[(0,gs.jsxs)("div",{className:"flex items-center gap-3",children:[e?(0,gs.jsx)(cr.L,{size:20,weight:"bold",className:(0,hn.A)({"text-blue-600":!n,"text-info":n})}):(0,gs.jsx)(dr.k,{size:20,weight:"bold",className:(0,hn.A)({"text-gray-500":!n,"text-base-content/60":n})}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("div",{className:(0,hn.A)("text-sm font-medium",{"text-gray-900":!n,"text-base-content":n}),children:e?"Hidden":"Visible"}),(0,gs.jsx)("div",{className:(0,hn.A)("text-xs",{"text-gray-600":!n,"text-base-content/70":n}),children:e?"Not shown in editor or rendered output":"Shown in editor and rendered output"})]})]}),(0,gs.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,gs.jsx)("input",{type:"checkbox",checked:e,onChange:t,className:"sr-only peer","aria-label":e?"Show block":"Hide block"}),(0,gs.jsx)("div",{className:(0,hn.A)("w-11 h-6 rounded-full peer transition-colors peer-focus:ring-2 peer-focus:ring-offset-1 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-transform peer-checked:after:translate-x-full",{"bg-gray-300 peer-checked:bg-blue-500 peer-focus:ring-blue-500/20":!n,"bg-base-300 peer-checked:bg-info peer-focus:ring-info/20":n})})]})]})}function Uo({block:e,onUpdate:t,daisyui:n,colors:s,textColors:r,paddingOptions:a,fonts:o,disabled:i=!1,variableChecks:l=!1}){const c=e.props,{variables:d}=ws(),u=(0,Bn.useRef)(null),p=(0,Bn.useMemo)(()=>Object.keys(d),[d]),m=(0,Bn.useMemo)(()=>Ss(c.content,d),[c.content,d]),h=e=>{const n=u.current;if(!n)return;const s=n.selectionStart??n.value.length,r=n.selectionEnd??n.value.length,a=n.value.slice(0,s),o=n.value.slice(r);t({content:`${a}{{${e}}}${o}`}),setTimeout(()=>{n.focus();const t=s+e.length+4;n.setSelectionRange(t,t)},0)},g=(0,hn.A)("block text-sm font-medium mb-2 leading-snug",{"text-gray-700":!n,"text-base-content/80":n}),b=(0,hn.A)("block text-xs mt-1",{"text-gray-500":!n,"text-base-content/60":n}),f=(0,hn.A)("w-full px-3 py-2 rounded-md text-sm transition focus:outline-none",{"border border-gray-300 bg-white hover:border-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/10":!n,"border border-base-300 bg-base-100 text-base-content hover:border-primary/50 focus:border-primary focus:ring-2 focus:ring-primary/10":n}),x=(0,hn.A)(f,"cursor-pointer pr-10"),v=(0,hn.A)("flex-1 ml-3 px-3 py-2 rounded-md text-sm transition focus:outline-none",{"border border-gray-300 bg-white hover:border-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/10":!n,"border border-base-300 bg-base-100 text-base-content hover:border-primary/50 focus:border-primary focus:ring-2 focus:ring-primary/10":n});return(0,gs.jsxs)("fieldset",{disabled:i||e.locked,className:"space-y-6",children:[(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:g,children:"Heading Level"}),(0,gs.jsxs)("select",{value:c.as||"h1",onChange:e=>t({as:e.target.value}),className:x,children:[(0,gs.jsx)("option",{value:"h1",children:"H1"}),(0,gs.jsx)("option",{value:"h2",children:"H2"}),(0,gs.jsx)("option",{value:"h3",children:"H3"}),(0,gs.jsx)("option",{value:"h4",children:"H4"}),(0,gs.jsx)("option",{value:"h5",children:"H5"}),(0,gs.jsx)("option",{value:"h6",children:"H6"})]})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,gs.jsx)("label",{className:g,children:"Text Content"}),p.length>0&&(0,gs.jsxs)("div",{className:"flex items-center gap-2",children:[(0,gs.jsx)("span",{className:(0,hn.A)("text-xs",{"text-gray-500":!n,"text-base-content/60":n}),children:"variables:"}),(0,gs.jsxs)("select",{className:(0,hn.A)("text-xs px-2 py-1 rounded",{"border border-gray-300 bg-white":!n,"select select-bordered select-xs rounded":n}),onChange:e=>{e.target.value&&h(e.target.value),e.currentTarget.selectedIndex=0},children:[(0,gs.jsx)("option",{value:"",children:"Choose"}),p.map(e=>(0,gs.jsx)("option",{value:e,children:e},e))]})]})]}),l&&(0,gs.jsx)(Lo,{label:"Variables in heading",matches:m,daisyui:n}),(0,gs.jsx)("textarea",{ref:u,autoFocus:!0,value:c.content||"",onChange:e=>t({content:e.target.value}),className:(0,hn.A)(f,"resize-y min-h-16"),rows:3,placeholder:"Enter your text content..."}),p.length>0?(0,gs.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:p.map(e=>(0,gs.jsxs)("button",{type:"button",onClick:()=>h(e),className:(0,hn.A)("text-[11px] px-2 py-0.5 rounded",{"bg-slate-100 text-slate-700 hover:bg-slate-200 border border-slate-300":!n,"btn btn-xs":n}),title:`Insert {{${e}}}`,children:["{{",e,"}}"]},e))}):null]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:g,children:"Alignment"}),(0,gs.jsxs)("select",{value:c.align||"left",onChange:e=>t({align:e.target.value}),className:x,children:[(0,gs.jsx)("option",{value:"left",children:"Left"}),(0,gs.jsx)("option",{value:"center",children:"Center"}),(0,gs.jsx)("option",{value:"right",children:"Right"})]})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:g,children:"Font Size"}),(0,gs.jsx)("input",{type:"number",value:c.fontSize||16,onChange:e=>t({fontSize:Number(e.target.value)}),className:f,min:"8",max:"72"}),(0,gs.jsx)("span",{className:b,children:"Pixels (8-72)"})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:g,children:"Color"}),(0,gs.jsxs)("div",{className:"flex items-center gap-3",children:[(0,gs.jsx)(Zo,{value:c.color,valueClassName:c.colorClassName,onChange:(e,n)=>t({color:n?.hex??e,colorClassName:n?.className}),colors:r??s,daisyui:n,disabled:i||e.locked}),(r??s)&&(r??s).length>0?(0,gs.jsx)("input",{type:"text",value:c.color??"",readOnly:!0,className:(0,hn.A)(v,"cursor-not-allowed opacity-60"),placeholder:"Select from picker",disabled:!0}):(0,gs.jsx)("input",{type:"text",value:c.color??"",onChange:e=>t({color:e.target.value||void 0,colorClassName:void 0}),className:v,placeholder:"#1f2937",disabled:i||e.locked})]})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:g,children:"Color Class"}),(0,gs.jsx)("input",{type:"text",value:c.colorClassName??"",onChange:e=>t({colorClassName:e.target.value||void 0}),className:f,placeholder:"e.g. text-primary",disabled:i||e.locked}),(0,gs.jsx)("span",{className:b,children:"Tailwind or CSS class applied for text color."})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:g,children:"Font Weight"}),(0,gs.jsxs)("select",{value:c.fontWeight||"normal",onChange:e=>t({fontWeight:e.target.value}),className:x,children:[(0,gs.jsx)("option",{value:"normal",children:"Normal"}),(0,gs.jsx)("option",{value:"medium",children:"Medium"}),(0,gs.jsx)("option",{value:"bold",children:"Bold"})]})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:g,children:"Font Family"}),o&&o.length>0?(0,gs.jsxs)("select",{value:c.fontFamily??"",onChange:e=>t({fontFamily:e.target.value||void 0}),className:x,disabled:i||e.locked,children:[(0,gs.jsx)("option",{value:"",children:"Default"}),o.map(e=>(0,gs.jsx)("option",{value:e.fontFamily,children:e.fontFamily},e.id))]}):(0,gs.jsx)("input",{type:"text",value:c.fontFamily??"",onChange:e=>t({fontFamily:e.target.value||void 0}),className:f,placeholder:"Arial, sans-serif",disabled:i||e.locked}),(0,gs.jsx)("span",{className:b,children:o&&o.length>0?"Select from available fonts":"Enter custom font family"})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:g,children:"Line Height"}),(0,gs.jsx)("input",{type:"text",value:c.lineHeight||"1.6",onChange:e=>t({lineHeight:e.target.value}),placeholder:"1.6",className:f}),(0,gs.jsx)("span",{className:b,children:"Number or percentage (e.g., 1.6 or 150%)"})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:g,children:"Margin"}),(0,gs.jsx)("input",{type:"text",value:c.margin||"0 0 16px",onChange:e=>t({margin:e.target.value}),placeholder:"0 0 16px",className:f}),(0,gs.jsx)("span",{className:b,children:"CSS margin (e.g., 16px or 16px 0)"})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:g,children:"Padding"}),(0,gs.jsx)(Wo,{value:c.padding,options:a,onChange:e=>t({padding:e}),disabled:i||e.locked,daisyui:n,allowClear:!0}),(0,gs.jsx)("span",{className:b,children:"Choose a preset padding or clear to inherit defaults."})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:g,children:"Class Name"}),(0,gs.jsx)("input",{type:"text",value:c.className??"",onChange:e=>t({className:e.target.value||void 0}),placeholder:"Custom classes",className:f,disabled:i||e.locked}),(0,gs.jsx)("span",{className:b,children:"Additional classes applied to the heading element."})]})]})}function Jo({block:e,onUpdate:t,daisyui:n,colors:s,textColors:r,paddingOptions:a,fonts:o,disabled:i=!1,variableChecks:l=!1}){const c=e.props,{variables:d}=ws(),u=(0,Bn.useRef)(null),p=(0,Bn.useMemo)(()=>Object.keys(d),[d]),m=(0,Bn.useMemo)(()=>Ss(c.content,d),[c.content,d]),h=(0,hn.A)("block text-sm font-medium mb-2 leading-snug",{"text-gray-700":!n,"text-base-content/80":n}),g=(0,hn.A)("block text-xs mt-1",{"text-gray-500":!n,"text-base-content/60":n}),b=(0,hn.A)("w-full px-3 py-2 rounded-md text-sm transition focus:outline-none",{"border border-gray-300 bg-white hover:border-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/10":!n,"border border-base-300 bg-base-100 text-base-content hover:border-primary/50 focus:border-primary focus:ring-2 focus:ring-primary/10":n}),f=(0,hn.A)(b,"cursor-pointer pr-10"),x=(0,hn.A)("flex-1 ml-3 px-3 py-2 rounded-md text-sm transition focus:outline-none",{"border border-gray-300 bg-white hover:border-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/10":!n,"border border-base-300 bg-base-100 text-base-content hover:border-primary/50 focus:border-primary focus:ring-2 focus:ring-primary/10":n});return(0,gs.jsxs)("fieldset",{disabled:i||e.locked,className:"space-y-6",children:[(0,gs.jsxs)("div",{children:[(0,gs.jsx)("div",{className:"flex items-center justify-between",children:(0,gs.jsx)("label",{className:h,children:"Text Content"})}),(0,gs.jsx)("textarea",{ref:u,autoFocus:!0,value:c.content||"",onChange:e=>t({content:e.target.value}),className:(0,hn.A)(b,"resize-y min-h-16"),rows:3,placeholder:"Enter your text content..."}),l&&(0,gs.jsx)(Lo,{label:"",matches:m,daisyui:n}),p.length>0?(0,gs.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:p.map(e=>(0,gs.jsxs)("button",{type:"button",onClick:()=>(e=>{const n=u.current;if(!n)return;const s=n.selectionStart??n.value.length,r=n.selectionEnd??n.value.length,a=n.value.slice(0,s),o=n.value.slice(r);t({content:`${a}{{${e}}}${o}`}),setTimeout(()=>{n.focus();const t=s+e.length+4;n.setSelectionRange(t,t)},0)})(e),className:(0,hn.A)("text-[11px] px-2 py-0.5 rounded",{"bg-slate-100 text-slate-700 hover:bg-slate-200 border border-slate-300":!n,"btn btn-xs":n}),title:`Insert {{${e}}}`,children:["{{",e,"}}"]},e))}):null]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:h,children:"Alignment"}),(0,gs.jsxs)("select",{value:c.align||"left",onChange:e=>t({align:e.target.value}),className:f,children:[(0,gs.jsx)("option",{value:"left",children:"Left"}),(0,gs.jsx)("option",{value:"center",children:"Center"}),(0,gs.jsx)("option",{value:"right",children:"Right"})]})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:h,children:"Font Size"}),(0,gs.jsx)("input",{type:"number",value:c.fontSize||16,onChange:e=>t({fontSize:Number(e.target.value)}),className:b,min:"8",max:"72"}),(0,gs.jsx)("span",{className:g,children:"Pixels (8-72)"})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:h,children:"Color"}),(0,gs.jsxs)("div",{className:"flex items-center gap-3",children:[(0,gs.jsx)(Zo,{value:c.color,valueClassName:c.colorClassName,onChange:(e,n)=>t({color:n?.hex??e,colorClassName:n?.className}),colors:r??s,daisyui:n,disabled:i||e.locked}),(r??s)&&(r??s).length>0?(0,gs.jsx)("input",{type:"text",value:c.color??"",readOnly:!0,className:(0,hn.A)(x,"cursor-not-allowed opacity-60"),placeholder:"Select from picker",disabled:!0}):(0,gs.jsx)("input",{type:"text",value:c.color??"",onChange:e=>t({color:e.target.value||void 0,colorClassName:void 0}),className:x,placeholder:"#1f2937",disabled:i||e.locked})]})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:h,children:"Color Class"}),(0,gs.jsx)("input",{type:"text",value:c.colorClassName??"",onChange:e=>t({colorClassName:e.target.value||void 0}),className:b,placeholder:"e.g. text-primary",disabled:i||e.locked}),(0,gs.jsx)("span",{className:g,children:"Tailwind or CSS class applied to text color."})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:h,children:"Font Weight"}),(0,gs.jsxs)("select",{value:c.fontWeight||"normal",onChange:e=>t({fontWeight:e.target.value}),className:f,children:[(0,gs.jsx)("option",{value:"normal",children:"Normal"}),(0,gs.jsx)("option",{value:"medium",children:"Medium"}),(0,gs.jsx)("option",{value:"bold",children:"Bold"})]})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:h,children:"Font Family"}),o&&o.length>0?(0,gs.jsxs)("select",{value:c.fontFamily??"",onChange:e=>t({fontFamily:e.target.value||void 0}),className:f,disabled:i||e.locked,children:[(0,gs.jsx)("option",{value:"",children:"Default"}),o.map(e=>(0,gs.jsx)("option",{value:e.fontFamily,children:e.fontFamily},e.id))]}):(0,gs.jsx)("input",{type:"text",value:c.fontFamily??"",onChange:e=>t({fontFamily:e.target.value||void 0}),className:b,placeholder:"Arial, sans-serif",disabled:i||e.locked}),(0,gs.jsx)("span",{className:g,children:o&&o.length>0?"Select from available fonts":"Enter custom font family"})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:h,children:"Line Height"}),(0,gs.jsx)("input",{type:"text",value:c.lineHeight||"1.6",onChange:e=>t({lineHeight:e.target.value}),placeholder:"1.6",className:b}),(0,gs.jsx)("span",{className:g,children:"Number or percentage (e.g., 1.6 or 150%)"})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:h,children:"Margin"}),(0,gs.jsx)("input",{type:"text",value:c.margin||"0 0 16px",onChange:e=>t({margin:e.target.value}),placeholder:"0 0 16px",className:b}),(0,gs.jsx)("span",{className:g,children:"CSS margin (e.g., 16px or 16px 0)"})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:h,children:"Padding"}),(0,gs.jsx)(Wo,{value:c.padding,options:a,onChange:e=>t({padding:e}),disabled:i||e.locked,daisyui:n,allowClear:!0}),(0,gs.jsx)("span",{className:g,children:"Choose a preset padding or clear to inherit defaults."})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:h,children:"Class Name"}),(0,gs.jsx)("input",{type:"text",value:c.className??"",onChange:e=>t({className:e.target.value||void 0}),placeholder:"Custom classes",className:b,disabled:i||e.locked}),(0,gs.jsx)("span",{className:g,children:"Additional classes applied to the text element."})]})]})}function Ko({block:e,onUpdate:t,daisyui:n,colors:s,textColors:r,paddingOptions:a,fonts:o,disabled:i=!1,variableChecks:l=!1}){const c=e.props,{variables:d}=ws(),u=(0,Bn.useRef)(null),p=(0,Bn.useRef)(null),m=(0,Bn.useMemo)(()=>Object.keys(d),[d]),h=(0,Bn.useMemo)(()=>Ss(c.label,d),[c.label,d]),g=(0,Bn.useMemo)(()=>Ss(c.href,d),[c.href,d]),b=(e,n,s,r)=>{const a=e.current;if(!a)return;const o=a.selectionStart??n.length,i=a.selectionEnd??n.length,l=n.slice(0,o),c=n.slice(i),d=`${l}{{${s}}}${c}`;t({[r]:d}),setTimeout(()=>{a.focus();const e=o+s.length+4;a.setSelectionRange(e,e)},0)},f=(0,hn.A)("block text-sm font-medium mb-2 leading-snug",{"text-gray-700":!n,"text-base-content/80":n}),x=(0,hn.A)("block text-xs mt-1",{"text-gray-500":!n,"text-base-content/60":n}),v=(0,hn.A)("w-full px-3 py-2 rounded-md text-sm transition focus:outline-none",{"border border-gray-300 bg-white hover:border-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/10":!n,"border border-base-300 bg-base-100 text-base-content hover:border-primary/50 focus:border-primary focus:ring-2 focus:ring-primary/10":n}),y=(0,hn.A)(v,"cursor-pointer pr-10"),w=(0,hn.A)("flex-1 ml-3 px-3 py-2 rounded-md text-sm transition focus:outline-none",{"border border-gray-300 bg-white hover:border-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/10":!n,"border border-base-300 bg-base-100 text-base-content hover:border-primary/50 focus:border-primary focus:ring-2 focus:ring-primary/10":n});return(0,gs.jsxs)("fieldset",{disabled:i||e.locked,className:"space-y-6",children:[(0,gs.jsxs)("div",{children:[(0,gs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,gs.jsx)("label",{className:f,children:"Button Text"}),m.length>0&&(0,gs.jsxs)("select",{className:(0,hn.A)("text-xs px-2 py-1 rounded",{"border border-gray-300 bg-white":!n,"select select-bordered select-xs rounded":n}),onChange:e=>{e.target.value&&b(u,c.label||"",e.target.value,"label"),e.currentTarget.selectedIndex=0},children:[(0,gs.jsx)("option",{value:"",children:"Insert variable"}),m.map(e=>(0,gs.jsx)("option",{value:e,children:e},e))]})]}),l&&(0,gs.jsx)(Lo,{label:"Variables in button text",matches:h,daisyui:n}),(0,gs.jsx)("input",{type:"text",ref:u,autoFocus:!0,value:c.label||"",onChange:e=>t({label:e.target.value}),className:v,placeholder:"Enter button text..."})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,gs.jsx)("label",{className:f,children:"URL"}),m.length>0&&(0,gs.jsxs)("select",{className:(0,hn.A)("text-xs px-2 py-1 rounded",{"border border-gray-300 bg-white":!n,"select select-bordered select-xs rounded":n}),onChange:e=>{e.target.value&&b(p,c.href||"",e.target.value,"href"),e.currentTarget.selectedIndex=0},children:[(0,gs.jsx)("option",{value:"",children:"Insert variable"}),m.map(e=>(0,gs.jsx)("option",{value:e,children:e},e))]})]}),l&&(0,gs.jsx)(Lo,{label:"Variables in URL",matches:g,daisyui:n}),(0,gs.jsx)("input",{type:"url",ref:p,value:c.href||"",onChange:e=>t({href:e.target.value}),placeholder:"https://example.com",className:v}),(0,gs.jsx)("span",{className:x,children:"Where the button should link to"})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:f,children:"Alignment"}),(0,gs.jsxs)("select",{value:c.align||"center",onChange:e=>t({align:e.target.value}),className:y,children:[(0,gs.jsx)("option",{value:"left",children:"Left"}),(0,gs.jsx)("option",{value:"center",children:"Center"}),(0,gs.jsx)("option",{value:"right",children:"Right"})]})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:f,children:"Background Color"}),(0,gs.jsxs)("div",{className:"flex items-center gap-3",children:[(0,gs.jsx)(Zo,{value:c.backgroundColor,valueClassName:c.backgroundClassName,onChange:(e,n)=>t({backgroundColor:n?.hex??e,backgroundClassName:n?.className}),colors:s,daisyui:n,disabled:i||e.locked}),(0,gs.jsx)("input",{type:"text",value:c.backgroundColor??"",onChange:e=>t({backgroundColor:e.target.value||void 0,backgroundClassName:void 0}),className:w,placeholder:"#2563eb",disabled:i||e.locked})]})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:f,children:"Background Class"}),(0,gs.jsx)("input",{type:"text",value:c.backgroundClassName??"",onChange:e=>t({backgroundClassName:e.target.value||void 0}),className:v,placeholder:"e.g. bg-primary",disabled:i||e.locked}),(0,gs.jsx)("span",{className:x,children:"Tailwind or CSS class applied for background color."})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:f,children:"Text Color"}),(0,gs.jsxs)("div",{className:"flex items-center gap-3",children:[(0,gs.jsx)(Zo,{value:c.color,valueClassName:c.colorClassName,onChange:(e,n)=>t({color:n?.hex??e,colorClassName:n?.className}),colors:r??s,daisyui:n,disabled:i||e.locked}),(r??s)&&(r??s).length>0?(0,gs.jsx)("input",{type:"text",value:c.color??"",readOnly:!0,className:(0,hn.A)(w,"cursor-not-allowed opacity-60"),placeholder:"Select from picker",disabled:!0}):(0,gs.jsx)("input",{type:"text",value:c.color??"",onChange:e=>t({color:e.target.value||void 0,colorClassName:void 0}),className:w,placeholder:"#ffffff",disabled:i||e.locked})]})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:f,children:"Text Color Class"}),(0,gs.jsx)("input",{type:"text",value:c.colorClassName??"",onChange:e=>t({colorClassName:e.target.value||void 0}),className:v,placeholder:"e.g. text-primary-content",disabled:i||e.locked}),(0,gs.jsx)("span",{className:x,children:"Tailwind or CSS class applied to button text."})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:f,children:"Border Radius"}),(0,gs.jsx)("input",{type:"number",value:c.borderRadius||6,onChange:e=>t({borderRadius:Number(e.target.value)}),className:v,min:"0",max:"50"}),(0,gs.jsx)("span",{className:x,children:"Pixels (0-50)"})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:f,children:"Padding"}),(0,gs.jsx)(Wo,{value:c.padding,options:a,onChange:e=>t({padding:e}),disabled:i||e.locked,daisyui:n,allowClear:!0}),(0,gs.jsx)("span",{className:x,children:"Choose a preset padding or clear to inherit defaults."})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:f,children:"Font Size"}),(0,gs.jsx)("input",{type:"number",value:c.fontSize||14,onChange:e=>t({fontSize:Number(e.target.value)}),className:v,min:"8",max:"72"}),(0,gs.jsx)("span",{className:x,children:"Pixels (8-72)"})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:f,children:"Font Weight"}),(0,gs.jsxs)("select",{value:c.fontWeight||"bold",onChange:e=>t({fontWeight:e.target.value}),className:y,children:[(0,gs.jsx)("option",{value:"normal",children:"Normal"}),(0,gs.jsx)("option",{value:"medium",children:"Medium"}),(0,gs.jsx)("option",{value:"bold",children:"Bold"})]})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:f,children:"Font Family"}),o&&o.length>0?(0,gs.jsxs)("select",{value:c.fontFamily??"",onChange:e=>t({fontFamily:e.target.value||void 0}),className:y,disabled:i||e.locked,children:[(0,gs.jsx)("option",{value:"",children:"Default"}),o.map(e=>(0,gs.jsx)("option",{value:e.fontFamily,children:e.fontFamily},e.id))]}):(0,gs.jsx)("input",{type:"text",value:c.fontFamily??"",onChange:e=>t({fontFamily:e.target.value||void 0}),className:v,placeholder:"Arial, sans-serif",disabled:i||e.locked}),(0,gs.jsx)("span",{className:x,children:o&&o.length>0?"Select from available fonts":"Enter custom font family"})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:f,children:"Margin"}),(0,gs.jsx)("input",{type:"text",value:c.margin||"12px 0",onChange:e=>t({margin:e.target.value}),placeholder:"12px 0",className:v}),(0,gs.jsx)("span",{className:x,children:"CSS margin (e.g., 12px 0)"})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:f,children:"Class Name"}),(0,gs.jsx)("input",{type:"text",value:c.className??"",onChange:e=>t({className:e.target.value||void 0}),placeholder:"Custom button classes",className:v,disabled:i||e.locked}),(0,gs.jsx)("span",{className:x,children:"Additional classes applied to the button element."})]})]})}function qo({block:e,onUpdate:t,daisyui:n,paddingOptions:s,disabled:r=!1,variableChecks:a=!1}){const o=e.props,{variables:i,uploadFile:l}=ws(),c=(0,Bn.useRef)(null),d=(0,Bn.useRef)(null),u=(0,Bn.useRef)(null),[p,m]=(0,Bn.useState)(!1),h=(0,Bn.useMemo)(()=>Object.keys(i),[i]),g=(0,Bn.useMemo)(()=>Ss(o.src,i),[o.src,i]),b=(0,Bn.useMemo)(()=>Ss(o.alt,i),[o.alt,i]),f=(0,Bn.useMemo)(()=>Ss(o.href,i),[o.href,i]),x=(e,n,s,r)=>{const a=e.current;if(!a)return;const o=a.selectionStart??n.length,i=a.selectionEnd??n.length,l=n.slice(0,o),c=n.slice(i),d=`${l}{{${s}}}${c}`;t({[r]:d}),setTimeout(()=>{a.focus();const e=o+s.length+4;a.setSelectionRange(e,e)},0)},v=(0,hn.A)("block text-sm font-medium mb-2 leading-snug",{"text-gray-700":!n,"text-base-content/80":n}),y=(0,hn.A)("block text-xs mt-1",{"text-gray-500":!n,"text-base-content/60":n}),w=(0,hn.A)("w-full px-3 py-2 rounded-md text-sm transition focus:outline-none",{"border border-gray-300 bg-white hover:border-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/10":!n,"border border-base-300 bg-base-100 text-base-content hover:border-primary/50 focus:border-primary focus:ring-2 focus:ring-primary/10":n}),k=(0,hn.A)(w,"cursor-pointer pr-10");return(0,gs.jsxs)("fieldset",{disabled:r||e.locked,className:"space-y-6",children:[(0,gs.jsxs)("div",{children:[(0,gs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,gs.jsx)("label",{className:v,children:"Image URL"}),h.length>0&&(0,gs.jsxs)("select",{className:(0,hn.A)("text-xs px-2 py-1 rounded",{"border border-gray-300 bg-white":!n,"select select-bordered select-xs rounded":n}),onChange:e=>{e.target.value&&x(c,o.src||"",e.target.value,"src"),e.currentTarget.selectedIndex=0},children:[(0,gs.jsx)("option",{value:"",children:"Insert variable"}),h.map(e=>(0,gs.jsx)("option",{value:e,children:e},e))]})]}),a&&(0,gs.jsx)(Lo,{label:"Variables in image URL",matches:g,daisyui:n}),(0,gs.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,gs.jsx)("input",{type:"url",ref:c,autoFocus:!0,value:o.src||"",onChange:e=>t({src:e.target.value}),placeholder:"https://example.com/image.jpg",className:(0,hn.A)(w,"flex-1")}),l?(0,gs.jsxs)("label",{className:(0,hn.A)("text-xs px-2 py-1 rounded cursor-pointer",{"bg-slate-100 hover:bg-slate-200 border border-slate-300":!n,"btn btn-xs":n}),children:[p?"Uploading\u2026":"Upload",(0,gs.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:async e=>{if(!l)return;const n=e.target.files?.[0];if(n){m(!0);try{const e=await l(n);t({src:e})}finally{m(!1),e.currentTarget.value=""}}}})]}):null]}),(0,gs.jsxs)("span",{className:y,children:["Direct link to your image",l?" or use the Upload button":""]})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,gs.jsx)("label",{className:v,children:"Alt Text"}),h.length>0&&(0,gs.jsxs)("select",{className:(0,hn.A)("text-xs px-2 py-1 rounded",{"border border-gray-300 bg-white":!n,"select select-bordered select-xs rounded":n}),onChange:e=>{e.target.value&&x(d,o.alt||"",e.target.value,"alt"),e.currentTarget.selectedIndex=0},children:[(0,gs.jsx)("option",{value:"",children:"Insert variable"}),h.map(e=>(0,gs.jsx)("option",{value:e,children:e},e))]})]}),a&&(0,gs.jsx)(Lo,{label:"Variables in alt text",matches:b,daisyui:n}),(0,gs.jsx)("input",{type:"text",ref:d,value:o.alt||"",onChange:e=>t({alt:e.target.value}),placeholder:"Image description",className:w}),(0,gs.jsx)("span",{className:y,children:"Accessible description for screen readers"})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsxs)("div",{className:"flex items-center justify-between",children:[(0,gs.jsx)("label",{className:v,children:"Link URL (Optional)"}),h.length>0&&(0,gs.jsxs)("select",{className:(0,hn.A)("text-xs px-2 py-1 rounded",{"border border-gray-300 bg-white":!n,"select select-bordered select-xs rounded":n}),onChange:e=>{e.target.value&&x(u,o.href||"",e.target.value,"href"),e.currentTarget.selectedIndex=0},children:[(0,gs.jsx)("option",{value:"",children:"Insert variable"}),h.map(e=>(0,gs.jsx)("option",{value:e,children:e},e))]})]}),a&&(0,gs.jsx)(Lo,{label:"Variables in link URL",matches:f,daisyui:n}),(0,gs.jsx)("input",{type:"url",ref:u,value:o.href||"",onChange:e=>t({href:e.target.value}),placeholder:"https://example.com",className:w}),(0,gs.jsx)("span",{className:y,children:"Make the image clickable"})]}),(0,gs.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:v,children:"Width"}),(0,gs.jsx)("input",{type:"number",value:o.width??0,onChange:e=>t({width:Number(e.target.value)}),className:w,min:"0"}),(0,gs.jsx)("span",{className:y,children:"Pixels (0 for auto)"})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:v,children:"Height"}),(0,gs.jsx)("input",{type:"number",value:o.height??0,onChange:e=>t({height:Number(e.target.value)}),className:w,min:"0"}),(0,gs.jsx)("span",{className:y,children:"Pixels (0 for auto)"})]})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:v,children:"Placeholder URL"}),(0,gs.jsx)("input",{type:"url",value:o.placeholder||"",onChange:e=>t({placeholder:e.target.value}),placeholder:"Fallback URL used when Image URL is empty",className:w}),(0,gs.jsx)("span",{className:y,children:"Optional fallback when no Image URL is set"})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:v,children:"Alignment"}),(0,gs.jsxs)("select",{value:o.align||"center",onChange:e=>t({align:e.target.value}),className:k,children:[(0,gs.jsx)("option",{value:"left",children:"Left"}),(0,gs.jsx)("option",{value:"center",children:"Center"}),(0,gs.jsx)("option",{value:"right",children:"Right"})]})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:v,children:"Border Radius"}),(0,gs.jsx)("input",{type:"number",value:o.borderRadius||0,onChange:e=>t({borderRadius:Number(e.target.value)}),className:w,min:"0",max:"50"}),(0,gs.jsx)("span",{className:y,children:"Pixels (0 for sharp corners)"})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:v,children:"Margin"}),(0,gs.jsx)("input",{type:"text",value:o.margin||"12px 0",onChange:e=>t({margin:e.target.value}),placeholder:"12px 0",className:w}),(0,gs.jsx)("span",{className:y,children:"CSS margin (e.g., 12px 0)"})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:v,children:"Padding"}),(0,gs.jsx)(Wo,{value:o.padding,options:s,onChange:e=>t({padding:e}),disabled:r||e.locked,daisyui:n,allowClear:!0}),(0,gs.jsx)("span",{className:y,children:"Choose a preset padding or clear to inherit defaults."})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:v,children:"Class Name"}),(0,gs.jsx)("input",{type:"text",value:o.className??"",onChange:e=>t({className:e.target.value||void 0}),placeholder:"Custom image classes",className:w}),(0,gs.jsx)("span",{className:y,children:"Additional classes applied to the image element."})]})]})}function Go({className:e="",daisyui:t=!1,unlockable:n=!0,colors:s,textColors:r,bgColors:a,customBlockRegistry:o,paddingOptions:i,fonts:l,variableChecks:c=!1}){const{isMobileExperience:d}=ws(),{document:u,setDocument:p,selectedBlockId:m,selectedBlock:h,selectedContainer:g,selectBlock:b,selectContainer:f,updateBlockProps:x,updateContainerProps:v}=ws(),[y,w]=(0,Bn.useState)(!1),[k,j]=(0,Bn.useState)(!1),N=(0,Bn.useMemo)(()=>i&&i.length>0?i.map(e=>({...e})):yn(),[i]),C=(0,Bn.useCallback)(()=>{if(!m)return!1;if(h?.locked)return!0;for(const e of u.sections){if(e.locked)for(const t of e.rows)for(const e of t.columns)if(e.blocks.some(e=>e.id===m))return!0;for(const t of e.rows){if(t.locked)for(const e of t.columns)if(e.blocks.some(e=>e.id===m))return!0;for(const e of t.columns)if(e.locked&&e.blocks.some(e=>e.id===m))return!0}}return!1},[m,h,u.sections])(),_=()=>{b(null),f(null)},A=(0,Bn.useCallback)((e,t)=>{x(e,t)},[x]),S=(0,Bn.useCallback)(()=>{m&&h&&x(m,{locked:!h.locked})},[m,h,x]),I=(0,Bn.useCallback)(()=>{m&&h&&x(m,{hidden:!h.hidden})},[m,h,x]),$=(0,Bn.useCallback)(()=>{if(!m)return;const e=qr(u.sections,m);p({...u,sections:e}),w(!1),b(null)},[u,m,b,p]);if(!h&&!g)return null;const M=e=>{switch(e){case"text":return"Text";case"button":return"Button";case"image":return"Image";case"heading":return"Heading";case"divider":return"Divider";default:return e.charAt(0).toUpperCase()+e.slice(1)}},R=e=>{switch(e){case"section":return"Section";case"row":return"Row";case"column":return"Column";default:return"Container"}};return(0,gs.jsxs)("div",{className:(0,hn.A)("fixed inset-0 z-50 flex items-end justify-end",e),children:[(0,gs.jsx)("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[2px] cursor-pointer animate-[fade-in_0.3s_ease-out]",onClick:_}),(0,gs.jsxs)("div",{className:(0,hn.A)("relative w-[400px] max-w-[90vw] h-full flex flex-col border-l shadow-[ -20px_0_25px_-5px_rgba(0,0,0,0.1),_-8px_0_10px_-6px_rgba(0,0,0,0.1)] animate-[slide-in-right_0.3s_cubic-bezier(0.4,0,0.2,1)]",{"bg-white border-gray-200":!t,"bg-base-100 border-base-200":t}),children:[(0,gs.jsxs)("div",{className:(0,hn.A)("sticky top-0 z-10 flex items-start justify-between px-5 pt-6 pb-4 border-b",{"border-gray-100 bg-[#fafafa]":!t,"border-base-200 bg-base-200":t}),children:[(0,gs.jsxs)("div",{children:[(0,gs.jsx)("h3",{className:(0,hn.A)("text-lg font-semibold m-0 leading-snug",{"text-gray-900":!t,"text-base-content":t}),children:h?`${M(h.type)} Properties`:g?`${R(g.kind)} Settings`:"Properties"}),(0,gs.jsx)("p",{className:(0,hn.A)("text-sm mt-1",{"text-gray-500":!t,"text-base-content/60":t}),children:h?`Customize your ${h.type} block`:g?`Customize this ${R(g.kind).toLowerCase()}`:""})]}),(0,gs.jsx)("button",{type:"button",onClick:_,className:(0,hn.A)("rounded-md inline-flex items-center justify-center -mt-0.5 transition",d?"min-h-[44px] min-w-[44px] p-2":"p-1.5",{"text-gray-400 hover:bg-gray-100 hover:text-gray-700 active:bg-gray-200":!t,"text-base-content/60 hover:bg-base-200 hover:text-base-content active:bg-base-300":t}),"aria-label":"Close properties panel",children:(0,gs.jsx)(Do.X,{size:20})})]}),(0,gs.jsx)("div",{className:"p-6 pb-8 overflow-y-auto flex-1",children:h?(0,gs.jsxs)(gs.Fragment,{children:[C&&(0,gs.jsxs)("div",{className:(0,hn.A)("mb-6 p-4 rounded-lg border-l-4 text-sm",{"bg-gray-50 border-gray-400 text-gray-700":!t,"bg-base-200 border-base-content/40 text-base-content/80":t}),children:[(0,gs.jsx)("div",{className:"font-medium mb-1",children:n?"Read-only mode":"Template-locked content"}),(0,gs.jsx)("div",{className:(0,hn.A)("text-xs",{"text-gray-600":!t,"text-base-content/70":t}),children:n?h.locked?"Unlock this block to edit its properties":"This block is in a locked container and cannot be edited":"This element is locked by the template and cannot be unlocked"})]}),(0,gs.jsx)("div",{className:(0,hn.A)({"opacity-60":C}),children:(()=>{if(!h)return null;switch(h.type){case"text":return(0,gs.jsx)(Jo,{block:h,onUpdate:e=>A(h.id,e),daisyui:t,colors:s,textColors:r,paddingOptions:N,fonts:l,disabled:C,variableChecks:c});case"button":return(0,gs.jsx)(Ko,{block:h,onUpdate:e=>A(h.id,e),daisyui:t,colors:a??s,textColors:r,paddingOptions:N,fonts:l,disabled:C,variableChecks:c});case"image":return(0,gs.jsx)(qo,{block:h,onUpdate:e=>A(h.id,e),daisyui:t,paddingOptions:N,disabled:C,variableChecks:c});case"heading":return(0,gs.jsx)(Uo,{block:h,onUpdate:e=>A(h.id,e),daisyui:t,colors:s,textColors:r,paddingOptions:N,fonts:l,disabled:C,variableChecks:c});case"custom":{const e=h,n=e.props,i=n.componentName,l=o?.[i],c=l?.propEditor;if(!c)return(0,gs.jsx)("div",{className:(0,hn.A)("text-sm text-center p-8 italic",{"text-gray-500":!t,"text-base-content/60":t}),children:l?`No property editor defined for ${i}. The block is read-only.`:`Add a custom block definition for ${i} to edit its props.`});const d=n.props??{},u=t=>{C||x(e.id,{componentName:i,props:{...d,...t}})},p=t=>{C||x(e.id,{componentName:i,props:t})};return(0,gs.jsx)(c,{block:e,value:d,onChange:u,onReplace:p,daisyui:t,colors:s,textColors:r,bgColors:a,disabled:C,paddingOptions:N})}case"divider":return(0,gs.jsx)("div",{className:(0,hn.A)("text-sm text-center p-8 italic",{"text-gray-500":!t,"text-base-content/60":t}),children:"Divider properties coming soon..."});default:return(0,gs.jsx)("div",{className:(0,hn.A)("text-sm text-center p-8 italic",{"text-gray-500":!t,"text-base-content/60":t}),children:"Properties for this block type are not yet supported."})}})()}),n&&(0,gs.jsx)(Vo,{locked:!!h.locked,onToggle:S,daisyui:t}),(0,gs.jsx)(Ho,{hidden:!!h.hidden,onToggle:I,daisyui:t}),h&&["text","button","image","heading","divider","custom"].includes(h.type)&&!C?(0,gs.jsx)("div",{className:(0,hn.A)("mt-6 pt-4 border-t",{"border-gray-100":!t,"border-base-200":t}),children:(0,gs.jsxs)("button",{type:"button",onClick:()=>w(!0),className:(0,hn.A)("w-full inline-flex items-center justify-center gap-2 rounded-md transition",d?"min-h-[44px] px-4 py-3":"px-4 py-2",{"bg-red-600 text-white hover:bg-red-700":!t,"btn btn-error":t}),children:[(0,gs.jsx)(lr.u,{size:18}),"Delete this block"]})}):null]}):(()=>{if(!g)return null;const e=(0,hn.A)("block text-sm font-medium mb-2 leading-snug",{"text-gray-700":!t,"text-base-content/80":t}),r=(0,hn.A)("block text-xs mt-1",{"text-gray-500":!t,"text-base-content/60":t}),o=(0,hn.A)("w-full px-3 py-2 rounded-md text-sm transition focus:outline-none",{"border border-gray-300 bg-white hover:border-gray-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/10":!t,"border border-base-300 bg-base-100 text-base-content hover:border-primary/50 focus:border-primary focus:ring-2 focus:ring-primary/10":t}),i=(0,hn.A)(o,"cursor-pointer pr-10");if("section"===g.kind){const l=u.sections.find(e=>e.id===g.id);if(!l)return null;const c=!!l.locked,d=!!l.hidden;return(0,gs.jsxs)("fieldset",{className:"space-y-6",disabled:c,children:[(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:e,children:"Background"}),(0,gs.jsxs)("div",{className:"flex items-center gap-3",children:[(0,gs.jsx)(Zo,{value:l.backgroundColor,valueClassName:l.backgroundClassName,onChange:(e,t)=>{const n=null!=t?.className?void 0:t?.hex??e??void 0;v({kind:"section",id:l.id,props:{backgroundColor:n,backgroundClassName:t?.className}})},colors:a??s,daisyui:t,disabled:c}),(0,gs.jsx)("input",{type:"text",value:l.backgroundColor??"",onChange:e=>v({kind:"section",id:l.id,props:{backgroundColor:e.target.value||void 0,backgroundClassName:void 0}}),className:o,placeholder:"#ffffff or transparent"})]})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:e,children:"Alignment"}),(0,gs.jsxs)("select",{value:l.align??"left",onChange:e=>v({kind:"section",id:l.id,props:{align:e.target.value}}),className:i,disabled:c,children:[(0,gs.jsx)("option",{value:"left",children:"Left"}),(0,gs.jsx)("option",{value:"center",children:"Center"}),(0,gs.jsx)("option",{value:"right",children:"Right"}),(0,gs.jsx)("option",{value:"justify",children:"Justify"})]})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:e,children:"Padding"}),(0,gs.jsx)(Wo,{value:l.padding,options:N,onChange:e=>v({kind:"section",id:l.id,props:{padding:e}}),disabled:c,daisyui:t,allowClear:!0}),(0,gs.jsx)("span",{className:r,children:"Choose a preset padding or clear to inherit defaults."})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:e,children:"Margin"}),(0,gs.jsx)(Wo,{value:l.margin,options:N,onChange:e=>v({kind:"section",id:l.id,props:{margin:e}}),disabled:c,daisyui:t,allowClear:!0}),(0,gs.jsx)("span",{className:r,children:"Space around the section. Use presets or expand Advanced for custom values."})]}),(0,gs.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,gs.jsxs)("button",{type:"button",onClick:()=>j(!k),className:(0,hn.A)("text-sm font-medium mb-3 flex items-center gap-2",{"text-gray-700 hover:text-gray-900":!t,"text-base-content/80 hover:text-base-content":t}),children:[(0,gs.jsx)(Po.b,{size:16,className:(0,hn.A)("transition-transform",{"rotate-180":k})}),"Advanced Settings"]}),k&&(0,gs.jsxs)("div",{className:"space-y-4 pl-6",children:[(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:e,children:"Custom Margin"}),(0,gs.jsx)("input",{type:"text",value:On(l.margin),onChange:e=>v({kind:"section",id:l.id,props:{margin:Tn(e.target.value)}}),className:o,placeholder:"e.g. 0 or 0 auto",disabled:c}),(0,gs.jsx)("span",{className:r,children:"CSS margin value or Tailwind token."})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:e,children:"Background Class"}),(0,gs.jsx)("input",{type:"text",value:l.backgroundClassName??"",onChange:e=>v({kind:"section",id:l.id,props:{backgroundClassName:e.target.value||void 0}}),className:o,placeholder:"e.g. bg-base-200"}),(0,gs.jsx)("span",{className:r,children:"Tailwind background class (overrides color picker)."})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:e,children:"Class Name"}),(0,gs.jsx)("input",{type:"text",value:l.className??"",onChange:e=>v({kind:"section",id:l.id,props:{className:e.target.value}}),className:o,placeholder:"Custom Tailwind classes"}),(0,gs.jsx)("span",{className:r,children:"Additional CSS classes for advanced styling."})]})]})]}),n&&(0,gs.jsx)(Vo,{locked:c,daisyui:t,onToggle:()=>v({kind:"section",id:l.id,props:{locked:!c}})}),(0,gs.jsx)(Ho,{hidden:d,daisyui:t,onToggle:()=>v({kind:"section",id:l.id,props:{hidden:!d}})})]})}if("row"===g.kind){const l=(e=>{for(const t of u.sections){const n=t.rows.find(t=>t.id===e);if(n)return{row:n,section:t}}return null})(g.id);if(!l)return null;const{row:c,section:d}=l,p=!(!c.locked&&!d.locked),m=!!c.hidden,h=c.columns.length>1;return(0,gs.jsxs)("fieldset",{className:"space-y-6",disabled:p,children:[(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:e,children:"Background"}),(0,gs.jsxs)("div",{className:"flex items-center gap-3",children:[(0,gs.jsx)(Zo,{value:c.backgroundColor,valueClassName:c.backgroundClassName,onChange:(e,t)=>{const n=null!=t?.className?void 0:t?.hex??e??void 0;v({kind:"row",id:c.id,props:{backgroundColor:n,backgroundClassName:t?.className}})},colors:a??s,daisyui:t,disabled:p}),(0,gs.jsx)("input",{type:"text",value:c.backgroundColor??"",onChange:e=>v({kind:"row",id:c.id,props:{backgroundColor:e.target.value||void 0,backgroundClassName:void 0}}),className:o,placeholder:"#f8fafc"})]})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:e,children:"Alignment"}),(0,gs.jsxs)("select",{value:c.align??"left",onChange:e=>v({kind:"row",id:c.id,props:{align:e.target.value}}),className:i,disabled:p,children:[(0,gs.jsx)("option",{value:"left",children:"Left"}),(0,gs.jsx)("option",{value:"center",children:"Center"}),(0,gs.jsx)("option",{value:"right",children:"Right"}),(0,gs.jsx)("option",{value:"justify",children:"Justify"})]})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:e,children:"Padding"}),(0,gs.jsx)(Wo,{value:c.padding,options:N,onChange:e=>v({kind:"row",id:c.id,props:{padding:e}}),disabled:p,daisyui:t,allowClear:!0}),(0,gs.jsx)("span",{className:r,children:"Choose a preset padding or clear to inherit defaults."})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:e,children:"Margin"}),(0,gs.jsx)(Wo,{value:c.margin,options:N,onChange:e=>v({kind:"row",id:c.id,props:{margin:e}}),disabled:p,daisyui:t,allowClear:!0}),(0,gs.jsx)("span",{className:r,children:"Space around the row. Use presets or expand Advanced for custom values."})]}),h&&(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:e,children:"Column Gap (px)"}),(0,gs.jsx)("input",{type:"number",value:c.gutter??16,onChange:e=>v({kind:"row",id:c.id,props:{gutter:Number(e.target.value)}}),className:o,min:"0"}),(0,gs.jsx)("span",{className:r,children:"Space between columns in this row."})]}),(0,gs.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,gs.jsxs)("button",{type:"button",onClick:()=>j(!k),className:(0,hn.A)("text-sm font-medium mb-3 flex items-center gap-2",{"text-gray-700 hover:text-gray-900":!t,"text-base-content/80 hover:text-base-content":t}),children:[(0,gs.jsx)(Po.b,{size:16,className:(0,hn.A)("transition-transform",{"rotate-180":k})}),"Advanced Settings"]}),k&&(0,gs.jsxs)("div",{className:"space-y-4 pl-6",children:[(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:e,children:"Custom Margin"}),(0,gs.jsx)("input",{type:"text",value:On(c.margin),onChange:e=>v({kind:"row",id:c.id,props:{margin:Tn(e.target.value)}}),className:o,placeholder:"e.g. 0",disabled:p}),(0,gs.jsx)("span",{className:r,children:"CSS margin value or Tailwind token."})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:e,children:"Background Class"}),(0,gs.jsx)("input",{type:"text",value:c.backgroundClassName??"",onChange:e=>v({kind:"row",id:c.id,props:{backgroundClassName:e.target.value||void 0}}),className:o,placeholder:"e.g. bg-muted"}),(0,gs.jsx)("span",{className:r,children:"Tailwind background class (overrides color picker)."})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:e,children:"Class Name"}),(0,gs.jsx)("input",{type:"text",value:c.className??"",onChange:e=>v({kind:"row",id:c.id,props:{className:e.target.value}}),className:o,placeholder:"Custom Tailwind classes"}),(0,gs.jsx)("span",{className:r,children:"Additional CSS classes for advanced styling."})]})]})]}),n&&(0,gs.jsx)(Vo,{locked:!!c.locked,daisyui:t,onToggle:()=>v({kind:"row",id:c.id,props:{locked:!c.locked}})}),(0,gs.jsx)(Ho,{hidden:m,daisyui:t,onToggle:()=>v({kind:"row",id:c.id,props:{hidden:!m}})})]})}if("column"===g.kind){const l=(e=>{for(const t of u.sections)for(const n of t.rows){const s=n.columns.find(t=>t.id===e);if(s)return{column:s,row:n,section:t}}return null})(g.id);if(!l)return null;const{column:c,row:d,section:p}=l,m=!!(c.locked||d.locked||p.locked),h=!!c.hidden,b=d.columns.length>1;return(0,gs.jsxs)("fieldset",{className:"space-y-6",disabled:m,children:[(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:e,children:"Background"}),(0,gs.jsxs)("div",{className:"flex items-center gap-3",children:[(0,gs.jsx)(Zo,{value:c.backgroundColor,valueClassName:c.backgroundClassName,onChange:(e,t)=>{const n=null!=t?.className?void 0:t?.hex??e??void 0;v({kind:"column",id:c.id,props:{backgroundColor:n,backgroundClassName:t?.className}})},colors:a??s,daisyui:t,disabled:m}),(0,gs.jsx)("input",{type:"text",value:c.backgroundColor??"",onChange:e=>v({kind:"column",id:c.id,props:{backgroundColor:e.target.value||void 0,backgroundClassName:void 0}}),className:o,placeholder:"#ffffff"})]})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:e,children:"Alignment"}),(0,gs.jsxs)("select",{value:c.align??"left",onChange:e=>v({kind:"column",id:c.id,props:{align:e.target.value}}),className:i,disabled:m,children:[(0,gs.jsx)("option",{value:"left",children:"Left"}),(0,gs.jsx)("option",{value:"center",children:"Center"}),(0,gs.jsx)("option",{value:"right",children:"Right"}),(0,gs.jsx)("option",{value:"justify",children:"Justify"})]})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:e,children:"Padding"}),(0,gs.jsx)(Wo,{value:c.padding,options:N,onChange:e=>v({kind:"column",id:c.id,props:{padding:e}}),disabled:m,daisyui:t,allowClear:!0}),(0,gs.jsx)("span",{className:r,children:"Choose a preset padding or clear to inherit defaults."})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:e,children:"Margin"}),(0,gs.jsx)(Wo,{value:c.margin,options:N,onChange:e=>v({kind:"column",id:c.id,props:{margin:e}}),disabled:m,daisyui:t,allowClear:!0}),(0,gs.jsx)("span",{className:r,children:"Space around the column. Use presets or expand Advanced for custom values."})]}),b&&(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:e,children:"Width (flex basis)"}),(0,gs.jsx)("input",{type:"number",value:c.width??1,onChange:e=>v({kind:"column",id:c.id,props:{width:Number(e.target.value)}}),className:o,min:"0"}),(0,gs.jsx)("span",{className:r,children:"Relative width compared to other columns. Equal values = equal widths."})]}),(0,gs.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,gs.jsxs)("button",{type:"button",onClick:()=>j(!k),className:(0,hn.A)("text-sm font-medium mb-3 flex items-center gap-2",{"text-gray-700 hover:text-gray-900":!t,"text-base-content/80 hover:text-base-content":t}),children:[(0,gs.jsx)(Po.b,{size:16,className:(0,hn.A)("transition-transform",{"rotate-180":k})}),"Advanced Settings"]}),k&&(0,gs.jsxs)("div",{className:"space-y-4 pl-6",children:[(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:e,children:"Custom Margin"}),(0,gs.jsx)("input",{type:"text",value:On(c.margin),onChange:e=>v({kind:"column",id:c.id,props:{margin:Tn(e.target.value)}}),className:o,placeholder:"e.g. 0",disabled:m}),(0,gs.jsx)("span",{className:r,children:"CSS margin value or Tailwind token."})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:e,children:"Background Class"}),(0,gs.jsx)("input",{type:"text",value:c.backgroundClassName??"",onChange:e=>v({kind:"column",id:c.id,props:{backgroundClassName:e.target.value||void 0}}),className:o,placeholder:"e.g. bg-primary"}),(0,gs.jsx)("span",{className:r,children:"Tailwind background class (overrides color picker)."})]}),(0,gs.jsxs)("div",{children:[(0,gs.jsx)("label",{className:e,children:"Class Name"}),(0,gs.jsx)("input",{type:"text",value:c.className??"",onChange:e=>v({kind:"column",id:c.id,props:{className:e.target.value}}),className:o,placeholder:"Custom Tailwind classes"}),(0,gs.jsx)("span",{className:r,children:"Additional CSS classes for advanced styling."})]})]})]}),n&&(0,gs.jsx)(Vo,{locked:!!c.locked,daisyui:t,onToggle:()=>v({kind:"column",id:c.id,props:{locked:!c.locked}})}),(0,gs.jsx)(Ho,{hidden:h,daisyui:t,onToggle:()=>v({kind:"column",id:c.id,props:{hidden:!h}})})]})}return null})()}),(0,gs.jsx)(kr,{open:y,daisyui:t,title:"Delete block?",description:h?`This will remove the ${M(h.type)} block.`:"This will remove the selected element.",confirmLabel:"Delete",onCancel:()=>w(!1),onConfirm:$}),h||g?(0,gs.jsx)("div",{className:(0,hn.A)("sticky bottom-0 left-0 right-0 p-4 border-t",{"border-gray-100 bg-white":!t,"border-base-200 bg-base-100":t}),children:(0,gs.jsx)("button",{type:"button",onClick:_,className:(0,hn.A)("w-full inline-flex items-center justify-center gap-2 rounded-md transition",d?"min-h-[44px] px-4 py-3":"px-4 py-2",{"bg-green-500 text-white hover:bg-green-600":!t,"btn btn-primary":t}),children:"Save & Close"})}):null]})]})}function Yo(e){const{showHeader:t=!0,className:n,daisyui:s=!1,colorMode:r="hierarchy",colorModeDepth:a=null,unlockable:o=!0,showHidden:i=!1,sideBarColumns:l=2,initialDocument:c,onDocumentChange:d,colors:u,textColors:p,bgColors:m,customBlocks:h=[],padding:g,fonts:b,blocks:f,variablesLocked:x=!1,headerItems:v,mobileBreakpoint:y=768,forceMobileLayout:w,forceDesktopLayout:k,showInlineInsertionControls:j,alwaysShowSidebar:N=!1,variableChecks:C=!1,headerVariableCheck:_=!1}=e,{document:A,setDocument:S,setLayoutMode:I,setForceLayoutMode:$,setShowInlineInsertion:M,isMobileExperience:R}=ws(),T=A.sections,[O,E]=(0,Bn.useState)(null),[B,z]=(0,Bn.useState)(null),F=(0,Bn.useMemo)(()=>[...Ca,...h],[h]),P=(0,Bn.useMemo)(()=>{if(!f||0===f.length)return F;const e=new Set(f),t=F.filter(t=>e.has(t.type));return console.log("[EmailEditor] Filtering blocks:",{requested:f,allBlockTypes:F.map(e=>e.type),filteredTypes:t.map(e=>e.type)}),t},[F,f]),D=(0,Bn.useMemo)(()=>{if(!f||0===f.length)return Na;const e=new Set(f);return Na.filter(t=>e.has(t.id))},[f]),Z=(0,Bn.useMemo)(()=>xr(P),[P]),L=(0,Bn.useMemo)(()=>vr(F),[F]),W=(0,Bn.useMemo)(()=>vn(g),[g]);(0,Bn.useEffect)(()=>{if(void 0!==w||void 0!==k)return void $(w?"mobile":k?"desktop":null);const e=window.matchMedia(`(max-width: ${y}px)`),t=()=>{I(e.matches?"mobile":"desktop")};return t(),e.addEventListener?(e.addEventListener("change",t),()=>e.removeEventListener("change",t)):(e.addListener(t),()=>e.removeListener(t))},[y,w,k,I,$]),(0,Bn.useEffect)(()=>{M(void 0!==j?j:R)},[j,R,M]);const V=(e,t)=>{const n=e.active.rect.current,s=n.translated||n.initial;if(s&&null!=s.left&&null!=s.top&&null!=s.width&&null!=s.height){return{x:s.left+s.width/2,y:s.top+s.height/2}}return t?{x:t.left+t.width/2,y:t.top+t.height/2}:{x:0,y:0}},H=e=>{for(const t of T)for(const n of t.rows){const s=n.columns.find(t=>t.id===e);if(s){const e=!!(s.locked||n.locked||t.locked),r=!i&&!!(s.hidden||n.hidden||t.hidden);return e||r}}return!1},U=e=>{for(const t of T){const n=t.rows.find(t=>t.id===e);if(n){const e=!(!n.locked&&!t.locked),s=!(i||!n.hidden&&!t.hidden);return e||s}}return!1},J=e=>{const t=T.find(t=>t.id===e);if(t){const e=!!t.locked,n=!i&&!!t.hidden;return e||n}return!1},K=(0,ar.FR)((0,ar.MS)(ar.AN,{activationConstraint:{distance:8}}),(0,ar.MS)(ar.IG,{activationConstraint:{delay:150,tolerance:8}}));(0,Bn.useEffect)(()=>{c&&(Yn(A,c)||S(c,{replaceHistory:!0,markAsSaved:!0}))},[c,S,A]);const q=(0,Bn.useCallback)(e=>{const t=e(T);if(t===T)return;const n={...A,sections:t};S(n),d&&d(hs(n))},[A,S,d,T]),G=(0,Bn.useCallback)(()=>{q(e=>[...e,qn()])},[q]),Y=(0,Bn.useCallback)((e,t=1,n)=>{q(s=>void 0!==n?_r(s,e,t,n):Cr(s,e,t))},[q]),X=(0,Bn.useCallback)((e,t=1,n)=>{q(s=>s.map(s=>({...s,rows:s.rows.map(s=>{if(s.id!==e)return s;const r=Array.from({length:t},()=>ss());if(void 0!==n){const e=[...s.columns];return e.splice(n,0,...r),{...s,columns:e}}return{...s,columns:[...s.columns,...r]}})})))},[q]),Q=(0,Bn.useCallback)((e,t,n)=>{const s=jr(`block-${t}`,Z,p??u);s?q(t=>void 0!==n?Ir(t,e,s,n):Sr(t,e,s)):console.warn("Unsupported block key:",t)},[q,Z,p,u]);return(0,gs.jsxs)(ar.Mp,{sensors:K,collisionDetection:ar.TT,onDragStart:e=>{const t=String(e.active.id),n=e.active.data.current;E(t),z(n||null),console.log("\ud83d\udfe2 DRAG START:",{activeId:t,activeData:n})},onDragEnd:e=>{if(E(null),z(null),!e.over)return;const t=String(e.active.id),n=String(e.over.id),s=e.active.data.current,r=e.over.data.current;if(console.log("\ud83d\udd34 DRAG END:",{activeId:t,overId:n,activeType:s?.type,overType:r?.type,activeData:s,overData:r}),n.startsWith("sidebar-drop-")){const e=n.replace("sidebar-drop-","");if(t===e)return void console.log("\ud83d\udeab Drop cancelled - returned to original sidebar position:",{activeId:t,originalId:e})}if(t.startsWith("structure-")){if("canvas-row-dropzone"===r?.type&&"structure-section"!==t){if(J(r.sectionId))return void console.log("\ud83d\udeab Cannot add row to disabled section");const e=Nr(t);return void q(t=>_r(t,r.sectionId,e,r.index))}const s=e.over?.rect,a=V(e,s),o=Hr(t,n,T,Z,{pointerY:a.y,overRect:s},p??u);return void(o?q(()=>o):console.log("\ud83d\udeab Drop not allowed:",{activeId:t,overId:n}))}if(t.startsWith("block-")){const s=jr(t,Z,p??u);if(!s)return void console.warn("Unsupported block dragged from sidebar:",t);if("canvas-block-dropzone"===r?.type)return H(r.columnId)?void console.log("\ud83d\udeab Cannot drop into disabled column"):void q(e=>Ir(e,r.columnId,s,r.index));if("canvas-block"===r?.type){const t=Er(T,r.blockId);if(!t)return;if(H(t.columnId))return void console.log("\ud83d\udeab Cannot drop into disabled column");const n=e.over?.rect,a=V(e,n),o=!!n&&a.y>n.top+n.height/2,i=t.blockIndex+(o?1:0);return void q(e=>Ir(e,t.columnId,s,i))}if("canvas-column"===r?.type){if(H(r.columnId))return void console.log("\ud83d\udeab Cannot drop into disabled column");const t=zr(T,r.columnId),n=e.over?.rect,a=V(e,n);let o=t?t.column.blocks.length:r.blockCount;if(n&&t){const e=a.y<n.top+n.height/2;o=e?0:t.column.blocks.length}return void q(e=>Ir(e,r.columnId,s,o))}if("canvas-row-container"===r?.type){if(U(r.rowId))return void console.log("\ud83d\udeab Cannot drop into disabled row");const t=Br(T,r.rowId);if(!t||0===t.row.columns.length)return;const n=e.over?.rect,a=V(e,n);let o=0;if(n){const e=Math.max(0,Math.min(a.x-n.left,n.width)),s=n.width>0?e/n.width:0;o=Math.min(t.row.columns.length-1,Math.max(0,Math.floor(s*t.row.columns.length)))}const i=t.row.columns[o].id;if(H(i))return void console.log("\ud83d\udeab Cannot drop into disabled column");const l=t.row.columns[o].blocks.length;return void q(e=>Ir(e,i,s,l))}if("canvas-section"===r?.type){if(J(r.sectionId))return void console.log("\ud83d\udeab Cannot drop into disabled section");const e=r.sectionId;return void q(t=>{let n=t;const r=n.findIndex(t=>t.id===e);if(-1!==r){0===n[r].rows.length&&(n=Cr(n,e,1));const a=n.find(t=>t.id===e),o=a.rows[a.rows.length-1];if(!o||!o.columns||0===o.columns.length)return console.warn("Cannot add block to section: row has no columns"),t;if(U(o.id))return console.log("\ud83d\udeab Cannot drop into disabled row"),t;const i=o.columns[0].id;return H(i)?(console.log("\ud83d\udeab Cannot drop into disabled column"),t):Ir(n,i,s,1/0)}return t})}return void console.log("\ud83d\udeab Drop not allowed - no valid drop target:",{activeId:t,overId:n})}if("canvas-row-item"===s?.type){const t=Br(T,s.rowId);if(!t)return;if("canvas-row-dropzone"===r?.type)return J(r.sectionId)?void console.log("\ud83d\udeab Cannot move row to disabled section"):void q(e=>Dr(e,t.sectionId,r.sectionId,t.rowIndex,r.index));if("canvas"===n){const e=qn();return void q(n=>{const s=t.row;return[...n.map(e=>e.id!==t.sectionId?e:{...e,rows:e.rows.filter((e,n)=>n!==t.rowIndex)}),{...e,rows:[s]}]})}if("canvas-row-item"===r?.type){const n=Br(T,r.rowId);if(!n)return;if(J(n.sectionId))return void console.log("\ud83d\udeab Cannot move row to disabled section");const s=e.over?.rect,a=V(e,s),o=!!s&&a.y>s.top+s.height/2,i=n.rowIndex+(o?1:0);return void q(e=>Dr(e,t.sectionId,n.sectionId,t.rowIndex,i))}if("canvas-section"===r?.type)return J(r.sectionId)?void console.log("\ud83d\udeab Cannot move row to disabled section"):void q(e=>Dr(e,t.sectionId,r.sectionId,t.rowIndex,r.rowCount));if("canvas-column"===r?.type){const e=zr(T,r.columnId);if(!e)return;return void q(n=>Dr(n,t.sectionId,e.sectionId,t.rowIndex,e.rowIndex+1))}}if("canvas-column-item"===s?.type){const e=zr(T,s.columnId);if(!e)return;if("canvas"===n)return;if("canvas-column-item"===r?.type){const t=zr(T,r.columnId);if(!t)return;return void q(n=>Zr(n,e.sectionId,e.rowId,t.sectionId,t.rowId,e.columnIndex,t.columnIndex))}if("canvas-row-container"===r?.type)return U(r.rowId)?void console.log("\ud83d\udeab Cannot move column to disabled row"):void q(t=>Zr(t,e.sectionId,e.rowId,r.sectionId,r.rowId,e.columnIndex,r.columnCount))}if("canvas-block"===s?.type){const t=Er(T,s.blockId);if(!t)return;const{columnId:n,blockIndex:a}=t;if("canvas-block-dropzone"===r?.type)return H(r.columnId)?void console.log("\ud83d\udeab Cannot move block to disabled column"):void q(e=>Pr(e,n,r.columnId,a,r.index));if("canvas-block"===r?.type){const t=Er(T,r.blockId);if(!t)return;if(H(t.columnId))return void console.log("\ud83d\udeab Cannot move block to disabled column");const s=e.over?.rect,o=V(e,s),i=!!s&&o.y>s.top+s.height/2,l=t.blockIndex+(i?1:0);return void q(e=>Pr(e,n,t.columnId,a,l))}if("canvas-column"===r?.type){if(H(r.columnId))return void console.log("\ud83d\udeab Cannot move block to disabled column");const t=zr(T,r.columnId),s=e.over?.rect,o=V(e,s);let i=t?t.column.blocks.length:r.blockCount;if(s&&t){const e=o.y<s.top+s.height/2;i=e?0:t.column.blocks.length}return void q(e=>Pr(e,n,r.columnId,a,i))}if("canvas-row-container"===r?.type){if(U(r.rowId))return void console.log("\ud83d\udeab Cannot move block to disabled row");const t=Br(T,r.rowId);if(!t||0===t.row.columns.length)return;const s=e.over?.rect,o=V(e,s);let i=0;if(s){const e=Math.max(0,Math.min(o.x-s.left,s.width)),n=s.width>0?e/s.width:0;i=Math.min(t.row.columns.length-1,Math.max(0,Math.floor(n*t.row.columns.length)))}const l=t.row.columns[i].id;if(H(l))return void console.log("\ud83d\udeab Cannot move block to disabled column");const c=t.row.columns[i].blocks.length;return void q(e=>Pr(e,n,l,a,c))}}if("canvas-section-item"===s?.type){const t=Fr(T,s.sectionId);if(null===t)return;if("canvas-section"===r?.type){const n=Fr(T,r.sectionId);if(null===n)return;const s=e.over?.rect,a=V(e,s),o=n+(!!s&&a.y>s.top+s.height/2?1:0);return void q(e=>Lr(e,t,o))}if("canvas-section-item"===r?.type){const n=Fr(T,r.sectionId);if(null===n)return;const s=e.over?.rect,a=V(e,s),o=n+(!!s&&a.y>s.top+s.height/2?1:0);return void q(e=>Lr(e,t,o))}if("canvas"===n)return void q(e=>Lr(e,t,e.length-1))}},onDragCancel:()=>{E(null),z(null)},children:[(0,gs.jsxs)("div",{className:(0,hn.A)("w-full h-screen flex flex-col",n),children:[t&&(0,gs.jsx)(zo,{daisyui:s,headerItems:v,headerVariableCheck:_}),(0,gs.jsxs)("div",{className:"flex h-full overflow-hidden",children:[(!R||N)&&(0,gs.jsx)(_a,{columns:l,daisyui:s,blocks:P,structureItems:D,variablesLocked:x,hidden:R&&!N}),(0,gs.jsx)("div",{className:"flex-1 h-full overflow-auto",children:(0,gs.jsx)(va,{sections:T,daisyui:s,colorMode:r,colorModeDepth:a,unlockable:o,showHidden:i,customBlockRegistry:L,inlineInsertionMode:R&&(j??!0),inlineInsertionVariant:"icon-with-label",onAddSection:G,onAddRow:Y,onAddColumn:X,onAddBlock:Q,contentBlocks:P,structureItems:D})})]}),(0,gs.jsx)(Go,{daisyui:s,colors:u,textColors:p,bgColors:m,unlockable:o,customBlockRegistry:L,paddingOptions:W,fonts:b||A.theme?.fonts,variableChecks:C})]}),(0,gs.jsx)(ar.Hd,{dropAnimation:null,modifiers:[Fo.jw],children:O&&B?(()=>{if(O.startsWith("structure-")){const e=D.find(e=>e.id===O);if(e){const t=e.icon;return(0,gs.jsxs)("div",{className:(0,hn.A)("flex items-center gap-4",{"p-3 rounded-xl border border-dashed border-slate-900/10 bg-white text-slate-900 text-sm font-medium leading-5":!s}),style:{pointerEvents:"none",cursor:"grabbing"},children:[(0,gs.jsx)(t,{size:18,weight:"duotone"}),(0,gs.jsx)("span",{children:e.label})]})}}if(O.startsWith("block-")){const e=Z[O];if(e){const t=e.icon;return(0,gs.jsxs)("div",{className:(0,hn.A)("flex items-center gap-4",{"p-3 rounded-xl border border-dashed border-slate-900/10 bg-white text-slate-900 text-sm font-medium leading-5":!s}),style:{pointerEvents:"none",cursor:"grabbing"},children:[(0,gs.jsx)(t,{size:18,weight:"duotone"}),(0,gs.jsx)("span",{children:e.label})]})}}return(0,gs.jsx)("div",{className:(0,hn.A)("px-3 py-1.5 rounded-md text-sm shadow-lg",{"bg-slate-800 text-white":!s,"bg-base-200 text-base-content":s}),style:{pointerEvents:"none"},children:"Dragging..."})})():null})]})}const Xo=Ta,{Row:Qo,Column:ei,Section:ti}=Xo;function ni(...e){const t=e.filter(e=>Boolean(e&&e.trim())).join(" ");return t.length>0?t:void 0}function si(e,t){return e&&t?e.replace(/\{\{\s*([a-zA-Z0-9_\.\-]+)\s*\}\}/g,(e,n)=>Object.prototype.hasOwnProperty.call(t,n)?t[n]:`{{${n}}}`):e}function ri(e,t,n){const s=function(e,t){const n=JSON.parse(JSON.stringify(e));switch(n.type){case"button":{const e=n.props;return e.label=si(e.label,t)??e.label,e.href=si(e.href,t),n}case"text":{const e=n.props;return e.content=si(e.content,t)??e.content,n}case"heading":{const e=n.props;return e.content=si(e.content,t)??e.content,n}case"image":{const e=n.props;return e.src=si(e.src,t)??e.src,e.placeholder=si(e.placeholder,t)??e.placeholder,e.alt=si(e.alt,t),e.href=si(e.href,t),n}default:return n}}(e,t);switch(e.type){case"button":return(0,gs.jsx)(Os,{...s.props});case"text":return(0,gs.jsx)(rr,{...s.props});case"heading":return(0,gs.jsx)(Us,{...s.props});case"divider":return(0,gs.jsx)(Ds,{...e.props});case"image":return(0,gs.jsx)(Xs,{...s.props});case"custom":const t=e.props,r=n[t.componentName];if(r){const e=r.component;return(0,gs.jsx)(e,{...t.props})}return(0,gs.jsx)("div",{"data-component":t.componentName,children:t.componentName});default:return null}}function ai(e,t,n){const s={};null!=e.gutter&&(s.gap=`${e.gutter}px`),e.backgroundColor&&(s.backgroundColor=e.backgroundColor);const r=$n(e.padding),a=In(e.padding).filter(e=>!e.includes(":"));return r&&(s.padding=r),(0,gs.jsx)(Qo,{className:ni(e.backgroundClassName,e.className,a.join(" ")),style:s,children:e.columns.map(e=>function(e,t,n){const s={};e.backgroundColor&&(s.backgroundColor=e.backgroundColor);const r=$n(e.padding),a=In(e.padding).filter(e=>!e.includes(":"));return r&&(s.padding=r),null!=e.width&&(s.width=e.width),(0,gs.jsx)(ei,{className:ni(e.backgroundClassName,e.className,a.join(" ")),style:s,children:e.blocks.map(e=>(0,gs.jsx)("div",{children:ri(e,t,n)},e.id))},e.id)}(e,t,n))},e.id)}function oi(e,t,n={}){const s=function(e){if(!e)return;const t=Object.entries(e).reduce((e,[t,n])=>("string"==typeof n&&(e[t]=n),e),{});return Object.keys(t).length>0?t:void 0}(e.variables),r=s||t?{...s??{},...t??{}}:void 0,a=n.customBlockRegistry??(n.customBlocks?n.customBlocks.reduce((e,t)=>(e[t.defaults.componentName]=t,e),{}):{});return(0,gs.jsx)(gs.Fragment,{children:e.sections.map(e=>function(e,t,n){const s={};e.backgroundColor&&(s.backgroundColor=e.backgroundColor);const r=$n(e.padding),a=In(e.padding).filter(e=>!e.includes(":"));return r&&(s.padding=r),(0,gs.jsx)(ti,{className:ni(e.backgroundClassName,e.className,a.join(" ")),style:s,children:e.rows.map(e=>ai(e,t,n))},e.id)}(e,r,a))})}function ii(e){if(!e.sections||0===e.sections.length)return!1;for(const t of e.sections)if(t.rows&&0!==t.rows.length)for(const e of t.rows)if(!e.columns||0===e.columns.length)return!1;return!0}function li(e){if(!e||"object"!=typeof e)return!1;const t=e;if("number"!=typeof t.version||!t.meta||!Array.isArray(t.sections))return!1;if("string"!=typeof t.meta.title)return!1;const n=t.sections;for(const s of n)if(!ci(s))return!1;return!0}function ci(e){if(!e||"object"!=typeof e)return!1;const t=e;if("section"!==t.type||"string"!=typeof t.id||!Array.isArray(t.rows))return!1;for(const n of t.rows)if(!di(n))return!1;return!0}function di(e){if(!e||"object"!=typeof e)return!1;const t=e;if("row"!==t.type||"string"!=typeof t.id||!Array.isArray(t.columns))return!1;for(const n of t.columns)if(!ui(n))return!1;return!0}function ui(e){if(!e||"object"!=typeof e)return!1;const t=e;if("column"!==t.type||"string"!=typeof t.id||!Array.isArray(t.blocks))return!1;for(const n of t.blocks)if(!pi(n))return!1;return!0}function pi(e){if(!e||"object"!=typeof e)return!1;const t=e;if("string"!=typeof t.type||"string"!=typeof t.id||!t.props)return!1;return!!["button","text","heading","divider","image","custom"].includes(t.type)}function mi(e){return JSON.stringify(e,null,2)}}}]);