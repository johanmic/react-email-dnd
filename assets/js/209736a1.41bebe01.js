"use strict";(globalThis.webpackChunkreact_email_dnd_docs=globalThis.webpackChunkreact_email_dnd_docs||[]).push([[580],{5652:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"variables","title":"Variables","description":"Emails often need to hydrate user-specific data such as {{recipient.name}} or","source":"@site/docs/variables.md","sourceDirName":".","slug":"/variables","permalink":"/docs/variables","draft":false,"unlisted":false,"editUrl":"https://github.com/johanmic/react-email-dnd/tree/main/docs/docs/variables.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"getting-started","permalink":"/docs/getting-started"}}');var r=a(6106),s=a(9940);const t={},l="Variables",o={},d=[{value:"Defining Variables in the Editor",id:"defining-variables-in-the-editor",level:2},{value:"Rendering With Variables",id:"rendering-with-variables",level:2},{value:"Runtime Variables and Custom Blocks",id:"runtime-variables-and-custom-blocks",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"variables",children:"Variables"})}),"\n",(0,r.jsxs)(n.p,{children:["Emails often need to hydrate user-specific data such as ",(0,r.jsx)(n.code,{children:"{{recipient.name}}"})," or\n",(0,r.jsx)(n.code,{children:"{{event.location.name}}"}),". The editor and renderer collaborate to make these\nplaceholders safe and discoverable."]}),"\n",(0,r.jsx)(n.h2,{id:"defining-variables-in-the-editor",children:"Defining Variables in the Editor"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Open the Variables section in the sidebar and create key/value pairs. Nested\npaths can be represented with dot notation (for example ",(0,r.jsx)(n.code,{children:"event.name"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:["In any text, heading, button, or image field, use the variable picker to\ninsert a placeholder like ",(0,r.jsx)(n.code,{children:"{{event.name}}"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["When a field contains placeholders, the new ",(0,r.jsx)(n.strong,{children:"Variables detected"})," box shows\neach key and whether it currently exists. Missing values are flagged so you\ncan add them before exporting."]}),"\n",(0,r.jsx)(n.li,{children:"Blocks on the canvas display a curly-brace badge whenever placeholders are\npresent. Hover to see all keys referenced inside that block."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"These cues ensure template authors always know which variables still need\nvalues."}),"\n",(0,r.jsx)("img",{src:"/img/variables.png",alt:"Variable validation in the editor",width:"300"}),"\n",(0,r.jsx)(n.h2,{id:"rendering-with-variables",children:"Rendering With Variables"}),"\n",(0,r.jsxs)(n.p,{children:["At render-time you pass data via ",(0,r.jsx)(n.code,{children:"options.variables"}),". The resolver supports\nnested paths, arrays, and can enforce strict guarantees using the\n",(0,r.jsx)(n.code,{children:"throwOnMissingVariables"})," flag."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:'import { renderDocument } from "@react-email-dnd/renderer"\n\nconst { html } = renderDocument({\n  document,\n  options: {\n    format: "html",\n    variables: {\n      recipient: { name: "Riley" },\n      event: { name: "React Summit" },\n    },\n    throwOnMissingVariables: true,\n  },\n})\n'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"variables"})," can contain any serializable data. Arrays and nested objects can\nbe accessed with dot notation (",(0,r.jsx)(n.code,{children:"{{recipient.name}}"}),", ",(0,r.jsx)(n.code,{children:"{{agenda.0.topic}}"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:["When ",(0,r.jsx)(n.code,{children:"throwOnMissingVariables"})," is ",(0,r.jsx)(n.code,{children:"true"}),", the renderer raises an error if any\nplaceholder lacks a value. Disable it to keep unresolved placeholders intact."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"runtime-variables-and-custom-blocks",children:"Runtime Variables and Custom Blocks"}),"\n",(0,r.jsxs)(n.p,{children:["Dynamic variables passed to ",(0,r.jsx)(n.code,{children:"CanvasProvider"})," override the saved document\nvariables and are also exposed to custom block components. This lets you preview\nand render templates with live data without mutating the document itself."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:'<CanvasProvider initialDocument={doc} variables={{ preview_only: "Hello" }}>\n  <EmailEditor />\n</CanvasProvider>\n'})}),"\n",(0,r.jsx)(n.p,{children:"Combine runtime variables with the renderer options to keep previews and final\noutput in sync."})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},9940:(e,n,a)=>{a.d(n,{R:()=>t,x:()=>l});var i=a(7378);const r={},s=i.createContext(r);function t(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);