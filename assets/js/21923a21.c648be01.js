"use strict";(globalThis.webpackChunkreact_email_dnd_docs=globalThis.webpackChunkreact_email_dnd_docs||[]).push([[182],{8388:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"packages/editor/drag-and-drop-example","title":"Drag-and-Drop Example","description":"The @react-email-dnd example app (packages/editor/example) showcases how to wire the editor into a production-ready shell. The Vanilla route is a minimal drag-and-drop configuration that uses the shared Canvas document format, custom blocks, and live change callbacks.","source":"@site/docs/packages/editor/drag-and-drop-example.md","sourceDirName":"packages/editor","slug":"/packages/editor/drag-and-drop-example","permalink":"/docs/packages/editor/drag-and-drop-example","draft":false,"unlisted":false,"editUrl":"https://github.com/johanmic/react-email-dnd/tree/main/docs/docs/packages/editor/drag-and-drop-example.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"title":"Drag-and-Drop Example","sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Custom Components","permalink":"/docs/packages/editor/custom-components"},"next":{"title":"EmailEditor Props","permalink":"/docs/packages/editor/props"}}');var a=o(6106),s=o(9940);const r={title:"Drag-and-Drop Example",sidebar_position:6},i=void 0,c={},l=[{value:"Custom block registry",id:"custom-block-registry",level:3},{value:"Running the example locally",id:"running-the-example-locally",level:3}];function d(e){const n={code:"code",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"@react-email-dnd"})," example app (",(0,a.jsx)(n.code,{children:"packages/editor/example"}),") showcases how to wire the editor into a production-ready shell. The ",(0,a.jsx)(n.code,{children:"Vanilla"})," route is a minimal drag-and-drop configuration that uses the shared Canvas document format, custom blocks, and live change callbacks."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",metastring:'title="packages/editor/example/src/Vanilla.tsx"',children:"import { CanvasDocument, CanvasProvider, EmailEditor } from '@react-email-dnd';\nimport { customBlocks } from './components/custom-blocks';\nimport { advancedFonts as fonts } from './font-examples';\n\nconst testDocument: CanvasDocument = {\n  version: 1,\n  meta: { title: 'Font Rendering Test' },\n  variables: {},\n  theme: {\n    fonts: [\n      {\n        id: 'honk',\n        fontFamily: 'Honk',\n        fallbackFontFamily: 'system-ui, sans-serif',\n        webFont: {\n          url: 'https://fonts.gstatic.com/s/honk/v6/m8J7jftUea-XwTaemClumrBQbmvynOmXBji9zFhHRr8WFgV7pLFMWJEav63D.woff2',\n          format: 'woff2',\n        },\n        fontWeight: 400,\n        fontStyle: 'normal',\n      },\n    ],\n  },\n  sections: [\n    {\n      id: 'section-1',\n      type: 'section',\n      rows: [\n        {\n          id: 'row-1',\n          type: 'row',\n          gutter: 16,\n          padding: '6',\n          columns: [\n            {\n              id: 'column-1',\n              type: 'column',\n              padding: '4',\n              blocks: [\n                {\n                  id: 'heading-1',\n                  type: 'heading',\n                  props: {\n                    content: 'Most professional mail',\n                    as: 'h1',\n                    fontFamily: 'Honk',\n                  },\n                },\n                {\n                  id: 'text-1',\n                  type: 'text',\n                  props: {\n                    content: 'This is a very professional mail',\n                    fontFamily: 'Honk',\n                  },\n                },\n                {\n                  id: 'button-1',\n                  type: 'button',\n                  props: {\n                    label: 'Honk Font Button',\n                    backgroundColor: '#2563eb',\n                    fontFamily: 'Honk',\n                  },\n                },\n              ],\n            },\n          ],\n        },\n      ],\n    },\n  ],\n};\n\nexport const Vanilla = () => {\n  return (\n    <CanvasProvider\n      initialDocument={testDocument}\n      onSave={() => console.log('save')}\n      onDocumentChange={(document) => console.log('updated document', document)}\n    >\n      <EmailEditor customBlocks={customBlocks} fonts={fonts} showHidden />\n    </CanvasProvider>\n  );\n};\n"})}),"\n",(0,a.jsx)(n.p,{children:"Key pieces to replicate in your own host application:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"CanvasProvider"})," wraps the editor with undo/redo history, change events, and persistence helpers."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"EmailEditor"})," renders the palette, canvas, and property panels. Pass your ",(0,a.jsx)(n.code,{children:"customBlocks"})," registry and ",(0,a.jsx)(n.code,{children:"fonts"})," array to keep the editor aligned with renderer capabilities."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Initial document"})," seeds the canvas so users see an existing email instead of a blank slate."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"custom-block-registry",children:"Custom block registry"}),"\n",(0,a.jsxs)(n.p,{children:["The example exposes a ",(0,a.jsx)(n.code,{children:"HeroBanner"})," custom block that combines layout primitives from ",(0,a.jsx)(n.code,{children:"@react-email/components"}),". It registers both the rendered output and the property editor form in one definition:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",metastring:'title="packages/editor/example/src/components/custom-blocks.tsx"',children:"export const heroBlockDefinition: CustomBlockDefinition<HeroBlockProps> = {\n  id: 'hero-banner',\n  type: 'custom',\n  label: 'Hero Banner',\n  icon: SparkleIcon,\n  defaults: {\n    componentName: 'HeroBlock',\n    props: {\n      title: 'Launch something delightful',\n      description:\n        'Announce a promotion, product update, or new feature with a bold hero.',\n      ctaLabel: 'Shop now',\n      ctaHref: 'https://example.com',\n      backgroundColor: '#0ea5e9',\n      textColor: '#ffffff',\n    },\n  },\n  component: HeroBlock,\n  propEditor: HeroBlockPropsEditor,\n};\n"})}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"HeroBlockPropsEditor"})," implements a controlled form that pipes changes back into the editor JSON. Preview output is rendered directly in the canvas, so authors get instant feedback while adjusting settings."]}),"\n",(0,a.jsx)(n.h3,{id:"running-the-example-locally",children:"Running the example locally"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"cd packages/editor/example\npnpm install\npnpm dev\n"})}),"\n",(0,a.jsxs)(n.p,{children:["The dev server exposes ",(0,a.jsx)(n.code,{children:"/daisyui"})," and ",(0,a.jsx)(n.code,{children:"/vanilla"})," routes that you can adapt for your own design system and typography stacks."]})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},9940:(e,n,o)=>{o.d(n,{R:()=>r,x:()=>i});var t=o(7378);const a={},s=t.createContext(a);function r(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);